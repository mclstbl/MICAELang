<!DOCTYPE html>

<html>
<head>
  <title>parser.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>parser.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">require</span>=(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">t,n,r</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">o,u</span>)</span>{<span class="hljs-keyword">if</span>(!n[o]){<span class="hljs-keyword">if</span>(!t[o]){<span class="hljs-keyword">var</span> a=<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">require</span>==<span class="hljs-string">"function"</span>&amp;&amp;<span class="hljs-built_in">require</span>;<span class="hljs-keyword">if</span>(!u&amp;&amp;a)<span class="hljs-keyword">return</span> a(o,!<span class="hljs-number">0</span>);<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">return</span> i(o,!<span class="hljs-number">0</span>);<span class="hljs-keyword">var</span> f=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Cannot find module '"</span>+o+<span class="hljs-string">"'"</span>);<span class="hljs-keyword">throw</span> f.code=<span class="hljs-string">"MODULE_NOT_FOUND"</span>,f}<span class="hljs-keyword">var</span> l=n[o]={exports:{}};t[o][<span class="hljs-number">0</span>].call(l.exports,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> n=t[o][<span class="hljs-number">1</span>][e];<span class="hljs-keyword">return</span> s(n?n:e)},l,l.exports,e,t,n,r)}<span class="hljs-keyword">return</span> n[o].exports}<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">require</span>==<span class="hljs-string">"function"</span>&amp;&amp;<span class="hljs-built_in">require</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=<span class="hljs-number">0</span>;o&lt;r.length;o++)s(r[o]);<span class="hljs-keyword">return</span> s})({<span class="hljs-number">1</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/*! Copyright (c) 2011, Lloyd Hilaiel, ISC License */</span>
<span class="hljs-comment">/*
 * This is the JSONSelect reference implementation, in javascript.  This
 * code is designed to run under node.js or in a browser.  In the former
 * case, the "public API" is exposed as properties on the `export` object,
 * in the latter, as properties on `window.JSONSelect`.  That API is thus:
 *
 * Selector formating and parameter escaping:
 *
 * Anywhere where a string selector is selected, it may be followed by an
 * optional array of values.  When provided, they will be escaped and
 * inserted into the selector string properly escaped.  i.e.:
 *
 *   .match(':has(?)', [ 'foo' ], {}) 
 * 
 * would result in the seclector ':has("foo")' being matched against {}.
 *
 * This feature makes dynamically generated selectors more readable.
 *
 * .match(selector, [ values ], object)
 *
 *   Parses and "compiles" the selector, then matches it against the object
 *   argument.  Matches are returned in an array.  Throws an error when
 *   there's a problem parsing the selector.
 *
 * .forEach(selector, [ values ], object, callback)
 *
 *   Like match, but rather than returning an array, invokes the provided
 *   callback once per match as the matches are discovered. 
 * 
 * .compile(selector, [ values ]) 
 *
 *   Parses the selector and compiles it to an internal form, and returns
 *   an object which contains the compiled selector and has two properties:
 *   `match` and `forEach`.  These two functions work identically to the
 *   above, except they do not take a selector as an argument and instead
 *   use the compiled selector.
 *
 *   For cases where a complex selector is repeatedly used, this method
 *   should be faster as it will avoid recompiling the selector each time. 
 */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">exports</span>) </span>{

    <span class="hljs-keyword">var</span> <span class="hljs-comment">// localize references</span>
    toString = <span class="hljs-built_in">Object</span>.prototype.toString;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jsonParse</span>(<span class="hljs-params">str</span>) </span>{
      <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">if</span>(<span class="hljs-built_in">JSON</span> &amp;&amp; <span class="hljs-built_in">JSON</span>.parse){
              <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.parse(str);
          }
          <span class="hljs-keyword">return</span> (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Function</span>(<span class="hljs-string">"return "</span> + str))();
      } <span class="hljs-keyword">catch</span>(e) {
        te(<span class="hljs-string">"ijs"</span>, e.message);
      }
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>emitted error codes.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> errorCodes = {
        <span class="hljs-string">"bop"</span>:  <span class="hljs-string">"binary operator expected"</span>,
        <span class="hljs-string">"ee"</span>:   <span class="hljs-string">"expression expected"</span>,
        <span class="hljs-string">"epex"</span>: <span class="hljs-string">"closing paren expected ')'"</span>,
        <span class="hljs-string">"ijs"</span>:  <span class="hljs-string">"invalid json string"</span>,
        <span class="hljs-string">"mcp"</span>:  <span class="hljs-string">"missing closing paren"</span>,
        <span class="hljs-string">"mepf"</span>: <span class="hljs-string">"malformed expression in pseudo-function"</span>,
        <span class="hljs-string">"mexp"</span>: <span class="hljs-string">"multiple expressions not allowed"</span>,
        <span class="hljs-string">"mpc"</span>:  <span class="hljs-string">"multiple pseudo classes (:xxx) not allowed"</span>,
        <span class="hljs-string">"nmi"</span>:  <span class="hljs-string">"multiple ids not allowed"</span>,
        <span class="hljs-string">"pex"</span>:  <span class="hljs-string">"opening paren expected '('"</span>,
        <span class="hljs-string">"se"</span>:   <span class="hljs-string">"selector expected"</span>,
        <span class="hljs-string">"sex"</span>:  <span class="hljs-string">"string expected"</span>,
        <span class="hljs-string">"sra"</span>:  <span class="hljs-string">"string required after '.'"</span>,
        <span class="hljs-string">"uc"</span>:   <span class="hljs-string">"unrecognized char"</span>,
        <span class="hljs-string">"ucp"</span>:  <span class="hljs-string">"unexpected closing paren"</span>,
        <span class="hljs-string">"ujs"</span>:  <span class="hljs-string">"unclosed json string"</span>,
        <span class="hljs-string">"upc"</span>:  <span class="hljs-string">"unrecognized pseudo class"</span>
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>throw an error message</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">te</span>(<span class="hljs-params">ec, context</span>) </span>{
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(errorCodes[ec] + ( context &amp;&amp; <span class="hljs-string">" in '"</span> + context + <span class="hljs-string">"'"</span>));
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>THE LEXER</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> toks = {
        psc: <span class="hljs-number">1</span>, <span class="hljs-comment">// pseudo class</span>
        psf: <span class="hljs-number">2</span>, <span class="hljs-comment">// pseudo class function</span>
        typ: <span class="hljs-number">3</span>, <span class="hljs-comment">// type</span>
        str: <span class="hljs-number">4</span>, <span class="hljs-comment">// string</span>
        ide: <span class="hljs-number">5</span>  <span class="hljs-comment">// identifiers (or "classes", stuff after a dot)</span>
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>The primary lexing regular expression in jsonselect</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> pat = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(
        <span class="hljs-string">"^(?:"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>(1) whitespace</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-string">"([\\r\\n\\t\\ ]+)|"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>(2) one-char ops</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-string">"([~*,&gt;\\)\\(])|"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>(3) types names</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-string">"(string|boolean|null|array|object|number)|"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>(4) pseudo classes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-string">"(:(?:root|first-child|last-child|only-child))|"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>(5) pseudo functions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-string">"(:(?:nth-child|nth-last-child|has|expr|val|contains))|"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>(6) bogusly named pseudo something or others</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-string">"(:\\w+)|"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>(7 &amp; 8) identifiers and JSON strings</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-string">"(?:(\\.)?(\\\"(?:[^\\\\\\\"]|\\\\[^\\\"])*\\\"))|"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>(8) bogus JSON strings missing a trailing quote</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-string">"(\\\")|"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>(9) identifiers (unquoted)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-string">"\\.((?:[_a-zA-Z]|[^\\0-\\0177]|\\\\[^\\r\\n\\f0-9a-fA-F])(?:[_a-zA-Z0-9\\-]|[^\\u0000-\\u0177]|(?:\\\\[^\\r\\n\\f0-9a-fA-F]))*)"</span> +
        <span class="hljs-string">")"</span>
    );</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>A regular expression for matching “nth expressions” (see grammar, what :nth-child() eats)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> nthPat = <span class="hljs-regexp">/^\s*\(\s*(?:([+\-]?)([0-9]*)n\s*(?:([+\-])\s*([0-9]))?|(odd|even)|([+\-]?[0-9]+))\s*\)/</span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lex</span>(<span class="hljs-params">str, off</span>) </span>{
        <span class="hljs-keyword">if</span> (!off) off = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> m = pat.exec(str.substr(off));
        <span class="hljs-keyword">if</span> (!m) <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
        off+=m[<span class="hljs-number">0</span>].length;
        <span class="hljs-keyword">var</span> a;
        <span class="hljs-keyword">if</span> (m[<span class="hljs-number">1</span>]) a = [off, <span class="hljs-string">" "</span>];
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m[<span class="hljs-number">2</span>]) a = [off, m[<span class="hljs-number">0</span>]];
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m[<span class="hljs-number">3</span>]) a = [off, toks.typ, m[<span class="hljs-number">0</span>]];
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m[<span class="hljs-number">4</span>]) a = [off, toks.psc, m[<span class="hljs-number">0</span>]];
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m[<span class="hljs-number">5</span>]) a = [off, toks.psf, m[<span class="hljs-number">0</span>]];
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m[<span class="hljs-number">6</span>]) te(<span class="hljs-string">"upc"</span>, str);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m[<span class="hljs-number">8</span>]) a = [off, m[<span class="hljs-number">7</span>] ? toks.ide : toks.str, jsonParse(m[<span class="hljs-number">8</span>])];
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m[<span class="hljs-number">9</span>]) te(<span class="hljs-string">"ujs"</span>, str);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m[<span class="hljs-number">10</span>]) a = [off, toks.ide, m[<span class="hljs-number">10</span>].replace(<span class="hljs-regexp">/\\([^\r\n\f0-9a-fA-F])/g</span>,<span class="hljs-string">"$1"</span>)];
        <span class="hljs-keyword">return</span> a;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>THE EXPRESSION SUBSYSTEM</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-keyword">var</span> exprPat = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>skip and don’t capture leading whitespace</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-string">"^\\s*(?:"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>(1) simple vals</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-string">"(true|false|null)|"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>(2) numbers</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-string">"(-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)|"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>(3) strings</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-string">"(\"(?:[^\\]|\\[^\"])*\")|"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>(4) the ‘x’ value placeholder</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-string">"(x)|"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>(5) binops</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-string">"(&amp;&amp;|\\|\\||[\\$\\^&lt;&gt;!\\*]=|[=+\\-*/%&lt;&gt;])|"</span> +</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>(6) parens</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-string">"([\\(\\)])"</span> +
            <span class="hljs-string">")"</span>
    );

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">is</span>(<span class="hljs-params">o, t</span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> o === t; }
    <span class="hljs-keyword">var</span> operators = {
        <span class="hljs-string">'*'</span>:  [ <span class="hljs-number">9</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> lhs * rhs; } ],
        <span class="hljs-string">'/'</span>:  [ <span class="hljs-number">9</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> lhs / rhs; } ],
        <span class="hljs-string">'%'</span>:  [ <span class="hljs-number">9</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> lhs % rhs; } ],
        <span class="hljs-string">'+'</span>:  [ <span class="hljs-number">7</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> lhs + rhs; } ],
        <span class="hljs-string">'-'</span>:  [ <span class="hljs-number">7</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> lhs - rhs; } ],
        <span class="hljs-string">'&lt;='</span>: [ <span class="hljs-number">5</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> is(lhs, <span class="hljs-string">'number'</span>) &amp;&amp; is(rhs, <span class="hljs-string">'number'</span>) &amp;&amp; lhs &lt;= rhs; } ],
        <span class="hljs-string">'&gt;='</span>: [ <span class="hljs-number">5</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> is(lhs, <span class="hljs-string">'number'</span>) &amp;&amp; is(rhs, <span class="hljs-string">'number'</span>) &amp;&amp; lhs &gt;= rhs; } ],
        <span class="hljs-string">'$='</span>: [ <span class="hljs-number">5</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> is(lhs, <span class="hljs-string">'string'</span>) &amp;&amp; is(rhs, <span class="hljs-string">'string'</span>) &amp;&amp; lhs.lastIndexOf(rhs) === lhs.length - rhs.length; } ],
        <span class="hljs-string">'^='</span>: [ <span class="hljs-number">5</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> is(lhs, <span class="hljs-string">'string'</span>) &amp;&amp; is(rhs, <span class="hljs-string">'string'</span>) &amp;&amp; lhs.indexOf(rhs) === <span class="hljs-number">0</span>; } ],
        <span class="hljs-string">'*='</span>: [ <span class="hljs-number">5</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> is(lhs, <span class="hljs-string">'string'</span>) &amp;&amp; is(rhs, <span class="hljs-string">'string'</span>) &amp;&amp; lhs.indexOf(rhs) !== <span class="hljs-number">-1</span>; } ],
        <span class="hljs-string">'&gt;'</span>:  [ <span class="hljs-number">5</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> is(lhs, <span class="hljs-string">'number'</span>) &amp;&amp; is(rhs, <span class="hljs-string">'number'</span>) &amp;&amp; lhs &gt; rhs; } ],
        <span class="hljs-string">'&lt;'</span>:  [ <span class="hljs-number">5</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> is(lhs, <span class="hljs-string">'number'</span>) &amp;&amp; is(rhs, <span class="hljs-string">'number'</span>) &amp;&amp; lhs &lt; rhs; } ],
        <span class="hljs-string">'='</span>:  [ <span class="hljs-number">3</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> lhs === rhs; } ],
        <span class="hljs-string">'!='</span>: [ <span class="hljs-number">3</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> lhs !== rhs; } ],
        <span class="hljs-string">'&amp;&amp;'</span>: [ <span class="hljs-number">2</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> lhs &amp;&amp; rhs; } ],
        <span class="hljs-string">'||'</span>: [ <span class="hljs-number">1</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lhs, rhs</span>) </span>{ <span class="hljs-keyword">return</span> lhs || rhs; } ]
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">exprLex</span>(<span class="hljs-params">str, off</span>) </span>{
        <span class="hljs-keyword">var</span> v, m = exprPat.exec(str.substr(off));
        <span class="hljs-keyword">if</span> (m) {
            off += m[<span class="hljs-number">0</span>].length;
            v = m[<span class="hljs-number">1</span>] || m[<span class="hljs-number">2</span>] || m[<span class="hljs-number">3</span>] || m[<span class="hljs-number">5</span>] || m[<span class="hljs-number">6</span>];
            <span class="hljs-keyword">if</span> (m[<span class="hljs-number">1</span>] || m[<span class="hljs-number">2</span>] || m[<span class="hljs-number">3</span>]) <span class="hljs-keyword">return</span> [off, <span class="hljs-number">0</span>, jsonParse(v)];
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m[<span class="hljs-number">4</span>]) <span class="hljs-keyword">return</span> [off, <span class="hljs-number">0</span>, <span class="hljs-literal">undefined</span>];
            <span class="hljs-keyword">return</span> [off, v];
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">exprParse2</span>(<span class="hljs-params">str, off</span>) </span>{
        <span class="hljs-keyword">if</span> (!off) off = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>first we expect a value or a ‘(‘</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">var</span> l = exprLex(str, off),
            lhs;
        <span class="hljs-keyword">if</span> (l &amp;&amp; l[<span class="hljs-number">1</span>] === <span class="hljs-string">'('</span>) {
            lhs = exprParse2(str, l[<span class="hljs-number">0</span>]);
            <span class="hljs-keyword">var</span> p = exprLex(str, lhs[<span class="hljs-number">0</span>]);
            <span class="hljs-keyword">if</span> (!p || p[<span class="hljs-number">1</span>] !== <span class="hljs-string">')'</span>) te(<span class="hljs-string">'epex'</span>, str);
            off = p[<span class="hljs-number">0</span>];
            lhs = [ <span class="hljs-string">'('</span>, lhs[<span class="hljs-number">1</span>] ];
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!l || (l[<span class="hljs-number">1</span>] &amp;&amp; l[<span class="hljs-number">1</span>] != <span class="hljs-string">'x'</span>)) {
            te(<span class="hljs-string">"ee"</span>, str + <span class="hljs-string">" - "</span> + ( l[<span class="hljs-number">1</span>] &amp;&amp; l[<span class="hljs-number">1</span>] ));
        } <span class="hljs-keyword">else</span> {
            lhs = ((l[<span class="hljs-number">1</span>] === <span class="hljs-string">'x'</span>) ? <span class="hljs-literal">undefined</span> : l[<span class="hljs-number">2</span>]);
            off = l[<span class="hljs-number">0</span>];
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>now we expect a binary operator or a ‘)’</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">var</span> op = exprLex(str, off);
        <span class="hljs-keyword">if</span> (!op || op[<span class="hljs-number">1</span>] == <span class="hljs-string">')'</span>) <span class="hljs-keyword">return</span> [off, lhs];
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op[<span class="hljs-number">1</span>] == <span class="hljs-string">'x'</span> || !op[<span class="hljs-number">1</span>]) {
            te(<span class="hljs-string">'bop'</span>, str + <span class="hljs-string">" - "</span> + ( op[<span class="hljs-number">1</span>] &amp;&amp; op[<span class="hljs-number">1</span>] ));
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>tail recursion to fetch the rhs expression</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">var</span> rhs = exprParse2(str, op[<span class="hljs-number">0</span>]);
        off = rhs[<span class="hljs-number">0</span>];
        rhs = rhs[<span class="hljs-number">1</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>and now precedence!  how shall we put everything together?</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">var</span> v;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> rhs !== <span class="hljs-string">'object'</span> || rhs[<span class="hljs-number">0</span>] === <span class="hljs-string">'('</span> || operators[op[<span class="hljs-number">1</span>]][<span class="hljs-number">0</span>] &lt; operators[rhs[<span class="hljs-number">1</span>]][<span class="hljs-number">0</span>] ) {
            v = [lhs, op[<span class="hljs-number">1</span>], rhs];
        }
        <span class="hljs-keyword">else</span> {
            v = rhs;
            <span class="hljs-keyword">while</span> (<span class="hljs-keyword">typeof</span> rhs[<span class="hljs-number">0</span>] === <span class="hljs-string">'object'</span> &amp;&amp; rhs[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] != <span class="hljs-string">'('</span> &amp;&amp; operators[op[<span class="hljs-number">1</span>]][<span class="hljs-number">0</span>] &gt;= operators[rhs[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]][<span class="hljs-number">0</span>]) {
                rhs = rhs[<span class="hljs-number">0</span>];
            }
            rhs[<span class="hljs-number">0</span>] = [lhs, op[<span class="hljs-number">1</span>], rhs[<span class="hljs-number">0</span>]];
        }
        <span class="hljs-keyword">return</span> [off, v];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">exprParse</span>(<span class="hljs-params">str, off</span>) </span>{
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deparen</span>(<span class="hljs-params">v</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> v !== <span class="hljs-string">'object'</span> || v === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> v;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (v[<span class="hljs-number">0</span>] === <span class="hljs-string">'('</span>) <span class="hljs-keyword">return</span> deparen(v[<span class="hljs-number">1</span>]);
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> [deparen(v[<span class="hljs-number">0</span>]), v[<span class="hljs-number">1</span>], deparen(v[<span class="hljs-number">2</span>])];
        }
        <span class="hljs-keyword">var</span> e = exprParse2(str, off ? off : <span class="hljs-number">0</span>);
        <span class="hljs-keyword">return</span> [e[<span class="hljs-number">0</span>], deparen(e[<span class="hljs-number">1</span>])];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">exprEval</span>(<span class="hljs-params">expr, x</span>) </span>{
        <span class="hljs-keyword">if</span> (expr === <span class="hljs-literal">undefined</span>) <span class="hljs-keyword">return</span> x;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (expr === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> expr !== <span class="hljs-string">'object'</span>) {
            <span class="hljs-keyword">return</span> expr;
        }
        <span class="hljs-keyword">var</span> lhs = exprEval(expr[<span class="hljs-number">0</span>], x),
            rhs = exprEval(expr[<span class="hljs-number">2</span>], x);
        <span class="hljs-keyword">return</span> operators[expr[<span class="hljs-number">1</span>]][<span class="hljs-number">1</span>](lhs, rhs);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>THE PARSER</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span>(<span class="hljs-params">str, off, nested, hints</span>) </span>{
        <span class="hljs-keyword">if</span> (!nested) hints = {};

        <span class="hljs-keyword">var</span> a = [], am, readParen;
        <span class="hljs-keyword">if</span> (!off) off = <span class="hljs-number">0</span>; 

        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-keyword">var</span> s = parse_selector(str, off, hints);
            a.push(s[<span class="hljs-number">1</span>]);
            s = lex(str, off = s[<span class="hljs-number">0</span>]);
            <span class="hljs-keyword">if</span> (s &amp;&amp; s[<span class="hljs-number">1</span>] === <span class="hljs-string">" "</span>) s = lex(str, off = s[<span class="hljs-number">0</span>]);
            <span class="hljs-keyword">if</span> (!s) <span class="hljs-keyword">break</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>now we’ve parsed a selector, and have something else…</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (s[<span class="hljs-number">1</span>] === <span class="hljs-string">"&gt;"</span> || s[<span class="hljs-number">1</span>] === <span class="hljs-string">"~"</span>) {
                <span class="hljs-keyword">if</span> (s[<span class="hljs-number">1</span>] === <span class="hljs-string">"~"</span>) hints.usesSiblingOp = <span class="hljs-literal">true</span>;
                a.push(s[<span class="hljs-number">1</span>]);
                off = s[<span class="hljs-number">0</span>];
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[<span class="hljs-number">1</span>] === <span class="hljs-string">","</span>) {
                <span class="hljs-keyword">if</span> (am === <span class="hljs-literal">undefined</span>) am = [ <span class="hljs-string">","</span>, a ];
                <span class="hljs-keyword">else</span> am.push(a);
                a = [];
                off = s[<span class="hljs-number">0</span>];
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[<span class="hljs-number">1</span>] === <span class="hljs-string">")"</span>) {
                <span class="hljs-keyword">if</span> (!nested) te(<span class="hljs-string">"ucp"</span>, s[<span class="hljs-number">1</span>]);
                readParen = <span class="hljs-number">1</span>;
                off = s[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">if</span> (nested &amp;&amp; !readParen) te(<span class="hljs-string">"mcp"</span>, str);
        <span class="hljs-keyword">if</span> (am) am.push(a);
        <span class="hljs-keyword">var</span> rv;
        <span class="hljs-keyword">if</span> (!nested &amp;&amp; hints.usesSiblingOp) {
            rv = normalize(am ? am : a);
        } <span class="hljs-keyword">else</span> {
            rv = am ? am : a;
        }
        <span class="hljs-keyword">return</span> [off, rv];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalizeOne</span>(<span class="hljs-params">sel</span>) </span>{
        <span class="hljs-keyword">var</span> sels = [], s;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; sel.length; i++) {
            <span class="hljs-keyword">if</span> (sel[i] === <span class="hljs-string">'~'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p><code>A ~ B</code> maps to <code>:has(:root &gt; A) &gt; B</code>
<code>Z A ~ B</code> maps to <code>Z :has(:root &gt; A) &gt; B, Z:has(:root &gt; A) &gt; B</code>
This first clause, takes care of the first case, and the first half of the latter case.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">2</span> || sel[i<span class="hljs-number">-2</span>] != <span class="hljs-string">'&gt;'</span>) {
                    s = sel.slice(<span class="hljs-number">0</span>,i<span class="hljs-number">-1</span>);
                    s = s.concat([{has:[[{pc: <span class="hljs-string">":root"</span>}, <span class="hljs-string">"&gt;"</span>, sel[i<span class="hljs-number">-1</span>]]]}, <span class="hljs-string">"&gt;"</span>]);
                    s = s.concat(sel.slice(i+<span class="hljs-number">1</span>));
                    sels.push(s);
                }</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>here we take care of the second half of above:
(<code>Z A ~ B</code> maps to <code>Z :has(:root &gt; A) &gt; B, Z :has(:root &gt; A) &gt; B</code>)
and a new case:
Z &gt; A ~ B maps to Z:has(:root &gt; A) &gt; B</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">1</span>) {
                    <span class="hljs-keyword">var</span> at = sel[i<span class="hljs-number">-2</span>] === <span class="hljs-string">'&gt;'</span> ? i<span class="hljs-number">-3</span> : i<span class="hljs-number">-2</span>;
                    s = sel.slice(<span class="hljs-number">0</span>,at);
                    <span class="hljs-keyword">var</span> z = {};
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> sel[at]) <span class="hljs-keyword">if</span> (sel[at].hasOwnProperty(k)) z[k] = sel[at][k];
                    <span class="hljs-keyword">if</span> (!z.has) z.has = [];
                    z.has.push([{pc: <span class="hljs-string">":root"</span>}, <span class="hljs-string">"&gt;"</span>, sel[i<span class="hljs-number">-1</span>]]);
                    s = s.concat(z, <span class="hljs-string">'&gt;'</span>, sel.slice(i+<span class="hljs-number">1</span>));
                    sels.push(s);
                }
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">if</span> (i == sel.length) <span class="hljs-keyword">return</span> sel;
        <span class="hljs-keyword">return</span> sels.length &gt; <span class="hljs-number">1</span> ? [<span class="hljs-string">','</span>].concat(sels) : sels[<span class="hljs-number">0</span>];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalize</span>(<span class="hljs-params">sels</span>) </span>{
        <span class="hljs-keyword">if</span> (sels[<span class="hljs-number">0</span>] === <span class="hljs-string">','</span>) {
            <span class="hljs-keyword">var</span> r = [<span class="hljs-string">","</span>];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = i; i &lt; sels.length; i++) {
                <span class="hljs-keyword">var</span> s = normalizeOne(s[i]);
                r = r.concat(s[<span class="hljs-number">0</span>] === <span class="hljs-string">","</span> ? s.slice(<span class="hljs-number">1</span>) : s);
            }
            <span class="hljs-keyword">return</span> r;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> normalizeOne(sels);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse_selector</span>(<span class="hljs-params">str, off, hints</span>) </span>{
        <span class="hljs-keyword">var</span> soff = off;
        <span class="hljs-keyword">var</span> s = { };
        <span class="hljs-keyword">var</span> l = lex(str, off);</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>skip space</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (l &amp;&amp; l[<span class="hljs-number">1</span>] === <span class="hljs-string">" "</span>) { soff = off = l[<span class="hljs-number">0</span>]; l = lex(str, off); }
        <span class="hljs-keyword">if</span> (l &amp;&amp; l[<span class="hljs-number">1</span>] === toks.typ) {
            s.type = l[<span class="hljs-number">2</span>];
            l = lex(str, (off = l[<span class="hljs-number">0</span>]));
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l &amp;&amp; l[<span class="hljs-number">1</span>] === <span class="hljs-string">"*"</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>don’t bother representing the universal sel, ‘*’ in the
parse tree, cause it’s the default</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            l = lex(str, (off = l[<span class="hljs-number">0</span>]));
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>now support either an id or a pc</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-keyword">if</span> (l === <span class="hljs-literal">undefined</span>) {
                <span class="hljs-keyword">break</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l[<span class="hljs-number">1</span>] === toks.ide) {
                <span class="hljs-keyword">if</span> (s.id) te(<span class="hljs-string">"nmi"</span>, l[<span class="hljs-number">1</span>]);
                s.id = l[<span class="hljs-number">2</span>];
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l[<span class="hljs-number">1</span>] === toks.psc) {
                <span class="hljs-keyword">if</span> (s.pc || s.pf) te(<span class="hljs-string">"mpc"</span>, l[<span class="hljs-number">1</span>]);</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>collapse first-child and last-child into nth-child expressions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (l[<span class="hljs-number">2</span>] === <span class="hljs-string">":first-child"</span>) {
                    s.pf = <span class="hljs-string">":nth-child"</span>;
                    s.a = <span class="hljs-number">0</span>;
                    s.b = <span class="hljs-number">1</span>;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l[<span class="hljs-number">2</span>] === <span class="hljs-string">":last-child"</span>) {
                    s.pf = <span class="hljs-string">":nth-last-child"</span>;
                    s.a = <span class="hljs-number">0</span>;
                    s.b = <span class="hljs-number">1</span>;
                } <span class="hljs-keyword">else</span> {
                    s.pc = l[<span class="hljs-number">2</span>];
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l[<span class="hljs-number">1</span>] === toks.psf) {
                <span class="hljs-keyword">if</span> (l[<span class="hljs-number">2</span>] === <span class="hljs-string">":val"</span> || l[<span class="hljs-number">2</span>] === <span class="hljs-string">":contains"</span>) {
                    s.expr = [ <span class="hljs-literal">undefined</span>, l[<span class="hljs-number">2</span>] === <span class="hljs-string">":val"</span> ? <span class="hljs-string">"="</span> : <span class="hljs-string">"*="</span>, <span class="hljs-literal">undefined</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>any amount of whitespace, followed by paren, string, paren</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    l = lex(str, (off = l[<span class="hljs-number">0</span>]));
                    <span class="hljs-keyword">if</span> (l &amp;&amp; l[<span class="hljs-number">1</span>] === <span class="hljs-string">" "</span>) l = lex(str, off = l[<span class="hljs-number">0</span>]);
                    <span class="hljs-keyword">if</span> (!l || l[<span class="hljs-number">1</span>] !== <span class="hljs-string">"("</span>) te(<span class="hljs-string">"pex"</span>, str);
                    l = lex(str, (off = l[<span class="hljs-number">0</span>]));
                    <span class="hljs-keyword">if</span> (l &amp;&amp; l[<span class="hljs-number">1</span>] === <span class="hljs-string">" "</span>) l = lex(str, off = l[<span class="hljs-number">0</span>]);
                    <span class="hljs-keyword">if</span> (!l || l[<span class="hljs-number">1</span>] !== toks.str) te(<span class="hljs-string">"sex"</span>, str);
                    s.expr[<span class="hljs-number">2</span>] = l[<span class="hljs-number">2</span>];
                    l = lex(str, (off = l[<span class="hljs-number">0</span>]));
                    <span class="hljs-keyword">if</span> (l &amp;&amp; l[<span class="hljs-number">1</span>] === <span class="hljs-string">" "</span>) l = lex(str, off = l[<span class="hljs-number">0</span>]);
                    <span class="hljs-keyword">if</span> (!l || l[<span class="hljs-number">1</span>] !== <span class="hljs-string">")"</span>) te(<span class="hljs-string">"epex"</span>, str);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l[<span class="hljs-number">2</span>] === <span class="hljs-string">":has"</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>any amount of whitespace, followed by paren</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    l = lex(str, (off = l[<span class="hljs-number">0</span>]));
                    <span class="hljs-keyword">if</span> (l &amp;&amp; l[<span class="hljs-number">1</span>] === <span class="hljs-string">" "</span>) l = lex(str, off = l[<span class="hljs-number">0</span>]);
                    <span class="hljs-keyword">if</span> (!l || l[<span class="hljs-number">1</span>] !== <span class="hljs-string">"("</span>) te(<span class="hljs-string">"pex"</span>, str);
                    <span class="hljs-keyword">var</span> h = parse(str, l[<span class="hljs-number">0</span>], <span class="hljs-literal">true</span>);
                    l[<span class="hljs-number">0</span>] = h[<span class="hljs-number">0</span>];
                    <span class="hljs-keyword">if</span> (!s.has) s.has = [];
                    s.has.push(h[<span class="hljs-number">1</span>]);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l[<span class="hljs-number">2</span>] === <span class="hljs-string">":expr"</span>) {
                    <span class="hljs-keyword">if</span> (s.expr) te(<span class="hljs-string">"mexp"</span>, str);
                    <span class="hljs-keyword">var</span> e = exprParse(str, l[<span class="hljs-number">0</span>]);
                    l[<span class="hljs-number">0</span>] = e[<span class="hljs-number">0</span>];
                    s.expr = e[<span class="hljs-number">1</span>];
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (s.pc || s.pf ) te(<span class="hljs-string">"mpc"</span>, str);
                    s.pf = l[<span class="hljs-number">2</span>];
                    <span class="hljs-keyword">var</span> m = nthPat.exec(str.substr(l[<span class="hljs-number">0</span>]));
                    <span class="hljs-keyword">if</span> (!m) te(<span class="hljs-string">"mepf"</span>, str);
                    <span class="hljs-keyword">if</span> (m[<span class="hljs-number">5</span>]) {
                        s.a = <span class="hljs-number">2</span>;
                        s.b = (m[<span class="hljs-number">5</span>] === <span class="hljs-string">"odd"</span>) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m[<span class="hljs-number">6</span>]) {
                        s.a = <span class="hljs-number">0</span>;
                        s.b = <span class="hljs-built_in">parseInt</span>(m[<span class="hljs-number">6</span>], <span class="hljs-number">10</span>);
                    } <span class="hljs-keyword">else</span> {
                        s.a = <span class="hljs-built_in">parseInt</span>((m[<span class="hljs-number">1</span>] ? m[<span class="hljs-number">1</span>] : <span class="hljs-string">"+"</span>) + (m[<span class="hljs-number">2</span>] ? m[<span class="hljs-number">2</span>] : <span class="hljs-string">"1"</span>),<span class="hljs-number">10</span>);
                        s.b = m[<span class="hljs-number">3</span>] ? <span class="hljs-built_in">parseInt</span>(m[<span class="hljs-number">3</span>] + m[<span class="hljs-number">4</span>],<span class="hljs-number">10</span>) : <span class="hljs-number">0</span>;
                    }
                    l[<span class="hljs-number">0</span>] += m[<span class="hljs-number">0</span>].length;
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">break</span>;
            }
            l = lex(str, (off = l[<span class="hljs-number">0</span>]));
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>now if we didn’t actually parse anything it’s an error</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (soff === off) te(<span class="hljs-string">"se"</span>, str);

        <span class="hljs-keyword">return</span> [off, s];
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>THE EVALUATOR</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isArray</span>(<span class="hljs-params">o</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Array</span>.isArray ? <span class="hljs-built_in">Array</span>.isArray(o) : 
          toString.call(o) === <span class="hljs-string">"[object Array]"</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mytypeof</span>(<span class="hljs-params">o</span>) </span>{
        <span class="hljs-keyword">if</span> (o === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"null"</span>;
        <span class="hljs-keyword">var</span> to = <span class="hljs-keyword">typeof</span> o;
        <span class="hljs-keyword">if</span> (to === <span class="hljs-string">"object"</span> &amp;&amp; isArray(o)) to = <span class="hljs-string">"array"</span>;
        <span class="hljs-keyword">return</span> to;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mn</span>(<span class="hljs-params">node, sel, id, num, tot</span>) </span>{
        <span class="hljs-keyword">var</span> sels = [];
        <span class="hljs-keyword">var</span> cs = (sel[<span class="hljs-number">0</span>] === <span class="hljs-string">"&gt;"</span>) ? sel[<span class="hljs-number">1</span>] : sel[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> m = <span class="hljs-literal">true</span>, mod;
        <span class="hljs-keyword">if</span> (cs.type) m = m &amp;&amp; (cs.type === mytypeof(node));
        <span class="hljs-keyword">if</span> (cs.id)   m = m &amp;&amp; (cs.id === id);
        <span class="hljs-keyword">if</span> (m &amp;&amp; cs.pf) {
            <span class="hljs-keyword">if</span> (cs.pf === <span class="hljs-string">":nth-last-child"</span>) num = tot - num;
            <span class="hljs-keyword">else</span> num++;
            <span class="hljs-keyword">if</span> (cs.a === <span class="hljs-number">0</span>) {
                m = cs.b === num;
            } <span class="hljs-keyword">else</span> {
                mod = ((num - cs.b) % cs.a);

                m = (!mod &amp;&amp; ((num*cs.a + cs.b) &gt;= <span class="hljs-number">0</span>));
            }
        }
        <span class="hljs-keyword">if</span> (m &amp;&amp; cs.has) {</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>perhaps we should augment forEach to handle a return value
that indicates “client cancels traversal”?</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">var</span> bail = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">throw</span> <span class="hljs-number">42</span>; };
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; cs.has.length; i++) {
                <span class="hljs-keyword">try</span> {
                    forEach(cs.has[i], node, bail);
                } <span class="hljs-keyword">catch</span> (e) {
                    <span class="hljs-keyword">if</span> (e === <span class="hljs-number">42</span>) <span class="hljs-keyword">continue</span>;
                }
                m = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">if</span> (m &amp;&amp; cs.expr) {
            m = exprEval(cs.expr, node);
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>should we repeat this selector for descendants?</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (sel[<span class="hljs-number">0</span>] !== <span class="hljs-string">"&gt;"</span> &amp;&amp; sel[<span class="hljs-number">0</span>].pc !== <span class="hljs-string">":root"</span>) sels.push(sel);

        <span class="hljs-keyword">if</span> (m) {</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p>is there a fragment that we should pass down?</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (sel[<span class="hljs-number">0</span>] === <span class="hljs-string">"&gt;"</span>) { <span class="hljs-keyword">if</span> (sel.length &gt; <span class="hljs-number">2</span>) { m = <span class="hljs-literal">false</span>; sels.push(sel.slice(<span class="hljs-number">2</span>)); } }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sel.length &gt; <span class="hljs-number">1</span>) { m = <span class="hljs-literal">false</span>; sels.push(sel.slice(<span class="hljs-number">1</span>)); }
        }

        <span class="hljs-keyword">return</span> [m, sels];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach</span>(<span class="hljs-params">sel, obj, fun, id, num, tot</span>) </span>{
        <span class="hljs-keyword">var</span> a = (sel[<span class="hljs-number">0</span>] === <span class="hljs-string">","</span>) ? sel.slice(<span class="hljs-number">1</span>) : [sel],
        a0 = [],
        call = <span class="hljs-literal">false</span>,
        i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>, k, x;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; a.length; i++) {
            x = mn(obj, a[i], id, num, tot);
            <span class="hljs-keyword">if</span> (x[<span class="hljs-number">0</span>]) {
                call = <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; x[<span class="hljs-number">1</span>].length; j++) {
                a0.push(x[<span class="hljs-number">1</span>][j]);
            }
        }
        <span class="hljs-keyword">if</span> (a0.length &amp;&amp; <span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">"object"</span>) {
            <span class="hljs-keyword">if</span> (a0.length &gt;= <span class="hljs-number">1</span>) {
                a0.unshift(<span class="hljs-string">","</span>);
            }
            <span class="hljs-keyword">if</span> (isArray(obj)) {
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; obj.length; i++) {
                    forEach(a0, obj[i], fun, <span class="hljs-literal">undefined</span>, i, obj.length);
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">for</span> (k <span class="hljs-keyword">in</span> obj) {
                    <span class="hljs-keyword">if</span> (obj.hasOwnProperty(k)) {
                        forEach(a0, obj[k], fun, k);
                    }
                }
            }
        }
        <span class="hljs-keyword">if</span> (call &amp;&amp; fun) {
            fun(obj);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">match</span>(<span class="hljs-params">sel, obj</span>) </span>{
        <span class="hljs-keyword">var</span> a = [];
        forEach(sel, obj, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>) </span>{
            a.push(x);
        });
        <span class="hljs-keyword">return</span> a;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">format</span>(<span class="hljs-params">sel, arr</span>) </span>{
        sel = sel.replace(<span class="hljs-regexp">/\?/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (arr.length === <span class="hljs-number">0</span>) <span class="hljs-keyword">throw</span> <span class="hljs-string">"too few parameters given"</span>;
            <span class="hljs-keyword">var</span> p = arr.shift();
            <span class="hljs-keyword">return</span> ((<span class="hljs-keyword">typeof</span> p === <span class="hljs-string">'string'</span>) ? <span class="hljs-built_in">JSON</span>.stringify(p) : p);
        });
        <span class="hljs-keyword">if</span> (arr.length) <span class="hljs-keyword">throw</span> <span class="hljs-string">"too many parameters supplied"</span>;
        <span class="hljs-keyword">return</span> sel;
    } 

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compile</span>(<span class="hljs-params">sel, arr</span>) </span>{
        <span class="hljs-keyword">if</span> (arr) sel = format(sel, arr);
        <span class="hljs-keyword">return</span> {
            sel: parse(sel)[<span class="hljs-number">1</span>],
            match: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>)</span>{
                <span class="hljs-keyword">return</span> match(<span class="hljs-keyword">this</span>.sel, obj);
            },
            forEach: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj, fun</span>) </span>{
                <span class="hljs-keyword">return</span> forEach(<span class="hljs-keyword">this</span>.sel, obj, fun);
            }
        };
    }

    exports._lex = lex;
    exports._parse = parse;
    exports.match = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">sel, arr, obj</span>) </span>{
        <span class="hljs-keyword">if</span> (!obj) { obj = arr; arr = <span class="hljs-literal">undefined</span>; }
        <span class="hljs-keyword">return</span> compile(sel, arr).match(obj);
    };
    exports.forEach = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sel, arr, obj, fun</span>) </span>{
        <span class="hljs-keyword">if</span> (!fun) { fun = obj;  obj = arr; arr = <span class="hljs-literal">undefined</span> }
        <span class="hljs-keyword">return</span> compile(sel, arr).forEach(obj, fun);
    };
    exports.compile = compile;
})(<span class="hljs-keyword">typeof</span> exports === <span class="hljs-string">"undefined"</span> ? (<span class="hljs-built_in">window</span>.JSONSelect = {}) : exports);

},{}],<span class="hljs-number">2</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">process,__filename</span>)</span>{
<span class="hljs-comment">/** vim: et:ts=4:sw=4:sts=4
 * @license amdefine 1.0.0 Copyright (c) 2011-2015, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/amdefine for details
 */</span>

<span class="hljs-comment">/*jslint node: true */</span>
<span class="hljs-comment">/*global module, process */</span>
<span class="hljs-meta">'use strict'</span>;

<span class="hljs-comment">/**
 * Creates a define for node.
 * @param {Object} module the "module" object that is defined by Node for the
 * current module.
 * @param {Function} [requireFn]. Node's require function for the current module.
 * It only needs to be passed in Node versions before 0.5, when module.require
 * did not exist.
 * @returns {Function} a define function that is usable for the current node
 * module.
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">amdefine</span>(<span class="hljs-params">module, requireFn</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;
    <span class="hljs-keyword">var</span> defineCache = {},
        loaderCache = {},
        alreadyCalled = <span class="hljs-literal">false</span>,
        path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>),
        makeRequire, stringRequire;

    <span class="hljs-comment">/**
     * Trims the . and .. from an array of path segments.
     * It will keep a leading path segment if a .. will become
     * the first path segment, to help with module name lookups,
     * which act like paths, but can be remapped. But the end result,
     * all paths that use this function should look normalized.
     * <span class="hljs-doctag">NOTE:</span> this method MODIFIES the input array.
     * @param {Array} ary the array of path segments.
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trimDots</span>(<span class="hljs-params">ary</span>) </span>{
        <span class="hljs-keyword">var</span> i, part;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; ary[i]; i+= <span class="hljs-number">1</span>) {
            part = ary[i];
            <span class="hljs-keyword">if</span> (part === <span class="hljs-string">'.'</span>) {
                ary.splice(i, <span class="hljs-number">1</span>);
                i -= <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (part === <span class="hljs-string">'..'</span>) {
                <span class="hljs-keyword">if</span> (i === <span class="hljs-number">1</span> &amp;&amp; (ary[<span class="hljs-number">2</span>] === <span class="hljs-string">'..'</span> || ary[<span class="hljs-number">0</span>] === <span class="hljs-string">'..'</span>)) {</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>End of the line. Keep at least one non-dot
path segment at the front so it can be mapped
correctly to disk. Otherwise, there is likely
no path mapping for a path starting with ‘..’.
This can still fail, but catches the most reasonable
uses of ..</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    <span class="hljs-keyword">break</span>;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) {
                    ary.splice(i - <span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
                    i -= <span class="hljs-number">2</span>;
                }
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalize</span>(<span class="hljs-params">name, baseName</span>) </span>{
        <span class="hljs-keyword">var</span> baseParts;</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p>Adjust any relative paths.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (name &amp;&amp; name.charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'.'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p>If have a base name, try to normalize against it,
otherwise, assume it is a top-level require that will
be relative to baseUrl in the end.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (baseName) {
                baseParts = baseName.split(<span class="hljs-string">'/'</span>);
                baseParts = baseParts.slice(<span class="hljs-number">0</span>, baseParts.length - <span class="hljs-number">1</span>);
                baseParts = baseParts.concat(name.split(<span class="hljs-string">'/'</span>));
                trimDots(baseParts);
                name = baseParts.join(<span class="hljs-string">'/'</span>);
            }
        }

        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-comment">/**
     * Create the normalize() function passed to a loader plugin's
     * normalize method.
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeNormalize</span>(<span class="hljs-params">relName</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) </span>{
            <span class="hljs-keyword">return</span> normalize(name, relName);
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeLoad</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">load</span>(<span class="hljs-params">value</span>) </span>{
            loaderCache[id] = value;
        }

        load.fromText = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id, text</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p>This one is difficult because the text can/probably uses
define, and any relative paths and requires should be relative
to that id was it would be found on disk. But this would require
bootstrapping a module/require fairly deeply from node core.
Not sure how best to go about that yet.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'amdefine does not implement load.fromText'</span>);
        };

        <span class="hljs-keyword">return</span> load;
    }

    makeRequire = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">systemRequire, exports, module, relId</span>) </span>{
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">amdRequire</span>(<span class="hljs-params">deps, callback</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> deps === <span class="hljs-string">'string'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              <p>Synchronous, single module require(‘’)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">return</span> stringRequire(systemRequire, exports, <span class="hljs-built_in">module</span>, deps, relId);
            } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              <p>Array of dependencies with a callback.</p>

            </div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-49">&#182;</a>
              </div>
              <p>Convert the dependencies to modules.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                deps = deps.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">depName</span>) </span>{
                    <span class="hljs-keyword">return</span> stringRequire(systemRequire, exports, <span class="hljs-built_in">module</span>, depName, relId);
                });</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-50">&#182;</a>
              </div>
              <p>Wait for next tick to call back the require call.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (callback) {
                    process.nextTick(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                        callback.apply(<span class="hljs-literal">null</span>, deps);
                    });
                }
            }
        }

        amdRequire.toUrl = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">filePath</span>) </span>{
            <span class="hljs-keyword">if</span> (filePath.indexOf(<span class="hljs-string">'.'</span>) === <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> normalize(filePath, path.dirname(<span class="hljs-built_in">module</span>.filename));
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> filePath;
            }
        };

        <span class="hljs-keyword">return</span> amdRequire;
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-51">&#182;</a>
              </div>
              <p>Favor explicit value, passed in if the module wants to support Node 0.4.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    requireFn = requireFn || <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">req</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">module</span>.require.apply(<span class="hljs-built_in">module</span>, <span class="hljs-built_in">arguments</span>);
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">runFactory</span>(<span class="hljs-params">id, deps, factory</span>) </span>{
        <span class="hljs-keyword">var</span> r, e, m, result;

        <span class="hljs-keyword">if</span> (id) {
            e = loaderCache[id] = {};
            m = {
                id: id,
                uri: __filename,
                exports: e
            };
            r = makeRequire(requireFn, e, m, id);
        } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-52">&#182;</a>
              </div>
              <p>Only support one define call per file</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (alreadyCalled) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'amdefine with no module ID cannot be called more than once per file.'</span>);
            }
            alreadyCalled = <span class="hljs-literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-53">&#182;</a>
              </div>
              <p>Use the real variables from node
Use module.exports for exports, since
the exports in here is amdefine exports.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            e = <span class="hljs-built_in">module</span>.exports;
            m = <span class="hljs-built_in">module</span>;
            r = makeRequire(requireFn, e, m, <span class="hljs-built_in">module</span>.id);
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-54">&#182;</a>
              </div>
              <p>If there are dependencies, they are strings, so need
to convert them to dependency values.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (deps) {
            deps = deps.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">depName</span>) </span>{
                <span class="hljs-keyword">return</span> r(depName);
            });
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-55">&#182;</a>
              </div>
              <p>Call the factory with the right dependencies.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> factory === <span class="hljs-string">'function'</span>) {
            result = factory.apply(m.exports, deps);
        } <span class="hljs-keyword">else</span> {
            result = factory;
        }

        <span class="hljs-keyword">if</span> (result !== <span class="hljs-literal">undefined</span>) {
            m.exports = result;
            <span class="hljs-keyword">if</span> (id) {
                loaderCache[id] = m.exports;
            }
        }
    }

    stringRequire = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">systemRequire, exports, module, id, relId</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-56">&#182;</a>
              </div>
              <p>Split the ID by a ! so that</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">var</span> index = id.indexOf(<span class="hljs-string">'!'</span>),
            originalId = id,
            prefix, plugin;

        <span class="hljs-keyword">if</span> (index === <span class="hljs-number">-1</span>) {
            id = normalize(id, relId);</pre></div></div>
            
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-57">&#182;</a>
              </div>
              <p>Straight module lookup. If it is one of the special dependencies,
deal with it, otherwise, delegate to node.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (id === <span class="hljs-string">'require'</span>) {
                <span class="hljs-keyword">return</span> makeRequire(systemRequire, exports, <span class="hljs-built_in">module</span>, relId);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (id === <span class="hljs-string">'exports'</span>) {
                <span class="hljs-keyword">return</span> exports;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (id === <span class="hljs-string">'module'</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">module</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (loaderCache.hasOwnProperty(id)) {
                <span class="hljs-keyword">return</span> loaderCache[id];
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (defineCache[id]) {
                runFactory.apply(<span class="hljs-literal">null</span>, defineCache[id]);
                <span class="hljs-keyword">return</span> loaderCache[id];
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span>(systemRequire) {
                    <span class="hljs-keyword">return</span> systemRequire(originalId);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'No module with ID: '</span> + id);
                }
            }
        } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-58">&#182;</a>
              </div>
              <p>There is a plugin in play.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            prefix = id.substring(<span class="hljs-number">0</span>, index);
            id = id.substring(index + <span class="hljs-number">1</span>, id.length);

            plugin = stringRequire(systemRequire, exports, <span class="hljs-built_in">module</span>, prefix, relId);

            <span class="hljs-keyword">if</span> (plugin.normalize) {
                id = plugin.normalize(id, makeNormalize(relId));
            } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-59">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-59">&#182;</a>
              </div>
              <p>Normalize the ID normally.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                id = normalize(id, relId);
            }

            <span class="hljs-keyword">if</span> (loaderCache[id]) {
                <span class="hljs-keyword">return</span> loaderCache[id];
            } <span class="hljs-keyword">else</span> {
                plugin.load(id, makeRequire(systemRequire, exports, <span class="hljs-built_in">module</span>, relId), makeLoad(id), {});

                <span class="hljs-keyword">return</span> loaderCache[id];
            }
        }
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-60">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-60">&#182;</a>
              </div>
              <p>Create a define function specific to the module asking for amdefine.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">define</span>(<span class="hljs-params">id, deps, factory</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(id)) {
            factory = deps;
            deps = id;
            id = <span class="hljs-literal">undefined</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> id !== <span class="hljs-string">'string'</span>) {
            factory = id;
            id = deps = <span class="hljs-literal">undefined</span>;
        }

        <span class="hljs-keyword">if</span> (deps &amp;&amp; !<span class="hljs-built_in">Array</span>.isArray(deps)) {
            factory = deps;
            deps = <span class="hljs-literal">undefined</span>;
        }

        <span class="hljs-keyword">if</span> (!deps) {
            deps = [<span class="hljs-string">'require'</span>, <span class="hljs-string">'exports'</span>, <span class="hljs-string">'module'</span>];
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-61">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-61">&#182;</a>
              </div>
              <p>Set up properties for this module. If an ID, then use
internal cache. If no ID, then use the external variables
for this node module.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (id) {</pre></div></div>
            
        </li>
        
        
        <li id="section-62">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-62">&#182;</a>
              </div>
              <p>Put the module in deep freeze until there is a
require call for it.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            defineCache[id] = [id, deps, factory];
        } <span class="hljs-keyword">else</span> {
            runFactory(id, deps, factory);
        }
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-63">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-63">&#182;</a>
              </div>
              <p>define.require, which has access to all the values in the
cache. Useful for AMD modules that all have IDs in the file,
but need to finally export a value to node based on one of those
IDs.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    define.require = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">if</span> (loaderCache[id]) {
            <span class="hljs-keyword">return</span> loaderCache[id];
        }

        <span class="hljs-keyword">if</span> (defineCache[id]) {
            runFactory.apply(<span class="hljs-literal">null</span>, defineCache[id]);
            <span class="hljs-keyword">return</span> loaderCache[id];
        }
    };

    define.amd = {};

    <span class="hljs-keyword">return</span> define;
}

<span class="hljs-built_in">module</span>.exports = amdefine;

}).call(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">require</span>(<span class="hljs-string">'_process'</span>),<span class="hljs-string">"/node_modules/amdefine/amdefine.js"</span>)
},{<span class="hljs-string">"_process"</span>:<span class="hljs-number">32</span>,<span class="hljs-string">"path"</span>:<span class="hljs-number">31</span>}],<span class="hljs-number">3</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-keyword">var</span> bnf = <span class="hljs-built_in">require</span>(<span class="hljs-string">"./parser"</span>).parser,
    ebnf = <span class="hljs-built_in">require</span>(<span class="hljs-string">"./ebnf-transform"</span>),
    jisonlex = <span class="hljs-built_in">require</span>(<span class="hljs-string">"lex-parser"</span>);

exports.parse = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span> (<span class="hljs-params">grammar</span>) </span>{ <span class="hljs-keyword">return</span> bnf.parse(grammar); };
exports.transform = ebnf.transform;</pre></div></div>
            
        </li>
        
        
        <li id="section-64">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-64">&#182;</a>
              </div>
              <p>adds a declaration to the grammar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>bnf.yy.addDeclaration = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">grammar, decl</span>) </span>{
    <span class="hljs-keyword">if</span> (decl.start) {
        grammar.start = decl.start;

    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (decl.lex) {
        grammar.lex = parseLex(decl.lex);

    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (decl.operator) {
        <span class="hljs-keyword">if</span> (!grammar.operators) grammar.operators = [];
        grammar.operators.push(decl.operator);

    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (decl.parseParam) {
        <span class="hljs-keyword">if</span> (!grammar.parseParams) grammar.parseParams = [];
        grammar.parseParams = grammar.parseParams.concat(decl.parseParam);

    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (decl.include) {
        <span class="hljs-keyword">if</span> (!grammar.moduleInclude) grammar.moduleInclude = <span class="hljs-string">''</span>;
        grammar.moduleInclude += decl.include;

    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (decl.options) {
        <span class="hljs-keyword">if</span> (!grammar.options) grammar.options = {};
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &lt; decl.options.length; i++) {
            grammar.options[decl.options[i]] = <span class="hljs-literal">true</span>;
        }
    }

};</pre></div></div>
            
        </li>
        
        
        <li id="section-65">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-65">&#182;</a>
              </div>
              <p>parse an embedded lex section</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> parseLex = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">text</span>) </span>{
    <span class="hljs-keyword">return</span> jisonlex.parse(text.replace(<span class="hljs-regexp">/(?:^%lex)|(?:\/lex$)/g</span>, <span class="hljs-string">''</span>));
};


},{<span class="hljs-string">"./ebnf-transform"</span>:<span class="hljs-number">4</span>,<span class="hljs-string">"./parser"</span>:<span class="hljs-number">5</span>,<span class="hljs-string">"lex-parser"</span>:<span class="hljs-number">29</span>}],<span class="hljs-number">4</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-keyword">var</span> EBNF = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> parser = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./transform-parser.js'</span>);

    <span class="hljs-keyword">var</span> transformExpression = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, opts, emit</span>) </span>{
        <span class="hljs-keyword">var</span> type = e[<span class="hljs-number">0</span>], value = e[<span class="hljs-number">1</span>], name = <span class="hljs-literal">false</span>;

        <span class="hljs-keyword">if</span> (type === <span class="hljs-string">'xalias'</span>) {
            type = e[<span class="hljs-number">1</span>];
            value = e[<span class="hljs-number">2</span>]
            name = e[<span class="hljs-number">3</span>];
            <span class="hljs-keyword">if</span> (type) {
                e = e.slice(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);
            } <span class="hljs-keyword">else</span> {
                e = value;
                type = e[<span class="hljs-number">0</span>];
                value = e[<span class="hljs-number">1</span>];
            }
        }

        <span class="hljs-keyword">if</span> (type === <span class="hljs-string">'symbol'</span>) {
            <span class="hljs-keyword">var</span> n;
            <span class="hljs-keyword">if</span> (e[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] === <span class="hljs-string">'\\'</span>) n = e[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] === <span class="hljs-string">'\''</span>) n = e[<span class="hljs-number">1</span>].substring(<span class="hljs-number">1</span>, e[<span class="hljs-number">1</span>].length<span class="hljs-number">-1</span>);
            <span class="hljs-keyword">else</span> n = e[<span class="hljs-number">1</span>];
            emit(n + (name ? <span class="hljs-string">"["</span>+name+<span class="hljs-string">"]"</span> : <span class="hljs-string">""</span>));
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">"+"</span>) {
            <span class="hljs-keyword">if</span> (!name) {
                name = opts.production + <span class="hljs-string">"_repetition_plus"</span> + opts.repid++;
            }
            emit(name);

            opts = optsForProduction(name, opts.grammar);
            <span class="hljs-keyword">var</span> list = transformExpressionList([value], opts);
            opts.grammar[name] = [
                [list, <span class="hljs-string">"$$ = [$1];"</span>],
                [
                    name + <span class="hljs-string">" "</span> + list,
                    <span class="hljs-string">"$1.push($2);"</span>
                ]
            ];
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">"*"</span>) {
            <span class="hljs-keyword">if</span> (!name) {
                name = opts.production + <span class="hljs-string">"_repetition"</span> + opts.repid++;
            }
            emit(name);

            opts = optsForProduction(name, opts.grammar);
            opts.grammar[name] = [
                [<span class="hljs-string">""</span>, <span class="hljs-string">"$$ = [];"</span>],
                [
                    name + <span class="hljs-string">" "</span> + transformExpressionList([value], opts),
                    <span class="hljs-string">"$1.push($2);"</span>
                ]
            ];
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type ===<span class="hljs-string">"?"</span>) {
            <span class="hljs-keyword">if</span> (!name) {
                name = opts.production + <span class="hljs-string">"_option"</span> + opts.optid++;
            }
            emit(name);

            opts = optsForProduction(name, opts.grammar);
            opts.grammar[name] = [
                <span class="hljs-string">""</span>, transformExpressionList([value], opts)
            ];
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">"()"</span>) {
            <span class="hljs-keyword">if</span> (value.length == <span class="hljs-number">1</span>) {
                emit(transformExpressionList(value[<span class="hljs-number">0</span>], opts));
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (!name) {
                    name = opts.production + <span class="hljs-string">"_group"</span> + opts.groupid++;
                }
                emit(name);

                opts = optsForProduction(name, opts.grammar);
                opts.grammar[name] = value.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">handle</span>) </span>{
                    <span class="hljs-keyword">return</span> transformExpressionList(handle, opts);
                });
            }
        }
    };

    <span class="hljs-keyword">var</span> transformExpressionList = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">list, opts</span>) </span>{
        <span class="hljs-keyword">return</span> list.reduce (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">tot, e</span>) </span>{
            transformExpression (e, opts, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">i</span>) </span>{ tot.push(i); });
            <span class="hljs-keyword">return</span> tot;
        }, []).
        join(<span class="hljs-string">" "</span>);
    };

    <span class="hljs-keyword">var</span> optsForProduction = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, grammar</span>) </span>{
        <span class="hljs-keyword">return</span> {
            production: id,
            repid: <span class="hljs-number">0</span>,
            groupid: <span class="hljs-number">0</span>,
            optid: <span class="hljs-number">0</span>,
            grammar: grammar
        };
    };

    <span class="hljs-keyword">var</span> transformProduction = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, production, grammar</span>) </span>{
        <span class="hljs-keyword">var</span> transform_opts = optsForProduction(id, grammar);
        <span class="hljs-keyword">return</span> production.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">handle</span>) </span>{
            <span class="hljs-keyword">var</span> action = <span class="hljs-literal">null</span>, opts = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(handle) !== <span class="hljs-string">'string'</span>)
                action = handle[<span class="hljs-number">1</span>],
                opts = handle[<span class="hljs-number">2</span>],
                handle = handle[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">var</span> expressions = parser.parse(handle);

            handle = transformExpressionList(expressions, transform_opts);

            <span class="hljs-keyword">var</span> ret = [handle];
            <span class="hljs-keyword">if</span> (action) ret.push(action);
            <span class="hljs-keyword">if</span> (opts) ret.push(opts);
            <span class="hljs-keyword">if</span> (ret.length == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> ret[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> ret;
        });
    };

    <span class="hljs-keyword">var</span> transformGrammar = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">grammar</span>) </span>{
        <span class="hljs-built_in">Object</span>.keys(grammar).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
            grammar[id] = transformProduction(id, grammar[id], grammar);
        });
    };

    <span class="hljs-keyword">return</span> {
        transform: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ebnf</span>) </span>{
            transformGrammar(ebnf);
            <span class="hljs-keyword">return</span> ebnf;
        }
    };
})();

exports.transform = EBNF.transform;


},{<span class="hljs-string">"./transform-parser.js"</span>:<span class="hljs-number">6</span>}],<span class="hljs-number">5</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">process</span>)</span>{
<span class="hljs-comment">/* parser generated by jison 0.4.11 */</span>
<span class="hljs-comment">/*
  Returns a Parser object of the following structure:

  Parser: {
    yy: {}
  }

  Parser.prototype: {
    yy: {},
    trace: function(),
    symbols_: {associative list: name ==&gt; number},
    terminals_: {associative list: number ==&gt; name},
    productions_: [...],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),
    table: [...],
    defaultActions: {...},
    parseError: function(str, hash),
    parse: function(input),

    lexer: {
        EOF: 1,
        parseError: function(str, hash),
        setInput: function(input),
        input: function(),
        unput: function(str),
        more: function(),
        less: function(n),
        pastInput: function(),
        upcomingInput: function(),
        showPosition: function(),
        test_match: function(regex_match_array, rule_index),
        next: function(),
        lex: function(),
        begin: function(condition),
        popState: function(),
        _currentRules: function(),
        topState: function(),
        pushState: function(condition),

        options: {
            ranges: boolean           (optional: true ==&gt; token location info will include a .range[] member)
            flex: boolean             (optional: true ==&gt; flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)
            backtrack_lexer: boolean  (optional: true ==&gt; lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)
        },

        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),
        rules: [...],
        conditions: {associative list: name ==&gt; set},
    }
  }


  token location info (@$, _$, etc.): {
    first_line: n,
    last_line: n,
    first_column: n,
    last_column: n,
    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)
  }


  the parseError function receives a 'hash' object with these members for lexer and parser errors: {
    text:        (matched text)
    token:       (the produced terminal token, if any)
    line:        (yylineno)
  }
  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {
    loc:         (yylloc)
    expected:    (string describing the set of expected tokens)
    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)
  }
*/</span>
<span class="hljs-keyword">var</span> bnf = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-keyword">var</span> parser = {trace: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trace</span>(<span class="hljs-params"></span>) </span>{ },
yy: {},
symbols_: {<span class="hljs-string">"error"</span>:<span class="hljs-number">2</span>,<span class="hljs-string">"spec"</span>:<span class="hljs-number">3</span>,<span class="hljs-string">"declaration_list"</span>:<span class="hljs-number">4</span>,<span class="hljs-string">"%%"</span>:<span class="hljs-number">5</span>,<span class="hljs-string">"grammar"</span>:<span class="hljs-number">6</span>,<span class="hljs-string">"optional_end_block"</span>:<span class="hljs-number">7</span>,<span class="hljs-string">"EOF"</span>:<span class="hljs-number">8</span>,<span class="hljs-string">"CODE"</span>:<span class="hljs-number">9</span>,<span class="hljs-string">"declaration"</span>:<span class="hljs-number">10</span>,<span class="hljs-string">"START"</span>:<span class="hljs-number">11</span>,<span class="hljs-string">"id"</span>:<span class="hljs-number">12</span>,<span class="hljs-string">"LEX_BLOCK"</span>:<span class="hljs-number">13</span>,<span class="hljs-string">"operator"</span>:<span class="hljs-number">14</span>,<span class="hljs-string">"ACTION"</span>:<span class="hljs-number">15</span>,<span class="hljs-string">"parse_param"</span>:<span class="hljs-number">16</span>,<span class="hljs-string">"options"</span>:<span class="hljs-number">17</span>,<span class="hljs-string">"OPTIONS"</span>:<span class="hljs-number">18</span>,<span class="hljs-string">"token_list"</span>:<span class="hljs-number">19</span>,<span class="hljs-string">"PARSE_PARAM"</span>:<span class="hljs-number">20</span>,<span class="hljs-string">"associativity"</span>:<span class="hljs-number">21</span>,<span class="hljs-string">"LEFT"</span>:<span class="hljs-number">22</span>,<span class="hljs-string">"RIGHT"</span>:<span class="hljs-number">23</span>,<span class="hljs-string">"NONASSOC"</span>:<span class="hljs-number">24</span>,<span class="hljs-string">"symbol"</span>:<span class="hljs-number">25</span>,<span class="hljs-string">"production_list"</span>:<span class="hljs-number">26</span>,<span class="hljs-string">"production"</span>:<span class="hljs-number">27</span>,<span class="hljs-string">":"</span>:<span class="hljs-number">28</span>,<span class="hljs-string">"handle_list"</span>:<span class="hljs-number">29</span>,<span class="hljs-string">";"</span>:<span class="hljs-number">30</span>,<span class="hljs-string">"|"</span>:<span class="hljs-number">31</span>,<span class="hljs-string">"handle_action"</span>:<span class="hljs-number">32</span>,<span class="hljs-string">"handle"</span>:<span class="hljs-number">33</span>,<span class="hljs-string">"prec"</span>:<span class="hljs-number">34</span>,<span class="hljs-string">"action"</span>:<span class="hljs-number">35</span>,<span class="hljs-string">"expression_suffix"</span>:<span class="hljs-number">36</span>,<span class="hljs-string">"handle_sublist"</span>:<span class="hljs-number">37</span>,<span class="hljs-string">"expression"</span>:<span class="hljs-number">38</span>,<span class="hljs-string">"suffix"</span>:<span class="hljs-number">39</span>,<span class="hljs-string">"ALIAS"</span>:<span class="hljs-number">40</span>,<span class="hljs-string">"ID"</span>:<span class="hljs-number">41</span>,<span class="hljs-string">"STRING"</span>:<span class="hljs-number">42</span>,<span class="hljs-string">"("</span>:<span class="hljs-number">43</span>,<span class="hljs-string">")"</span>:<span class="hljs-number">44</span>,<span class="hljs-string">"*"</span>:<span class="hljs-number">45</span>,<span class="hljs-string">"?"</span>:<span class="hljs-number">46</span>,<span class="hljs-string">"+"</span>:<span class="hljs-number">47</span>,<span class="hljs-string">"PREC"</span>:<span class="hljs-number">48</span>,<span class="hljs-string">"{"</span>:<span class="hljs-number">49</span>,<span class="hljs-string">"action_body"</span>:<span class="hljs-number">50</span>,<span class="hljs-string">"}"</span>:<span class="hljs-number">51</span>,<span class="hljs-string">"ARROW_ACTION"</span>:<span class="hljs-number">52</span>,<span class="hljs-string">"action_comments_body"</span>:<span class="hljs-number">53</span>,<span class="hljs-string">"ACTION_BODY"</span>:<span class="hljs-number">54</span>,<span class="hljs-string">"$accept"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"$end"</span>:<span class="hljs-number">1</span>},
terminals_: {<span class="hljs-number">2</span>:<span class="hljs-string">"error"</span>,<span class="hljs-number">5</span>:<span class="hljs-string">"%%"</span>,<span class="hljs-number">8</span>:<span class="hljs-string">"EOF"</span>,<span class="hljs-number">9</span>:<span class="hljs-string">"CODE"</span>,<span class="hljs-number">11</span>:<span class="hljs-string">"START"</span>,<span class="hljs-number">13</span>:<span class="hljs-string">"LEX_BLOCK"</span>,<span class="hljs-number">15</span>:<span class="hljs-string">"ACTION"</span>,<span class="hljs-number">18</span>:<span class="hljs-string">"OPTIONS"</span>,<span class="hljs-number">20</span>:<span class="hljs-string">"PARSE_PARAM"</span>,<span class="hljs-number">22</span>:<span class="hljs-string">"LEFT"</span>,<span class="hljs-number">23</span>:<span class="hljs-string">"RIGHT"</span>,<span class="hljs-number">24</span>:<span class="hljs-string">"NONASSOC"</span>,<span class="hljs-number">28</span>:<span class="hljs-string">":"</span>,<span class="hljs-number">30</span>:<span class="hljs-string">";"</span>,<span class="hljs-number">31</span>:<span class="hljs-string">"|"</span>,<span class="hljs-number">40</span>:<span class="hljs-string">"ALIAS"</span>,<span class="hljs-number">41</span>:<span class="hljs-string">"ID"</span>,<span class="hljs-number">42</span>:<span class="hljs-string">"STRING"</span>,<span class="hljs-number">43</span>:<span class="hljs-string">"("</span>,<span class="hljs-number">44</span>:<span class="hljs-string">")"</span>,<span class="hljs-number">45</span>:<span class="hljs-string">"*"</span>,<span class="hljs-number">46</span>:<span class="hljs-string">"?"</span>,<span class="hljs-number">47</span>:<span class="hljs-string">"+"</span>,<span class="hljs-number">48</span>:<span class="hljs-string">"PREC"</span>,<span class="hljs-number">49</span>:<span class="hljs-string">"{"</span>,<span class="hljs-number">51</span>:<span class="hljs-string">"}"</span>,<span class="hljs-number">52</span>:<span class="hljs-string">"ARROW_ACTION"</span>,<span class="hljs-number">54</span>:<span class="hljs-string">"ACTION_BODY"</span>},
productions_: [<span class="hljs-number">0</span>,[<span class="hljs-number">3</span>,<span class="hljs-number">5</span>],[<span class="hljs-number">3</span>,<span class="hljs-number">6</span>],[<span class="hljs-number">7</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">7</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">10</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">10</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">10</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">10</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">10</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">10</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">17</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">16</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">14</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">21</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">21</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">21</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">19</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">19</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">6</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">26</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">26</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">27</span>,<span class="hljs-number">4</span>],[<span class="hljs-number">29</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">29</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">32</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">33</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">33</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">37</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">37</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">36</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">36</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">38</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">38</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">38</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">39</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">39</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">39</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">39</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">34</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">34</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">25</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">25</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">12</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">50</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">50</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">50</span>,<span class="hljs-number">5</span>],[<span class="hljs-number">50</span>,<span class="hljs-number">4</span>],[<span class="hljs-number">53</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">53</span>,<span class="hljs-number">2</span>]],
performAction: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">anonymous</span>(<span class="hljs-params">yytext, yyleng, yylineno, yy, yystate <span class="hljs-comment">/* action[1] */</span>, $$ <span class="hljs-comment">/* vstack */</span>, _$ <span class="hljs-comment">/* lstack */</span></span>) </span>{
<span class="hljs-comment">/* this == yyval */</span>

<span class="hljs-keyword">var</span> $<span class="hljs-number">0</span> = $$.length - <span class="hljs-number">1</span>;
<span class="hljs-keyword">switch</span> (yystate) {
<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
          <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-4</span>];
          <span class="hljs-keyword">return</span> extend(<span class="hljs-keyword">this</span>.$, $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>]);
        
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
          <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-5</span>];
          yy.addDeclaration(<span class="hljs-keyword">this</span>.$, { include: $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] });
          <span class="hljs-keyword">return</span> extend(<span class="hljs-keyword">this</span>.$, $$[$<span class="hljs-number">0</span><span class="hljs-number">-3</span>]);
        
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]; yy.addDeclaration(<span class="hljs-keyword">this</span>.$, $$[$<span class="hljs-number">0</span>]);
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<span class="hljs-keyword">this</span>.$ = {};
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<span class="hljs-keyword">this</span>.$ = {start: $$[$<span class="hljs-number">0</span>]};
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<span class="hljs-keyword">this</span>.$ = {lex: $$[$<span class="hljs-number">0</span>]};
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<span class="hljs-keyword">this</span>.$ = {operator: $$[$<span class="hljs-number">0</span>]};
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<span class="hljs-keyword">this</span>.$ = {include: $$[$<span class="hljs-number">0</span>]};
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<span class="hljs-keyword">this</span>.$ = {parseParam: $$[$<span class="hljs-number">0</span>]};
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<span class="hljs-keyword">this</span>.$ = {options: $$[$<span class="hljs-number">0</span>]};
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<span class="hljs-keyword">this</span>.$ = [$$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]]; <span class="hljs-keyword">this</span>.$.push.apply(<span class="hljs-keyword">this</span>.$, $$[$<span class="hljs-number">0</span>]);
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:<span class="hljs-keyword">this</span>.$ = <span class="hljs-string">'left'</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<span class="hljs-keyword">this</span>.$ = <span class="hljs-string">'right'</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<span class="hljs-keyword">this</span>.$ = <span class="hljs-string">'nonassoc'</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]; <span class="hljs-keyword">this</span>.$.push($$[$<span class="hljs-number">0</span>]);
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">20</span>:<span class="hljs-keyword">this</span>.$ = [$$[$<span class="hljs-number">0</span>]];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:
            <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>];
            <span class="hljs-keyword">if</span> ($$[$<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.$) 
                <span class="hljs-keyword">this</span>.$[$$[$<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]] = <span class="hljs-keyword">this</span>.$[$$[$<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]].concat($$[$<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]);
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.$[$$[$<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]] = $$[$<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];
        
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<span class="hljs-keyword">this</span>.$ = {}; <span class="hljs-keyword">this</span>.$[$$[$<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]] = $$[$<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">24</span>:<span class="hljs-keyword">this</span>.$ = [$$[$<span class="hljs-number">0</span><span class="hljs-number">-3</span>], $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">25</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>]; <span class="hljs-keyword">this</span>.$.push($$[$<span class="hljs-number">0</span>]);
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<span class="hljs-keyword">this</span>.$ = [$$[$<span class="hljs-number">0</span>]];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:
            <span class="hljs-keyword">this</span>.$ = [($$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>].length ? $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>].join(<span class="hljs-string">' '</span>) : <span class="hljs-string">''</span>)];
            <span class="hljs-keyword">if</span>($$[$<span class="hljs-number">0</span>]) <span class="hljs-keyword">this</span>.$.push($$[$<span class="hljs-number">0</span>]);
            <span class="hljs-keyword">if</span>($$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]) <span class="hljs-keyword">this</span>.$.push($$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.$.length === <span class="hljs-number">1</span>) <span class="hljs-keyword">this</span>.$ = <span class="hljs-keyword">this</span>.$[<span class="hljs-number">0</span>];
        
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">28</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]; <span class="hljs-keyword">this</span>.$.push($$[$<span class="hljs-number">0</span>])
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">29</span>:<span class="hljs-keyword">this</span>.$ = [];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>]; <span class="hljs-keyword">this</span>.$.push($$[$<span class="hljs-number">0</span>].join(<span class="hljs-string">' '</span>));
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:<span class="hljs-keyword">this</span>.$ = [$$[$<span class="hljs-number">0</span>].join(<span class="hljs-string">' '</span>)];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">32</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>] + $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] + <span class="hljs-string">"["</span> + $$[$<span class="hljs-number">0</span>] + <span class="hljs-string">"]"</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">33</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] + $$[$<span class="hljs-number">0</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">35</span>:<span class="hljs-keyword">this</span>.$ = ebnf ? <span class="hljs-string">"'"</span> + $$[$<span class="hljs-number">0</span>] + <span class="hljs-string">"'"</span> : $$[$<span class="hljs-number">0</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">36</span>:<span class="hljs-keyword">this</span>.$ = <span class="hljs-string">'('</span> + $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>].join(<span class="hljs-string">' | '</span>) + <span class="hljs-string">')'</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">37</span>:<span class="hljs-keyword">this</span>.$ = <span class="hljs-string">''</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<span class="hljs-keyword">this</span>.$ = {prec: $$[$<span class="hljs-number">0</span>]};
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">42</span>:<span class="hljs-keyword">this</span>.$ = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">43</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">44</span>:<span class="hljs-keyword">this</span>.$ = yytext;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">45</span>:<span class="hljs-keyword">this</span>.$ = yytext;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">46</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">47</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">48</span>:<span class="hljs-keyword">this</span>.$ = <span class="hljs-string">'$$ ='</span> + $$[$<span class="hljs-number">0</span>] + <span class="hljs-string">';'</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">49</span>:<span class="hljs-keyword">this</span>.$ = <span class="hljs-string">''</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">50</span>:<span class="hljs-keyword">this</span>.$ = <span class="hljs-string">''</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">51</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">52</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-4</span>] + $$[$<span class="hljs-number">0</span><span class="hljs-number">-3</span>] + $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>] + $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] + $$[$<span class="hljs-number">0</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">53</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-3</span>] + $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>] + $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] + $$[$<span class="hljs-number">0</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">54</span>: <span class="hljs-keyword">this</span>.$ = yytext; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">55</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]+$$[$<span class="hljs-number">0</span>]; 
<span class="hljs-keyword">break</span>;
}
},
table: [{<span class="hljs-number">3</span>:<span class="hljs-number">1</span>,<span class="hljs-number">4</span>:<span class="hljs-number">2</span>,<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>]},{<span class="hljs-number">1</span>:[<span class="hljs-number">3</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">3</span>],<span class="hljs-number">10</span>:<span class="hljs-number">4</span>,<span class="hljs-number">11</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">5</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">6</span>],<span class="hljs-number">14</span>:<span class="hljs-number">7</span>,<span class="hljs-number">15</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">8</span>],<span class="hljs-number">16</span>:<span class="hljs-number">9</span>,<span class="hljs-number">17</span>:<span class="hljs-number">10</span>,<span class="hljs-number">18</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">13</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">12</span>],<span class="hljs-number">21</span>:<span class="hljs-number">11</span>,<span class="hljs-number">22</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">14</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">15</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">16</span>]},{<span class="hljs-number">6</span>:<span class="hljs-number">17</span>,<span class="hljs-number">12</span>:<span class="hljs-number">20</span>,<span class="hljs-number">26</span>:<span class="hljs-number">18</span>,<span class="hljs-number">27</span>:<span class="hljs-number">19</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>]},{<span class="hljs-number">12</span>:<span class="hljs-number">22</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>]},{<span class="hljs-number">12</span>:<span class="hljs-number">25</span>,<span class="hljs-number">19</span>:<span class="hljs-number">23</span>,<span class="hljs-number">25</span>:<span class="hljs-number">24</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>]},{<span class="hljs-number">12</span>:<span class="hljs-number">25</span>,<span class="hljs-number">19</span>:<span class="hljs-number">27</span>,<span class="hljs-number">25</span>:<span class="hljs-number">24</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>]},{<span class="hljs-number">12</span>:<span class="hljs-number">25</span>,<span class="hljs-number">19</span>:<span class="hljs-number">28</span>,<span class="hljs-number">25</span>:<span class="hljs-number">24</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>]},{<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>]},{<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>]},{<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">30</span>],<span class="hljs-number">7</span>:<span class="hljs-number">29</span>,<span class="hljs-number">8</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">21</span>],<span class="hljs-number">8</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">21</span>],<span class="hljs-number">12</span>:<span class="hljs-number">20</span>,<span class="hljs-number">27</span>:<span class="hljs-number">31</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">23</span>],<span class="hljs-number">8</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">23</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">23</span>]},{<span class="hljs-number">28</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">32</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">28</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">12</span>:<span class="hljs-number">25</span>,<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">25</span>:<span class="hljs-number">33</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">12</span>:<span class="hljs-number">25</span>,<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">25</span>:<span class="hljs-number">33</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">12</span>:<span class="hljs-number">25</span>,<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">25</span>:<span class="hljs-number">33</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>]},{<span class="hljs-number">8</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">34</span>]},{<span class="hljs-number">8</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>],<span class="hljs-number">9</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">35</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">22</span>],<span class="hljs-number">8</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">22</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">22</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">29</span>:<span class="hljs-number">36</span>,<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">32</span>:<span class="hljs-number">37</span>,<span class="hljs-number">33</span>:<span class="hljs-number">38</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">20</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">23</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>]},{<span class="hljs-number">1</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">1</span>]},{<span class="hljs-number">8</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">39</span>]},{<span class="hljs-number">30</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">40</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">41</span>]},{<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">34</span>:<span class="hljs-number">42</span>,<span class="hljs-number">36</span>:<span class="hljs-number">43</span>,<span class="hljs-number">38</span>:<span class="hljs-number">45</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">46</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">47</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">48</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">44</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>]},{<span class="hljs-number">1</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">2</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">24</span>],<span class="hljs-number">8</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">24</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">24</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">32</span>:<span class="hljs-number">49</span>,<span class="hljs-number">33</span>:<span class="hljs-number">38</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">52</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">35</span>:<span class="hljs-number">50</span>,<span class="hljs-number">49</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">51</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">53</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>]},{<span class="hljs-number">12</span>:<span class="hljs-number">25</span>,<span class="hljs-number">25</span>:<span class="hljs-number">54</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">39</span>:<span class="hljs-number">55</span>,<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">45</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">56</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">57</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">58</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">45</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">45</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>]},{<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">33</span>:<span class="hljs-number">60</span>,<span class="hljs-number">37</span>:<span class="hljs-number">59</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">25</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">25</span>]},{<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>]},{<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">50</span>:<span class="hljs-number">61</span>,<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">53</span>:<span class="hljs-number">62</span>,<span class="hljs-number">54</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">63</span>]},{<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>]},{<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">64</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>]},{<span class="hljs-number">31</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">66</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">65</span>]},{<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">31</span>],<span class="hljs-number">36</span>:<span class="hljs-number">43</span>,<span class="hljs-number">38</span>:<span class="hljs-number">45</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">46</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">47</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">48</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">31</span>]},{<span class="hljs-number">49</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">68</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">67</span>]},{<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">69</span>]},{<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>]},{<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">45</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>]},{<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">33</span>:<span class="hljs-number">70</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>]},{<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">50</span>:<span class="hljs-number">71</span>,<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">53</span>:<span class="hljs-number">62</span>,<span class="hljs-number">54</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">63</span>]},{<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>]},{<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">30</span>],<span class="hljs-number">36</span>:<span class="hljs-number">43</span>,<span class="hljs-number">38</span>:<span class="hljs-number">45</span>,<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">46</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">47</span>],<span class="hljs-number">43</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">48</span>],<span class="hljs-number">44</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">30</span>]},{<span class="hljs-number">49</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">68</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">72</span>]},{<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">53</span>:<span class="hljs-number">73</span>,<span class="hljs-number">54</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">63</span>]},{<span class="hljs-number">49</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">69</span>]}],
defaultActions: {<span class="hljs-number">34</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">1</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">2</span>]},
parseError: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseError</span>(<span class="hljs-params">str, hash</span>) </span>{
    <span class="hljs-keyword">if</span> (hash.recoverable) {
        <span class="hljs-keyword">this</span>.trace(str);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(str);
    }
},
parse: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span>(<span class="hljs-params">input</span>) </span>{
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>, stack = [<span class="hljs-number">0</span>], vstack = [<span class="hljs-literal">null</span>], lstack = [], table = <span class="hljs-keyword">this</span>.table, yytext = <span class="hljs-string">''</span>, yylineno = <span class="hljs-number">0</span>, yyleng = <span class="hljs-number">0</span>, recovering = <span class="hljs-number">0</span>, TERROR = <span class="hljs-number">2</span>, EOF = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> args = lstack.slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>);
    <span class="hljs-keyword">this</span>.lexer.setInput(input);
    <span class="hljs-keyword">this</span>.lexer.yy = <span class="hljs-keyword">this</span>.yy;
    <span class="hljs-keyword">this</span>.yy.lexer = <span class="hljs-keyword">this</span>.lexer;
    <span class="hljs-keyword">this</span>.yy.parser = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.lexer.yylloc == <span class="hljs-string">'undefined'</span>) {
        <span class="hljs-keyword">this</span>.lexer.yylloc = {};
    }
    <span class="hljs-keyword">var</span> yyloc = <span class="hljs-keyword">this</span>.lexer.yylloc;
    lstack.push(yyloc);
    <span class="hljs-keyword">var</span> ranges = <span class="hljs-keyword">this</span>.lexer.options &amp;&amp; <span class="hljs-keyword">this</span>.lexer.options.ranges;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.yy.parseError === <span class="hljs-string">'function'</span>) {
        <span class="hljs-keyword">this</span>.parseError = <span class="hljs-keyword">this</span>.yy.parseError;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.parseError = <span class="hljs-built_in">Object</span>.getPrototypeOf(<span class="hljs-keyword">this</span>).parseError;
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popStack</span>(<span class="hljs-params">n</span>) </span>{
        stack.length = stack.length - <span class="hljs-number">2</span> * n;
        vstack.length = vstack.length - n;
        lstack.length = lstack.length - n;
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lex</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> token;
        token = self.lexer.lex() || EOF;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> token !== <span class="hljs-string">'number'</span>) {
            token = self.symbols_[token] || token;
        }
        <span class="hljs-keyword">return</span> token;
    }
    <span class="hljs-keyword">var</span> symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
        state = stack[stack.length - <span class="hljs-number">1</span>];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.defaultActions[state]) {
            action = <span class="hljs-keyword">this</span>.defaultActions[state];
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (symbol === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> symbol == <span class="hljs-string">'undefined'</span>) {
                symbol = lex();
            }
            action = table[state] &amp;&amp; table[state][symbol];
        }
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> action === <span class="hljs-string">'undefined'</span> || !action.length || !action[<span class="hljs-number">0</span>]) {
                <span class="hljs-keyword">var</span> errStr = <span class="hljs-string">''</span>;
                expected = [];
                <span class="hljs-keyword">for</span> (p <span class="hljs-keyword">in</span> table[state]) {
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.terminals_[p] &amp;&amp; p &gt; TERROR) {
                        expected.push(<span class="hljs-string">'\''</span> + <span class="hljs-keyword">this</span>.terminals_[p] + <span class="hljs-string">'\''</span>);
                    }
                }
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.lexer.showPosition) {
                    errStr = <span class="hljs-string">'Parse error on line '</span> + (yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">':\n'</span> + <span class="hljs-keyword">this</span>.lexer.showPosition() + <span class="hljs-string">'\nExpecting '</span> + expected.join(<span class="hljs-string">', '</span>) + <span class="hljs-string">', got \''</span> + (<span class="hljs-keyword">this</span>.terminals_[symbol] || symbol) + <span class="hljs-string">'\''</span>;
                } <span class="hljs-keyword">else</span> {
                    errStr = <span class="hljs-string">'Parse error on line '</span> + (yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">': Unexpected '</span> + (symbol == EOF ? <span class="hljs-string">'end of input'</span> : <span class="hljs-string">'\''</span> + (<span class="hljs-keyword">this</span>.terminals_[symbol] || symbol) + <span class="hljs-string">'\''</span>);
                }
                <span class="hljs-keyword">this</span>.parseError(errStr, {
                    text: <span class="hljs-keyword">this</span>.lexer.match,
                    token: <span class="hljs-keyword">this</span>.terminals_[symbol] || symbol,
                    line: <span class="hljs-keyword">this</span>.lexer.yylineno,
                    loc: yyloc,
                    expected: expected
                });
            }
        <span class="hljs-keyword">if</span> (action[<span class="hljs-number">0</span>] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> &amp;&amp; action.length &gt; <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Parse Error: multiple actions possible at state: '</span> + state + <span class="hljs-string">', token: '</span> + symbol);
        }
        <span class="hljs-keyword">switch</span> (action[<span class="hljs-number">0</span>]) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
            stack.push(symbol);
            vstack.push(<span class="hljs-keyword">this</span>.lexer.yytext);
            lstack.push(<span class="hljs-keyword">this</span>.lexer.yylloc);
            stack.push(action[<span class="hljs-number">1</span>]);
            symbol = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">if</span> (!preErrorSymbol) {
                yyleng = <span class="hljs-keyword">this</span>.lexer.yyleng;
                yytext = <span class="hljs-keyword">this</span>.lexer.yytext;
                yylineno = <span class="hljs-keyword">this</span>.lexer.yylineno;
                yyloc = <span class="hljs-keyword">this</span>.lexer.yylloc;
                <span class="hljs-keyword">if</span> (recovering &gt; <span class="hljs-number">0</span>) {
                    recovering--;
                }
            } <span class="hljs-keyword">else</span> {
                symbol = preErrorSymbol;
                preErrorSymbol = <span class="hljs-literal">null</span>;
            }
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            len = <span class="hljs-keyword">this</span>.productions_[action[<span class="hljs-number">1</span>]][<span class="hljs-number">1</span>];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
                first_line: lstack[lstack.length - (len || <span class="hljs-number">1</span>)].first_line,
                last_line: lstack[lstack.length - <span class="hljs-number">1</span>].last_line,
                first_column: lstack[lstack.length - (len || <span class="hljs-number">1</span>)].first_column,
                last_column: lstack[lstack.length - <span class="hljs-number">1</span>].last_column
            };
            <span class="hljs-keyword">if</span> (ranges) {
                yyval._$.range = [
                    lstack[lstack.length - (len || <span class="hljs-number">1</span>)].range[<span class="hljs-number">0</span>],
                    lstack[lstack.length - <span class="hljs-number">1</span>].range[<span class="hljs-number">1</span>]
                ];
            }
            r = <span class="hljs-keyword">this</span>.performAction.apply(yyval, [
                yytext,
                yyleng,
                yylineno,
                <span class="hljs-keyword">this</span>.yy,
                action[<span class="hljs-number">1</span>],
                vstack,
                lstack
            ].concat(args));
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> r !== <span class="hljs-string">'undefined'</span>) {
                <span class="hljs-keyword">return</span> r;
            }
            <span class="hljs-keyword">if</span> (len) {
                stack = stack.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-1</span> * len * <span class="hljs-number">2</span>);
                vstack = vstack.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-1</span> * len);
                lstack = lstack.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-1</span> * len);
            }
            stack.push(<span class="hljs-keyword">this</span>.productions_[action[<span class="hljs-number">1</span>]][<span class="hljs-number">0</span>]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - <span class="hljs-number">2</span>]][stack[stack.length - <span class="hljs-number">1</span>]];
            stack.push(newState);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}};

<span class="hljs-keyword">var</span> transform = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./ebnf-transform'</span>).transform;
<span class="hljs-keyword">var</span> ebnf = <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-66">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-66">&#182;</a>
              </div>
              <p>transform ebnf to bnf if necessary</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">extend</span> (<span class="hljs-params">json, grammar</span>) </span>{
    json.bnf = ebnf ? transform(grammar) : grammar;
    <span class="hljs-keyword">return</span> json;
}

<span class="hljs-comment">/* generated by jison-lex 0.2.1 */</span>
<span class="hljs-keyword">var</span> lexer = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-keyword">var</span> lexer = {

EOF:<span class="hljs-number">1</span>,

parseError:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseError</span>(<span class="hljs-params">str, hash</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.yy.parser) {
            <span class="hljs-keyword">this</span>.yy.parser.parseError(str, hash);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(str);
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-67">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-67">&#182;</a>
              </div>
              <p>resets the lexer, sets new input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>setInput:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">this</span>._input = input;
        <span class="hljs-keyword">this</span>._more = <span class="hljs-keyword">this</span>._backtrack = <span class="hljs-keyword">this</span>.done = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.yylineno = <span class="hljs-keyword">this</span>.yyleng = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.yytext = <span class="hljs-keyword">this</span>.matched = <span class="hljs-keyword">this</span>.match = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.conditionStack = [<span class="hljs-string">'INITIAL'</span>];
        <span class="hljs-keyword">this</span>.yylloc = {
            first_line: <span class="hljs-number">1</span>,
            first_column: <span class="hljs-number">0</span>,
            last_line: <span class="hljs-number">1</span>,
            last_column: <span class="hljs-number">0</span>
        };
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range = [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>];
        }
        <span class="hljs-keyword">this</span>.offset = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-68">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-68">&#182;</a>
              </div>
              <p>consumes and returns one char from the input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>input:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ch = <span class="hljs-keyword">this</span>._input[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.yytext += ch;
        <span class="hljs-keyword">this</span>.yyleng++;
        <span class="hljs-keyword">this</span>.offset++;
        <span class="hljs-keyword">this</span>.match += ch;
        <span class="hljs-keyword">this</span>.matched += ch;
        <span class="hljs-keyword">var</span> lines = ch.match(<span class="hljs-regexp">/(?:\r\n?|\n).*/g</span>);
        <span class="hljs-keyword">if</span> (lines) {
            <span class="hljs-keyword">this</span>.yylineno++;
            <span class="hljs-keyword">this</span>.yylloc.last_line++;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.yylloc.last_column++;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range[<span class="hljs-number">1</span>]++;
        }

        <span class="hljs-keyword">this</span>._input = <span class="hljs-keyword">this</span>._input.slice(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> ch;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-69">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-69">&#182;</a>
              </div>
              <p>unshifts one char (or a string) into the input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>unput:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">var</span> len = ch.length;
        <span class="hljs-keyword">var</span> lines = ch.split(<span class="hljs-regexp">/(?:\r\n?|\n)/g</span>);

        <span class="hljs-keyword">this</span>._input = ch + <span class="hljs-keyword">this</span>._input;
        <span class="hljs-keyword">this</span>.yytext = <span class="hljs-keyword">this</span>.yytext.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.yytext.length - len - <span class="hljs-number">1</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-70">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-70">&#182;</a>
              </div>
              <p>this.yyleng -= len;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">this</span>.offset -= len;
        <span class="hljs-keyword">var</span> oldLines = <span class="hljs-keyword">this</span>.match.split(<span class="hljs-regexp">/(?:\r\n?|\n)/g</span>);
        <span class="hljs-keyword">this</span>.match = <span class="hljs-keyword">this</span>.match.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.match.length - <span class="hljs-number">1</span>);
        <span class="hljs-keyword">this</span>.matched = <span class="hljs-keyword">this</span>.matched.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.matched.length - <span class="hljs-number">1</span>);

        <span class="hljs-keyword">if</span> (lines.length - <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">this</span>.yylineno -= lines.length - <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">var</span> r = <span class="hljs-keyword">this</span>.yylloc.range;

        <span class="hljs-keyword">this</span>.yylloc = {
            first_line: <span class="hljs-keyword">this</span>.yylloc.first_line,
            last_line: <span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>,
            first_column: <span class="hljs-keyword">this</span>.yylloc.first_column,
            last_column: lines ?
                (lines.length === oldLines.length ? <span class="hljs-keyword">this</span>.yylloc.first_column : <span class="hljs-number">0</span>)
                 + oldLines[oldLines.length - lines.length].length - lines[<span class="hljs-number">0</span>].length :
              <span class="hljs-keyword">this</span>.yylloc.first_column - len
        };

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range = [r[<span class="hljs-number">0</span>], r[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.yyleng - len];
        }
        <span class="hljs-keyword">this</span>.yyleng = <span class="hljs-keyword">this</span>.yytext.length;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-71">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-71">&#182;</a>
              </div>
              <p>When called from action, caches matched text and appends it on next action</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>more:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._more = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-72">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-72">&#182;</a>
              </div>
              <p>When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>reject:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.backtrack_lexer) {
            <span class="hljs-keyword">this</span>._backtrack = <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.parseError(<span class="hljs-string">'Lexical error on line '</span> + (<span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">'. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n'</span> + <span class="hljs-keyword">this</span>.showPosition(), {
                text: <span class="hljs-string">""</span>,
                token: <span class="hljs-literal">null</span>,
                line: <span class="hljs-keyword">this</span>.yylineno
            });

        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-73">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-73">&#182;</a>
              </div>
              <p>retain first n characters of the match</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>less:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) </span>{
        <span class="hljs-keyword">this</span>.unput(<span class="hljs-keyword">this</span>.match.slice(n));
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-74">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-74">&#182;</a>
              </div>
              <p>displays already matched input, i.e. for error messages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>pastInput:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> past = <span class="hljs-keyword">this</span>.matched.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.matched.length - <span class="hljs-keyword">this</span>.match.length);
        <span class="hljs-keyword">return</span> (past.length &gt; <span class="hljs-number">20</span> ? <span class="hljs-string">'...'</span>:<span class="hljs-string">''</span>) + past.substr(<span class="hljs-number">-20</span>).replace(<span class="hljs-regexp">/\n/g</span>, <span class="hljs-string">""</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-75">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-75">&#182;</a>
              </div>
              <p>displays upcoming input, i.e. for error messages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>upcomingInput:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> next = <span class="hljs-keyword">this</span>.match;
        <span class="hljs-keyword">if</span> (next.length &lt; <span class="hljs-number">20</span>) {
            next += <span class="hljs-keyword">this</span>._input.substr(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>-next.length);
        }
        <span class="hljs-keyword">return</span> (next.substr(<span class="hljs-number">0</span>,<span class="hljs-number">20</span>) + (next.length &gt; <span class="hljs-number">20</span> ? <span class="hljs-string">'...'</span> : <span class="hljs-string">''</span>)).replace(<span class="hljs-regexp">/\n/g</span>, <span class="hljs-string">""</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-76">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-76">&#182;</a>
              </div>
              <p>displays the character position where the lexing error occurred, i.e. for error messages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>showPosition:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> pre = <span class="hljs-keyword">this</span>.pastInput();
        <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(pre.length + <span class="hljs-number">1</span>).join(<span class="hljs-string">"-"</span>);
        <span class="hljs-keyword">return</span> pre + <span class="hljs-keyword">this</span>.upcomingInput() + <span class="hljs-string">"\n"</span> + c + <span class="hljs-string">"^"</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-77">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-77">&#182;</a>
              </div>
              <p>test the lexed token: return FALSE when not a match, otherwise return token</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>test_match:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">match, indexed_rule</span>) </span>{
        <span class="hljs-keyword">var</span> token,
            lines,
            backup;

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.backtrack_lexer) {</pre></div></div>
            
        </li>
        
        
        <li id="section-78">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-78">&#182;</a>
              </div>
              <p>save context</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            backup = {
                yylineno: <span class="hljs-keyword">this</span>.yylineno,
                yylloc: {
                    first_line: <span class="hljs-keyword">this</span>.yylloc.first_line,
                    last_line: <span class="hljs-keyword">this</span>.last_line,
                    first_column: <span class="hljs-keyword">this</span>.yylloc.first_column,
                    last_column: <span class="hljs-keyword">this</span>.yylloc.last_column
                },
                yytext: <span class="hljs-keyword">this</span>.yytext,
                match: <span class="hljs-keyword">this</span>.match,
                matches: <span class="hljs-keyword">this</span>.matches,
                matched: <span class="hljs-keyword">this</span>.matched,
                yyleng: <span class="hljs-keyword">this</span>.yyleng,
                offset: <span class="hljs-keyword">this</span>.offset,
                _more: <span class="hljs-keyword">this</span>._more,
                _input: <span class="hljs-keyword">this</span>._input,
                yy: <span class="hljs-keyword">this</span>.yy,
                conditionStack: <span class="hljs-keyword">this</span>.conditionStack.slice(<span class="hljs-number">0</span>),
                done: <span class="hljs-keyword">this</span>.done
            };
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
                backup.yylloc.range = <span class="hljs-keyword">this</span>.yylloc.range.slice(<span class="hljs-number">0</span>);
            }
        }

        lines = match[<span class="hljs-number">0</span>].match(<span class="hljs-regexp">/(?:\r\n?|\n).*/g</span>);
        <span class="hljs-keyword">if</span> (lines) {
            <span class="hljs-keyword">this</span>.yylineno += lines.length;
        }
        <span class="hljs-keyword">this</span>.yylloc = {
            first_line: <span class="hljs-keyword">this</span>.yylloc.last_line,
            last_line: <span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>,
            first_column: <span class="hljs-keyword">this</span>.yylloc.last_column,
            last_column: lines ?
                         lines[lines.length - <span class="hljs-number">1</span>].length - lines[lines.length - <span class="hljs-number">1</span>].match(<span class="hljs-regexp">/\r?\n?/</span>)[<span class="hljs-number">0</span>].length :
                         <span class="hljs-keyword">this</span>.yylloc.last_column + match[<span class="hljs-number">0</span>].length
        };
        <span class="hljs-keyword">this</span>.yytext += match[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.match += match[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.matches = match;
        <span class="hljs-keyword">this</span>.yyleng = <span class="hljs-keyword">this</span>.yytext.length;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range = [<span class="hljs-keyword">this</span>.offset, <span class="hljs-keyword">this</span>.offset += <span class="hljs-keyword">this</span>.yyleng];
        }
        <span class="hljs-keyword">this</span>._more = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>._backtrack = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>._input = <span class="hljs-keyword">this</span>._input.slice(match[<span class="hljs-number">0</span>].length);
        <span class="hljs-keyword">this</span>.matched += match[<span class="hljs-number">0</span>];
        token = <span class="hljs-keyword">this</span>.performAction.call(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.yy, <span class="hljs-keyword">this</span>, indexed_rule, <span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>]);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.done &amp;&amp; <span class="hljs-keyword">this</span>._input) {
            <span class="hljs-keyword">this</span>.done = <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (token) {
            <span class="hljs-keyword">return</span> token;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._backtrack) {</pre></div></div>
            
        </li>
        
        
        <li id="section-79">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-79">&#182;</a>
              </div>
              <p>recover context</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> backup) {
                <span class="hljs-keyword">this</span>[k] = backup[k];
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// rule action called reject() implying the next rule should be tested instead.</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-80">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-80">&#182;</a>
              </div>
              <p>return next match in input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>next:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.done) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.EOF;
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._input) {
            <span class="hljs-keyword">this</span>.done = <span class="hljs-literal">true</span>;
        }

        <span class="hljs-keyword">var</span> token,
            match,
            tempMatch,
            index;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._more) {
            <span class="hljs-keyword">this</span>.yytext = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">this</span>.match = <span class="hljs-string">''</span>;
        }
        <span class="hljs-keyword">var</span> rules = <span class="hljs-keyword">this</span>._currentRules();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; rules.length; i++) {
            tempMatch = <span class="hljs-keyword">this</span>._input.match(<span class="hljs-keyword">this</span>.rules[rules[i]]);
            <span class="hljs-keyword">if</span> (tempMatch &amp;&amp; (!match || tempMatch[<span class="hljs-number">0</span>].length &gt; match[<span class="hljs-number">0</span>].length)) {
                match = tempMatch;
                index = i;
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.backtrack_lexer) {
                    token = <span class="hljs-keyword">this</span>.test_match(tempMatch, rules[i]);
                    <span class="hljs-keyword">if</span> (token !== <span class="hljs-literal">false</span>) {
                        <span class="hljs-keyword">return</span> token;
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._backtrack) {
                        match = <span class="hljs-literal">false</span>;
                        <span class="hljs-keyword">continue</span>; <span class="hljs-comment">// rule action called reject() implying a rule MISmatch.</span>
                    } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-81">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-81">&#182;</a>
              </div>
              <p>else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.options.flex) {
                    <span class="hljs-keyword">break</span>;
                }
            }
        }
        <span class="hljs-keyword">if</span> (match) {
            token = <span class="hljs-keyword">this</span>.test_match(match, rules[index]);
            <span class="hljs-keyword">if</span> (token !== <span class="hljs-literal">false</span>) {
                <span class="hljs-keyword">return</span> token;
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-82">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-82">&#182;</a>
              </div>
              <p>else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._input === <span class="hljs-string">""</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.EOF;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.parseError(<span class="hljs-string">'Lexical error on line '</span> + (<span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">'. Unrecognized text.\n'</span> + <span class="hljs-keyword">this</span>.showPosition(), {
                text: <span class="hljs-string">""</span>,
                token: <span class="hljs-literal">null</span>,
                line: <span class="hljs-keyword">this</span>.yylineno
            });
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-83">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-83">&#182;</a>
              </div>
              <p>return next match that has a token</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>lex:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lex</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> r = <span class="hljs-keyword">this</span>.next();
        <span class="hljs-keyword">if</span> (r) {
            <span class="hljs-keyword">return</span> r;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.lex();
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-84">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-84">&#182;</a>
              </div>
              <p>activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>begin:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">begin</span>(<span class="hljs-params">condition</span>) </span>{
        <span class="hljs-keyword">this</span>.conditionStack.push(condition);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-85">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-85">&#182;</a>
              </div>
              <p>pop the previously active lexer condition state off the condition stack</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>popState:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popState</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> n = <span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack.pop();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-number">0</span>];
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-86">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-86">&#182;</a>
              </div>
              <p>produce the lexer rule set which is active for the currently active lexer condition state</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>_currentRules:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_currentRules</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.conditionStack.length &amp;&amp; <span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>]) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditions[<span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>]].rules;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditions[<span class="hljs-string">"INITIAL"</span>].rules;
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-87">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-87">&#182;</a>
              </div>
              <p>return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>topState:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">topState</span>(<span class="hljs-params">n</span>) </span>{
        n = <span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span> - <span class="hljs-built_in">Math</span>.abs(n || <span class="hljs-number">0</span>);
        <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack[n];
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"INITIAL"</span>;
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-88">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-88">&#182;</a>
              </div>
              <p>alias for begin(condition)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>pushState:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pushState</span>(<span class="hljs-params">condition</span>) </span>{
        <span class="hljs-keyword">this</span>.begin(condition);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-89">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-89">&#182;</a>
              </div>
              <p>return the number of states currently on the stack</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>stateStackSize:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stateStackSize</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack.length;
    },
options: {},
performAction: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">anonymous</span>(<span class="hljs-params">yy,yy_,$avoiding_name_collisions,YY_START</span>) </span>{

<span class="hljs-keyword">var</span> YYSTATE=YY_START;
<span class="hljs-keyword">switch</span>($avoiding_name_collisions) {
<span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<span class="hljs-keyword">this</span>.pushState(<span class="hljs-string">'code'</span>);<span class="hljs-keyword">return</span> <span class="hljs-number">5</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">43</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">44</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">45</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">46</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">47</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<span class="hljs-comment">/* skip whitespace */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<span class="hljs-comment">/* skip comment */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<span class="hljs-comment">/* skip comment */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:yy_.yytext = yy_.yytext.substr(<span class="hljs-number">1</span>, yy_.yyleng<span class="hljs-number">-2</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">40</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">41</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:yy_.yytext = yy_.yytext.substr(<span class="hljs-number">1</span>, yy_.yyleng<span class="hljs-number">-2</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">42</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:yy_.yytext = yy_.yytext.substr(<span class="hljs-number">1</span>, yy_.yyleng<span class="hljs-number">-2</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">42</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">28</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">30</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">31</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:<span class="hljs-keyword">this</span>.pushState(ebnf ? <span class="hljs-string">'ebnf'</span> : <span class="hljs-string">'bnf'</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">5</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<span class="hljs-keyword">if</span> (!yy.options) yy.options = {}; ebnf = yy.options.ebnf = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">48</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">11</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">20</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">22</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">23</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">24</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">20</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">24</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">18</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">25</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">13</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<span class="hljs-comment">/* ignore unrecognized decl */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<span class="hljs-comment">/* ignore type */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">28</span>:yy_.yytext = yy_.yytext.substr(<span class="hljs-number">2</span>, yy_.yyleng<span class="hljs-number">-4</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">15</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">29</span>:yy_.yytext = yy_.yytext.substr(<span class="hljs-number">2</span>, yy_.yytext.length<span class="hljs-number">-4</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">15</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:yy.depth = <span class="hljs-number">0</span>; <span class="hljs-keyword">this</span>.pushState(<span class="hljs-string">'action'</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">49</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:yy_.yytext = yy_.yytext.substr(<span class="hljs-number">2</span>, yy_.yyleng<span class="hljs-number">-2</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">52</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">32</span>:<span class="hljs-comment">/* ignore bad characters */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">33</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">8</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">54</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">35</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">54</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">36</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">54</span>; <span class="hljs-comment">// regexp with braces or quotes (and no spaces)</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">37</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">54</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">38</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">54</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">54</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">40</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">54</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:yy.depth++; <span class="hljs-keyword">return</span> <span class="hljs-number">49</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">42</span>:<span class="hljs-keyword">if</span> (yy.depth==<span class="hljs-number">0</span>) <span class="hljs-keyword">this</span>.begin(ebnf ? <span class="hljs-string">'ebnf'</span> : <span class="hljs-string">'bnf'</span>); <span class="hljs-keyword">else</span> yy.depth--; <span class="hljs-keyword">return</span> <span class="hljs-number">51</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">43</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">9</span>;
<span class="hljs-keyword">break</span>;
}
},
rules: [<span class="hljs-regexp">/^(?:%%)/</span>,<span class="hljs-regexp">/^(?:\()/</span>,<span class="hljs-regexp">/^(?:\))/</span>,<span class="hljs-regexp">/^(?:\*)/</span>,<span class="hljs-regexp">/^(?:\?)/</span>,<span class="hljs-regexp">/^(?:\+)/</span>,<span class="hljs-regexp">/^(?:\s+)/</span>,<span class="hljs-regexp">/^(?:\/\/.*)/</span>,<span class="hljs-regexp">/^(?:\/\*(.|\n|\r)*?\*\/)/</span>,<span class="hljs-regexp">/^(?:\[([a-zA-Z][a-zA-Z0-9_-]*)\])/</span>,<span class="hljs-regexp">/^(?:([a-zA-Z][a-zA-Z0-9_-]*))/</span>,<span class="hljs-regexp">/^(?:"[^"]+")/</span>,<span class="hljs-regexp">/^(?:'[^']+')/</span>,<span class="hljs-regexp">/^(?::)/</span>,<span class="hljs-regexp">/^(?:;)/</span>,<span class="hljs-regexp">/^(?:\|)/</span>,<span class="hljs-regexp">/^(?:%%)/</span>,<span class="hljs-regexp">/^(?:%ebnf\b)/</span>,<span class="hljs-regexp">/^(?:%prec\b)/</span>,<span class="hljs-regexp">/^(?:%start\b)/</span>,<span class="hljs-regexp">/^(?:%left\b)/</span>,<span class="hljs-regexp">/^(?:%right\b)/</span>,<span class="hljs-regexp">/^(?:%nonassoc\b)/</span>,<span class="hljs-regexp">/^(?:%parse-param\b)/</span>,<span class="hljs-regexp">/^(?:%options\b)/</span>,<span class="hljs-regexp">/^(?:%lex[\w\W]*?\/lex\b)/</span>,<span class="hljs-regexp">/^(?:%[a-zA-Z]+[^\r\n]*)/</span>,<span class="hljs-regexp">/^(?:&lt;[a-zA-Z]*&gt;)/</span>,<span class="hljs-regexp">/^(?:\{\{[\w\W]*?\}\})/</span>,<span class="hljs-regexp">/^(?:%\{(.|\r|\n)*?%\})/</span>,<span class="hljs-regexp">/^(?:\{)/</span>,<span class="hljs-regexp">/^(?:-&gt;.*)/</span>,<span class="hljs-regexp">/^(?:.)/</span>,<span class="hljs-regexp">/^(?:$)/</span>,<span class="hljs-regexp">/^(?:\/\*(.|\n|\r)*?\*\/)/</span>,<span class="hljs-regexp">/^(?:\/\/.*)/</span>,<span class="hljs-regexp">/^(?:\/[^ /]*?['"{}'][^ ]*?\/)/</span>,<span class="hljs-regexp">/^(?:"(\\\\|\\"|[^"])*")/</span>,<span class="hljs-regexp">/^(?:'(\\\\|\\'|[^'])*')/</span>,<span class="hljs-regexp">/^(?:[/"'][^{}/"']+)/</span>,<span class="hljs-regexp">/^(?:[^{}/"']+)/</span>,<span class="hljs-regexp">/^(?:\{)/</span>,<span class="hljs-regexp">/^(?:\})/</span>,<span class="hljs-regexp">/^(?:(.|\n|\r)+)/</span>],
conditions: {<span class="hljs-string">"bnf"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">0</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>,<span class="hljs-number">11</span>,<span class="hljs-number">12</span>,<span class="hljs-number">13</span>,<span class="hljs-number">14</span>,<span class="hljs-number">15</span>,<span class="hljs-number">16</span>,<span class="hljs-number">17</span>,<span class="hljs-number">18</span>,<span class="hljs-number">19</span>,<span class="hljs-number">20</span>,<span class="hljs-number">21</span>,<span class="hljs-number">22</span>,<span class="hljs-number">23</span>,<span class="hljs-number">24</span>,<span class="hljs-number">25</span>,<span class="hljs-number">26</span>,<span class="hljs-number">27</span>,<span class="hljs-number">28</span>,<span class="hljs-number">29</span>,<span class="hljs-number">30</span>,<span class="hljs-number">31</span>,<span class="hljs-number">32</span>,<span class="hljs-number">33</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">true</span>},<span class="hljs-string">"ebnf"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>,<span class="hljs-number">11</span>,<span class="hljs-number">12</span>,<span class="hljs-number">13</span>,<span class="hljs-number">14</span>,<span class="hljs-number">15</span>,<span class="hljs-number">16</span>,<span class="hljs-number">17</span>,<span class="hljs-number">18</span>,<span class="hljs-number">19</span>,<span class="hljs-number">20</span>,<span class="hljs-number">21</span>,<span class="hljs-number">22</span>,<span class="hljs-number">23</span>,<span class="hljs-number">24</span>,<span class="hljs-number">25</span>,<span class="hljs-number">26</span>,<span class="hljs-number">27</span>,<span class="hljs-number">28</span>,<span class="hljs-number">29</span>,<span class="hljs-number">30</span>,<span class="hljs-number">31</span>,<span class="hljs-number">32</span>,<span class="hljs-number">33</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">true</span>},<span class="hljs-string">"action"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">33</span>,<span class="hljs-number">34</span>,<span class="hljs-number">35</span>,<span class="hljs-number">36</span>,<span class="hljs-number">37</span>,<span class="hljs-number">38</span>,<span class="hljs-number">39</span>,<span class="hljs-number">40</span>,<span class="hljs-number">41</span>,<span class="hljs-number">42</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">false</span>},<span class="hljs-string">"code"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">33</span>,<span class="hljs-number">43</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">false</span>},<span class="hljs-string">"INITIAL"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>,<span class="hljs-number">11</span>,<span class="hljs-number">12</span>,<span class="hljs-number">13</span>,<span class="hljs-number">14</span>,<span class="hljs-number">15</span>,<span class="hljs-number">16</span>,<span class="hljs-number">17</span>,<span class="hljs-number">18</span>,<span class="hljs-number">19</span>,<span class="hljs-number">20</span>,<span class="hljs-number">21</span>,<span class="hljs-number">22</span>,<span class="hljs-number">23</span>,<span class="hljs-number">24</span>,<span class="hljs-number">25</span>,<span class="hljs-number">26</span>,<span class="hljs-number">27</span>,<span class="hljs-number">28</span>,<span class="hljs-number">29</span>,<span class="hljs-number">30</span>,<span class="hljs-number">31</span>,<span class="hljs-number">32</span>,<span class="hljs-number">33</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">true</span>}}
};
<span class="hljs-keyword">return</span> lexer;
})();
parser.lexer = lexer;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Parser</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">this</span>.yy = {};
}
Parser.prototype = parser;parser.Parser = Parser;
<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Parser;
})();


<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">require</span> !== <span class="hljs-string">'undefined'</span> &amp;&amp; <span class="hljs-keyword">typeof</span> exports !== <span class="hljs-string">'undefined'</span>) {
exports.parser = bnf;
exports.Parser = bnf.Parser;
exports.parse = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> bnf.parse.apply(bnf, <span class="hljs-built_in">arguments</span>); };
exports.main = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">commonjsMain</span>(<span class="hljs-params">args</span>) </span>{
    <span class="hljs-keyword">if</span> (!args[<span class="hljs-number">1</span>]) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Usage: '</span>+args[<span class="hljs-number">0</span>]+<span class="hljs-string">' FILE'</span>);
        process.exit(<span class="hljs-number">1</span>);
    }
    <span class="hljs-keyword">var</span> source = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>).readFileSync(<span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>).normalize(args[<span class="hljs-number">1</span>]), <span class="hljs-string">"utf8"</span>);
    <span class="hljs-keyword">return</span> exports.parser.parse(source);
};
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> !== <span class="hljs-string">'undefined'</span> &amp;&amp; <span class="hljs-built_in">require</span>.main === <span class="hljs-built_in">module</span>) {
  exports.main(process.argv.slice(<span class="hljs-number">1</span>));
}
}
}).call(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">require</span>(<span class="hljs-string">'_process'</span>))
},{<span class="hljs-string">"./ebnf-transform"</span>:<span class="hljs-number">4</span>,<span class="hljs-string">"_process"</span>:<span class="hljs-number">32</span>,<span class="hljs-string">"fs"</span>:<span class="hljs-number">30</span>,<span class="hljs-string">"path"</span>:<span class="hljs-number">31</span>}],<span class="hljs-number">6</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">process</span>)</span>{
<span class="hljs-comment">/* parser generated by jison 0.4.11 */</span>
<span class="hljs-comment">/*
  Returns a Parser object of the following structure:

  Parser: {
    yy: {}
  }

  Parser.prototype: {
    yy: {},
    trace: function(),
    symbols_: {associative list: name ==&gt; number},
    terminals_: {associative list: number ==&gt; name},
    productions_: [...],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),
    table: [...],
    defaultActions: {...},
    parseError: function(str, hash),
    parse: function(input),

    lexer: {
        EOF: 1,
        parseError: function(str, hash),
        setInput: function(input),
        input: function(),
        unput: function(str),
        more: function(),
        less: function(n),
        pastInput: function(),
        upcomingInput: function(),
        showPosition: function(),
        test_match: function(regex_match_array, rule_index),
        next: function(),
        lex: function(),
        begin: function(condition),
        popState: function(),
        _currentRules: function(),
        topState: function(),
        pushState: function(condition),

        options: {
            ranges: boolean           (optional: true ==&gt; token location info will include a .range[] member)
            flex: boolean             (optional: true ==&gt; flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)
            backtrack_lexer: boolean  (optional: true ==&gt; lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)
        },

        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),
        rules: [...],
        conditions: {associative list: name ==&gt; set},
    }
  }


  token location info (@$, _$, etc.): {
    first_line: n,
    last_line: n,
    first_column: n,
    last_column: n,
    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)
  }


  the parseError function receives a 'hash' object with these members for lexer and parser errors: {
    text:        (matched text)
    token:       (the produced terminal token, if any)
    line:        (yylineno)
  }
  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {
    loc:         (yylloc)
    expected:    (string describing the set of expected tokens)
    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)
  }
*/</span>
<span class="hljs-keyword">var</span> ebnf = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-keyword">var</span> parser = {trace: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trace</span>(<span class="hljs-params"></span>) </span>{ },
yy: {},
symbols_: {<span class="hljs-string">"error"</span>:<span class="hljs-number">2</span>,<span class="hljs-string">"production"</span>:<span class="hljs-number">3</span>,<span class="hljs-string">"handle"</span>:<span class="hljs-number">4</span>,<span class="hljs-string">"EOF"</span>:<span class="hljs-number">5</span>,<span class="hljs-string">"handle_list"</span>:<span class="hljs-number">6</span>,<span class="hljs-string">"|"</span>:<span class="hljs-number">7</span>,<span class="hljs-string">"expression_suffix"</span>:<span class="hljs-number">8</span>,<span class="hljs-string">"expression"</span>:<span class="hljs-number">9</span>,<span class="hljs-string">"suffix"</span>:<span class="hljs-number">10</span>,<span class="hljs-string">"ALIAS"</span>:<span class="hljs-number">11</span>,<span class="hljs-string">"symbol"</span>:<span class="hljs-number">12</span>,<span class="hljs-string">"("</span>:<span class="hljs-number">13</span>,<span class="hljs-string">")"</span>:<span class="hljs-number">14</span>,<span class="hljs-string">"*"</span>:<span class="hljs-number">15</span>,<span class="hljs-string">"?"</span>:<span class="hljs-number">16</span>,<span class="hljs-string">"+"</span>:<span class="hljs-number">17</span>,<span class="hljs-string">"$accept"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"$end"</span>:<span class="hljs-number">1</span>},
terminals_: {<span class="hljs-number">2</span>:<span class="hljs-string">"error"</span>,<span class="hljs-number">5</span>:<span class="hljs-string">"EOF"</span>,<span class="hljs-number">7</span>:<span class="hljs-string">"|"</span>,<span class="hljs-number">11</span>:<span class="hljs-string">"ALIAS"</span>,<span class="hljs-number">12</span>:<span class="hljs-string">"symbol"</span>,<span class="hljs-number">13</span>:<span class="hljs-string">"("</span>,<span class="hljs-number">14</span>:<span class="hljs-string">")"</span>,<span class="hljs-number">15</span>:<span class="hljs-string">"*"</span>,<span class="hljs-number">16</span>:<span class="hljs-string">"?"</span>,<span class="hljs-number">17</span>:<span class="hljs-string">"+"</span>},
productions_: [<span class="hljs-number">0</span>,[<span class="hljs-number">3</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">6</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">6</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">8</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">8</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">9</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">9</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">10</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">10</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">10</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">10</span>,<span class="hljs-number">1</span>]],
performAction: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">anonymous</span>(<span class="hljs-params">yytext, yyleng, yylineno, yy, yystate <span class="hljs-comment">/* action[1] */</span>, $$ <span class="hljs-comment">/* vstack */</span>, _$ <span class="hljs-comment">/* lstack */</span></span>) </span>{
<span class="hljs-comment">/* this == yyval */</span>

<span class="hljs-keyword">var</span> $<span class="hljs-number">0</span> = $$.length - <span class="hljs-number">1</span>;
<span class="hljs-keyword">switch</span> (yystate) {
<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-keyword">return</span> $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: <span class="hljs-keyword">this</span>.$ = [$$[$<span class="hljs-number">0</span>]]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>].push($$[$<span class="hljs-number">0</span>]); 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>: <span class="hljs-keyword">this</span>.$ = []; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>: $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>].push($$[$<span class="hljs-number">0</span>]); 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>: <span class="hljs-keyword">this</span>.$ = [<span class="hljs-string">'xalias'</span>, $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>], $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>], $$[$<span class="hljs-number">0</span>]]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>: <span class="hljs-keyword">if</span> ($$[$<span class="hljs-number">0</span>]) <span class="hljs-keyword">this</span>.$ = [$$[$<span class="hljs-number">0</span>], $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]]; <span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">8</span>: <span class="hljs-keyword">this</span>.$ = [<span class="hljs-string">'symbol'</span>, $$[$<span class="hljs-number">0</span>]]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">9</span>: <span class="hljs-keyword">this</span>.$ = [<span class="hljs-string">'()'</span>, $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]]; 
<span class="hljs-keyword">break</span>;
}
},
table: [{<span class="hljs-number">3</span>:<span class="hljs-number">1</span>,<span class="hljs-number">4</span>:<span class="hljs-number">2</span>,<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>]},{<span class="hljs-number">1</span>:[<span class="hljs-number">3</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">3</span>],<span class="hljs-number">8</span>:<span class="hljs-number">4</span>,<span class="hljs-number">9</span>:<span class="hljs-number">5</span>,<span class="hljs-number">12</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">6</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">7</span>]},{<span class="hljs-number">1</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">1</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>],<span class="hljs-number">7</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">7</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">10</span>:<span class="hljs-number">8</span>,<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">9</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">10</span>],<span class="hljs-number">17</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">11</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">7</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">17</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>]},{<span class="hljs-number">4</span>:<span class="hljs-number">13</span>,<span class="hljs-number">6</span>:<span class="hljs-number">12</span>,<span class="hljs-number">7</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">7</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">14</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">7</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">7</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">7</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>]},{<span class="hljs-number">7</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">16</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">15</span>]},{<span class="hljs-number">7</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">2</span>],<span class="hljs-number">8</span>:<span class="hljs-number">4</span>,<span class="hljs-number">9</span>:<span class="hljs-number">5</span>,<span class="hljs-number">12</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">6</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">7</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">2</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],<span class="hljs-number">7</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">7</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">15</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">17</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>]},{<span class="hljs-number">4</span>:<span class="hljs-number">17</span>,<span class="hljs-number">7</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>]},{<span class="hljs-number">7</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],<span class="hljs-number">8</span>:<span class="hljs-number">4</span>,<span class="hljs-number">9</span>:<span class="hljs-number">5</span>,<span class="hljs-number">12</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">6</span>],<span class="hljs-number">13</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">7</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]}],
defaultActions: {<span class="hljs-number">3</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">1</span>]},
parseError: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseError</span>(<span class="hljs-params">str, hash</span>) </span>{
    <span class="hljs-keyword">if</span> (hash.recoverable) {
        <span class="hljs-keyword">this</span>.trace(str);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(str);
    }
},
parse: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span>(<span class="hljs-params">input</span>) </span>{
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>, stack = [<span class="hljs-number">0</span>], vstack = [<span class="hljs-literal">null</span>], lstack = [], table = <span class="hljs-keyword">this</span>.table, yytext = <span class="hljs-string">''</span>, yylineno = <span class="hljs-number">0</span>, yyleng = <span class="hljs-number">0</span>, recovering = <span class="hljs-number">0</span>, TERROR = <span class="hljs-number">2</span>, EOF = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> args = lstack.slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>);
    <span class="hljs-keyword">this</span>.lexer.setInput(input);
    <span class="hljs-keyword">this</span>.lexer.yy = <span class="hljs-keyword">this</span>.yy;
    <span class="hljs-keyword">this</span>.yy.lexer = <span class="hljs-keyword">this</span>.lexer;
    <span class="hljs-keyword">this</span>.yy.parser = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.lexer.yylloc == <span class="hljs-string">'undefined'</span>) {
        <span class="hljs-keyword">this</span>.lexer.yylloc = {};
    }
    <span class="hljs-keyword">var</span> yyloc = <span class="hljs-keyword">this</span>.lexer.yylloc;
    lstack.push(yyloc);
    <span class="hljs-keyword">var</span> ranges = <span class="hljs-keyword">this</span>.lexer.options &amp;&amp; <span class="hljs-keyword">this</span>.lexer.options.ranges;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.yy.parseError === <span class="hljs-string">'function'</span>) {
        <span class="hljs-keyword">this</span>.parseError = <span class="hljs-keyword">this</span>.yy.parseError;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.parseError = <span class="hljs-built_in">Object</span>.getPrototypeOf(<span class="hljs-keyword">this</span>).parseError;
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popStack</span>(<span class="hljs-params">n</span>) </span>{
        stack.length = stack.length - <span class="hljs-number">2</span> * n;
        vstack.length = vstack.length - n;
        lstack.length = lstack.length - n;
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lex</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> token;
        token = self.lexer.lex() || EOF;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> token !== <span class="hljs-string">'number'</span>) {
            token = self.symbols_[token] || token;
        }
        <span class="hljs-keyword">return</span> token;
    }
    <span class="hljs-keyword">var</span> symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
        state = stack[stack.length - <span class="hljs-number">1</span>];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.defaultActions[state]) {
            action = <span class="hljs-keyword">this</span>.defaultActions[state];
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (symbol === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> symbol == <span class="hljs-string">'undefined'</span>) {
                symbol = lex();
            }
            action = table[state] &amp;&amp; table[state][symbol];
        }
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> action === <span class="hljs-string">'undefined'</span> || !action.length || !action[<span class="hljs-number">0</span>]) {
                <span class="hljs-keyword">var</span> errStr = <span class="hljs-string">''</span>;
                expected = [];
                <span class="hljs-keyword">for</span> (p <span class="hljs-keyword">in</span> table[state]) {
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.terminals_[p] &amp;&amp; p &gt; TERROR) {
                        expected.push(<span class="hljs-string">'\''</span> + <span class="hljs-keyword">this</span>.terminals_[p] + <span class="hljs-string">'\''</span>);
                    }
                }
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.lexer.showPosition) {
                    errStr = <span class="hljs-string">'Parse error on line '</span> + (yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">':\n'</span> + <span class="hljs-keyword">this</span>.lexer.showPosition() + <span class="hljs-string">'\nExpecting '</span> + expected.join(<span class="hljs-string">', '</span>) + <span class="hljs-string">', got \''</span> + (<span class="hljs-keyword">this</span>.terminals_[symbol] || symbol) + <span class="hljs-string">'\''</span>;
                } <span class="hljs-keyword">else</span> {
                    errStr = <span class="hljs-string">'Parse error on line '</span> + (yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">': Unexpected '</span> + (symbol == EOF ? <span class="hljs-string">'end of input'</span> : <span class="hljs-string">'\''</span> + (<span class="hljs-keyword">this</span>.terminals_[symbol] || symbol) + <span class="hljs-string">'\''</span>);
                }
                <span class="hljs-keyword">this</span>.parseError(errStr, {
                    text: <span class="hljs-keyword">this</span>.lexer.match,
                    token: <span class="hljs-keyword">this</span>.terminals_[symbol] || symbol,
                    line: <span class="hljs-keyword">this</span>.lexer.yylineno,
                    loc: yyloc,
                    expected: expected
                });
            }
        <span class="hljs-keyword">if</span> (action[<span class="hljs-number">0</span>] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> &amp;&amp; action.length &gt; <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Parse Error: multiple actions possible at state: '</span> + state + <span class="hljs-string">', token: '</span> + symbol);
        }
        <span class="hljs-keyword">switch</span> (action[<span class="hljs-number">0</span>]) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
            stack.push(symbol);
            vstack.push(<span class="hljs-keyword">this</span>.lexer.yytext);
            lstack.push(<span class="hljs-keyword">this</span>.lexer.yylloc);
            stack.push(action[<span class="hljs-number">1</span>]);
            symbol = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">if</span> (!preErrorSymbol) {
                yyleng = <span class="hljs-keyword">this</span>.lexer.yyleng;
                yytext = <span class="hljs-keyword">this</span>.lexer.yytext;
                yylineno = <span class="hljs-keyword">this</span>.lexer.yylineno;
                yyloc = <span class="hljs-keyword">this</span>.lexer.yylloc;
                <span class="hljs-keyword">if</span> (recovering &gt; <span class="hljs-number">0</span>) {
                    recovering--;
                }
            } <span class="hljs-keyword">else</span> {
                symbol = preErrorSymbol;
                preErrorSymbol = <span class="hljs-literal">null</span>;
            }
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            len = <span class="hljs-keyword">this</span>.productions_[action[<span class="hljs-number">1</span>]][<span class="hljs-number">1</span>];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
                first_line: lstack[lstack.length - (len || <span class="hljs-number">1</span>)].first_line,
                last_line: lstack[lstack.length - <span class="hljs-number">1</span>].last_line,
                first_column: lstack[lstack.length - (len || <span class="hljs-number">1</span>)].first_column,
                last_column: lstack[lstack.length - <span class="hljs-number">1</span>].last_column
            };
            <span class="hljs-keyword">if</span> (ranges) {
                yyval._$.range = [
                    lstack[lstack.length - (len || <span class="hljs-number">1</span>)].range[<span class="hljs-number">0</span>],
                    lstack[lstack.length - <span class="hljs-number">1</span>].range[<span class="hljs-number">1</span>]
                ];
            }
            r = <span class="hljs-keyword">this</span>.performAction.apply(yyval, [
                yytext,
                yyleng,
                yylineno,
                <span class="hljs-keyword">this</span>.yy,
                action[<span class="hljs-number">1</span>],
                vstack,
                lstack
            ].concat(args));
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> r !== <span class="hljs-string">'undefined'</span>) {
                <span class="hljs-keyword">return</span> r;
            }
            <span class="hljs-keyword">if</span> (len) {
                stack = stack.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-1</span> * len * <span class="hljs-number">2</span>);
                vstack = vstack.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-1</span> * len);
                lstack = lstack.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-1</span> * len);
            }
            stack.push(<span class="hljs-keyword">this</span>.productions_[action[<span class="hljs-number">1</span>]][<span class="hljs-number">0</span>]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - <span class="hljs-number">2</span>]][stack[stack.length - <span class="hljs-number">1</span>]];
            stack.push(newState);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}};
<span class="hljs-comment">/* generated by jison-lex 0.2.1 */</span>
<span class="hljs-keyword">var</span> lexer = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-keyword">var</span> lexer = {

EOF:<span class="hljs-number">1</span>,

parseError:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseError</span>(<span class="hljs-params">str, hash</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.yy.parser) {
            <span class="hljs-keyword">this</span>.yy.parser.parseError(str, hash);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(str);
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-90">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-90">&#182;</a>
              </div>
              <p>resets the lexer, sets new input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>setInput:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">this</span>._input = input;
        <span class="hljs-keyword">this</span>._more = <span class="hljs-keyword">this</span>._backtrack = <span class="hljs-keyword">this</span>.done = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.yylineno = <span class="hljs-keyword">this</span>.yyleng = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.yytext = <span class="hljs-keyword">this</span>.matched = <span class="hljs-keyword">this</span>.match = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.conditionStack = [<span class="hljs-string">'INITIAL'</span>];
        <span class="hljs-keyword">this</span>.yylloc = {
            first_line: <span class="hljs-number">1</span>,
            first_column: <span class="hljs-number">0</span>,
            last_line: <span class="hljs-number">1</span>,
            last_column: <span class="hljs-number">0</span>
        };
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range = [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>];
        }
        <span class="hljs-keyword">this</span>.offset = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-91">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-91">&#182;</a>
              </div>
              <p>consumes and returns one char from the input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>input:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ch = <span class="hljs-keyword">this</span>._input[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.yytext += ch;
        <span class="hljs-keyword">this</span>.yyleng++;
        <span class="hljs-keyword">this</span>.offset++;
        <span class="hljs-keyword">this</span>.match += ch;
        <span class="hljs-keyword">this</span>.matched += ch;
        <span class="hljs-keyword">var</span> lines = ch.match(<span class="hljs-regexp">/(?:\r\n?|\n).*/g</span>);
        <span class="hljs-keyword">if</span> (lines) {
            <span class="hljs-keyword">this</span>.yylineno++;
            <span class="hljs-keyword">this</span>.yylloc.last_line++;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.yylloc.last_column++;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range[<span class="hljs-number">1</span>]++;
        }

        <span class="hljs-keyword">this</span>._input = <span class="hljs-keyword">this</span>._input.slice(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> ch;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-92">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-92">&#182;</a>
              </div>
              <p>unshifts one char (or a string) into the input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>unput:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">var</span> len = ch.length;
        <span class="hljs-keyword">var</span> lines = ch.split(<span class="hljs-regexp">/(?:\r\n?|\n)/g</span>);

        <span class="hljs-keyword">this</span>._input = ch + <span class="hljs-keyword">this</span>._input;
        <span class="hljs-keyword">this</span>.yytext = <span class="hljs-keyword">this</span>.yytext.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.yytext.length - len - <span class="hljs-number">1</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-93">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-93">&#182;</a>
              </div>
              <p>this.yyleng -= len;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">this</span>.offset -= len;
        <span class="hljs-keyword">var</span> oldLines = <span class="hljs-keyword">this</span>.match.split(<span class="hljs-regexp">/(?:\r\n?|\n)/g</span>);
        <span class="hljs-keyword">this</span>.match = <span class="hljs-keyword">this</span>.match.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.match.length - <span class="hljs-number">1</span>);
        <span class="hljs-keyword">this</span>.matched = <span class="hljs-keyword">this</span>.matched.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.matched.length - <span class="hljs-number">1</span>);

        <span class="hljs-keyword">if</span> (lines.length - <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">this</span>.yylineno -= lines.length - <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">var</span> r = <span class="hljs-keyword">this</span>.yylloc.range;

        <span class="hljs-keyword">this</span>.yylloc = {
            first_line: <span class="hljs-keyword">this</span>.yylloc.first_line,
            last_line: <span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>,
            first_column: <span class="hljs-keyword">this</span>.yylloc.first_column,
            last_column: lines ?
                (lines.length === oldLines.length ? <span class="hljs-keyword">this</span>.yylloc.first_column : <span class="hljs-number">0</span>)
                 + oldLines[oldLines.length - lines.length].length - lines[<span class="hljs-number">0</span>].length :
              <span class="hljs-keyword">this</span>.yylloc.first_column - len
        };

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range = [r[<span class="hljs-number">0</span>], r[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.yyleng - len];
        }
        <span class="hljs-keyword">this</span>.yyleng = <span class="hljs-keyword">this</span>.yytext.length;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-94">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-94">&#182;</a>
              </div>
              <p>When called from action, caches matched text and appends it on next action</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>more:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._more = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-95">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-95">&#182;</a>
              </div>
              <p>When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>reject:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.backtrack_lexer) {
            <span class="hljs-keyword">this</span>._backtrack = <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.parseError(<span class="hljs-string">'Lexical error on line '</span> + (<span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">'. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n'</span> + <span class="hljs-keyword">this</span>.showPosition(), {
                text: <span class="hljs-string">""</span>,
                token: <span class="hljs-literal">null</span>,
                line: <span class="hljs-keyword">this</span>.yylineno
            });

        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-96">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-96">&#182;</a>
              </div>
              <p>retain first n characters of the match</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>less:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) </span>{
        <span class="hljs-keyword">this</span>.unput(<span class="hljs-keyword">this</span>.match.slice(n));
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-97">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-97">&#182;</a>
              </div>
              <p>displays already matched input, i.e. for error messages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>pastInput:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> past = <span class="hljs-keyword">this</span>.matched.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.matched.length - <span class="hljs-keyword">this</span>.match.length);
        <span class="hljs-keyword">return</span> (past.length &gt; <span class="hljs-number">20</span> ? <span class="hljs-string">'...'</span>:<span class="hljs-string">''</span>) + past.substr(<span class="hljs-number">-20</span>).replace(<span class="hljs-regexp">/\n/g</span>, <span class="hljs-string">""</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-98">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-98">&#182;</a>
              </div>
              <p>displays upcoming input, i.e. for error messages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>upcomingInput:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> next = <span class="hljs-keyword">this</span>.match;
        <span class="hljs-keyword">if</span> (next.length &lt; <span class="hljs-number">20</span>) {
            next += <span class="hljs-keyword">this</span>._input.substr(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>-next.length);
        }
        <span class="hljs-keyword">return</span> (next.substr(<span class="hljs-number">0</span>,<span class="hljs-number">20</span>) + (next.length &gt; <span class="hljs-number">20</span> ? <span class="hljs-string">'...'</span> : <span class="hljs-string">''</span>)).replace(<span class="hljs-regexp">/\n/g</span>, <span class="hljs-string">""</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-99">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-99">&#182;</a>
              </div>
              <p>displays the character position where the lexing error occurred, i.e. for error messages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>showPosition:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> pre = <span class="hljs-keyword">this</span>.pastInput();
        <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(pre.length + <span class="hljs-number">1</span>).join(<span class="hljs-string">"-"</span>);
        <span class="hljs-keyword">return</span> pre + <span class="hljs-keyword">this</span>.upcomingInput() + <span class="hljs-string">"\n"</span> + c + <span class="hljs-string">"^"</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-100">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-100">&#182;</a>
              </div>
              <p>test the lexed token: return FALSE when not a match, otherwise return token</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>test_match:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">match, indexed_rule</span>) </span>{
        <span class="hljs-keyword">var</span> token,
            lines,
            backup;

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.backtrack_lexer) {</pre></div></div>
            
        </li>
        
        
        <li id="section-101">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-101">&#182;</a>
              </div>
              <p>save context</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            backup = {
                yylineno: <span class="hljs-keyword">this</span>.yylineno,
                yylloc: {
                    first_line: <span class="hljs-keyword">this</span>.yylloc.first_line,
                    last_line: <span class="hljs-keyword">this</span>.last_line,
                    first_column: <span class="hljs-keyword">this</span>.yylloc.first_column,
                    last_column: <span class="hljs-keyword">this</span>.yylloc.last_column
                },
                yytext: <span class="hljs-keyword">this</span>.yytext,
                match: <span class="hljs-keyword">this</span>.match,
                matches: <span class="hljs-keyword">this</span>.matches,
                matched: <span class="hljs-keyword">this</span>.matched,
                yyleng: <span class="hljs-keyword">this</span>.yyleng,
                offset: <span class="hljs-keyword">this</span>.offset,
                _more: <span class="hljs-keyword">this</span>._more,
                _input: <span class="hljs-keyword">this</span>._input,
                yy: <span class="hljs-keyword">this</span>.yy,
                conditionStack: <span class="hljs-keyword">this</span>.conditionStack.slice(<span class="hljs-number">0</span>),
                done: <span class="hljs-keyword">this</span>.done
            };
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
                backup.yylloc.range = <span class="hljs-keyword">this</span>.yylloc.range.slice(<span class="hljs-number">0</span>);
            }
        }

        lines = match[<span class="hljs-number">0</span>].match(<span class="hljs-regexp">/(?:\r\n?|\n).*/g</span>);
        <span class="hljs-keyword">if</span> (lines) {
            <span class="hljs-keyword">this</span>.yylineno += lines.length;
        }
        <span class="hljs-keyword">this</span>.yylloc = {
            first_line: <span class="hljs-keyword">this</span>.yylloc.last_line,
            last_line: <span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>,
            first_column: <span class="hljs-keyword">this</span>.yylloc.last_column,
            last_column: lines ?
                         lines[lines.length - <span class="hljs-number">1</span>].length - lines[lines.length - <span class="hljs-number">1</span>].match(<span class="hljs-regexp">/\r?\n?/</span>)[<span class="hljs-number">0</span>].length :
                         <span class="hljs-keyword">this</span>.yylloc.last_column + match[<span class="hljs-number">0</span>].length
        };
        <span class="hljs-keyword">this</span>.yytext += match[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.match += match[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.matches = match;
        <span class="hljs-keyword">this</span>.yyleng = <span class="hljs-keyword">this</span>.yytext.length;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range = [<span class="hljs-keyword">this</span>.offset, <span class="hljs-keyword">this</span>.offset += <span class="hljs-keyword">this</span>.yyleng];
        }
        <span class="hljs-keyword">this</span>._more = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>._backtrack = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>._input = <span class="hljs-keyword">this</span>._input.slice(match[<span class="hljs-number">0</span>].length);
        <span class="hljs-keyword">this</span>.matched += match[<span class="hljs-number">0</span>];
        token = <span class="hljs-keyword">this</span>.performAction.call(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.yy, <span class="hljs-keyword">this</span>, indexed_rule, <span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>]);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.done &amp;&amp; <span class="hljs-keyword">this</span>._input) {
            <span class="hljs-keyword">this</span>.done = <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (token) {
            <span class="hljs-keyword">return</span> token;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._backtrack) {</pre></div></div>
            
        </li>
        
        
        <li id="section-102">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-102">&#182;</a>
              </div>
              <p>recover context</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> backup) {
                <span class="hljs-keyword">this</span>[k] = backup[k];
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// rule action called reject() implying the next rule should be tested instead.</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-103">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-103">&#182;</a>
              </div>
              <p>return next match in input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>next:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.done) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.EOF;
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._input) {
            <span class="hljs-keyword">this</span>.done = <span class="hljs-literal">true</span>;
        }

        <span class="hljs-keyword">var</span> token,
            match,
            tempMatch,
            index;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._more) {
            <span class="hljs-keyword">this</span>.yytext = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">this</span>.match = <span class="hljs-string">''</span>;
        }
        <span class="hljs-keyword">var</span> rules = <span class="hljs-keyword">this</span>._currentRules();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; rules.length; i++) {
            tempMatch = <span class="hljs-keyword">this</span>._input.match(<span class="hljs-keyword">this</span>.rules[rules[i]]);
            <span class="hljs-keyword">if</span> (tempMatch &amp;&amp; (!match || tempMatch[<span class="hljs-number">0</span>].length &gt; match[<span class="hljs-number">0</span>].length)) {
                match = tempMatch;
                index = i;
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.backtrack_lexer) {
                    token = <span class="hljs-keyword">this</span>.test_match(tempMatch, rules[i]);
                    <span class="hljs-keyword">if</span> (token !== <span class="hljs-literal">false</span>) {
                        <span class="hljs-keyword">return</span> token;
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._backtrack) {
                        match = <span class="hljs-literal">false</span>;
                        <span class="hljs-keyword">continue</span>; <span class="hljs-comment">// rule action called reject() implying a rule MISmatch.</span>
                    } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-104">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-104">&#182;</a>
              </div>
              <p>else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.options.flex) {
                    <span class="hljs-keyword">break</span>;
                }
            }
        }
        <span class="hljs-keyword">if</span> (match) {
            token = <span class="hljs-keyword">this</span>.test_match(match, rules[index]);
            <span class="hljs-keyword">if</span> (token !== <span class="hljs-literal">false</span>) {
                <span class="hljs-keyword">return</span> token;
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-105">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-105">&#182;</a>
              </div>
              <p>else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._input === <span class="hljs-string">""</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.EOF;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.parseError(<span class="hljs-string">'Lexical error on line '</span> + (<span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">'. Unrecognized text.\n'</span> + <span class="hljs-keyword">this</span>.showPosition(), {
                text: <span class="hljs-string">""</span>,
                token: <span class="hljs-literal">null</span>,
                line: <span class="hljs-keyword">this</span>.yylineno
            });
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-106">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-106">&#182;</a>
              </div>
              <p>return next match that has a token</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>lex:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lex</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> r = <span class="hljs-keyword">this</span>.next();
        <span class="hljs-keyword">if</span> (r) {
            <span class="hljs-keyword">return</span> r;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.lex();
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-107">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-107">&#182;</a>
              </div>
              <p>activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>begin:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">begin</span>(<span class="hljs-params">condition</span>) </span>{
        <span class="hljs-keyword">this</span>.conditionStack.push(condition);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-108">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-108">&#182;</a>
              </div>
              <p>pop the previously active lexer condition state off the condition stack</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>popState:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popState</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> n = <span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack.pop();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-number">0</span>];
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-109">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-109">&#182;</a>
              </div>
              <p>produce the lexer rule set which is active for the currently active lexer condition state</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>_currentRules:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_currentRules</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.conditionStack.length &amp;&amp; <span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>]) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditions[<span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>]].rules;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditions[<span class="hljs-string">"INITIAL"</span>].rules;
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-110">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-110">&#182;</a>
              </div>
              <p>return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>topState:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">topState</span>(<span class="hljs-params">n</span>) </span>{
        n = <span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span> - <span class="hljs-built_in">Math</span>.abs(n || <span class="hljs-number">0</span>);
        <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack[n];
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"INITIAL"</span>;
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-111">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-111">&#182;</a>
              </div>
              <p>alias for begin(condition)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>pushState:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pushState</span>(<span class="hljs-params">condition</span>) </span>{
        <span class="hljs-keyword">this</span>.begin(condition);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-112">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-112">&#182;</a>
              </div>
              <p>return the number of states currently on the stack</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>stateStackSize:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stateStackSize</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack.length;
    },
options: {},
performAction: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">anonymous</span>(<span class="hljs-params">yy,yy_,$avoiding_name_collisions,YY_START</span>) </span>{

<span class="hljs-keyword">var</span> YYSTATE=YY_START;
<span class="hljs-keyword">switch</span>($avoiding_name_collisions) {
<span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<span class="hljs-comment">/* skip whitespace */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">12</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:yy_.yytext = yy_.yytext.substr(<span class="hljs-number">1</span>, yy_.yyleng<span class="hljs-number">-2</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">11</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">12</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">12</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<span class="hljs-keyword">return</span> <span class="hljs-string">'bar'</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">13</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">14</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">15</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">16</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">7</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">17</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">5</span>;
<span class="hljs-keyword">break</span>;
}
},
rules: [<span class="hljs-regexp">/^(?:\s+)/</span>,<span class="hljs-regexp">/^(?:([a-zA-Z][a-zA-Z0-9_-]*))/</span>,<span class="hljs-regexp">/^(?:\[([a-zA-Z][a-zA-Z0-9_-]*)\])/</span>,<span class="hljs-regexp">/^(?:'[^']*')/</span>,<span class="hljs-regexp">/^(?:\.)/</span>,<span class="hljs-regexp">/^(?:bar\b)/</span>,<span class="hljs-regexp">/^(?:\()/</span>,<span class="hljs-regexp">/^(?:\))/</span>,<span class="hljs-regexp">/^(?:\*)/</span>,<span class="hljs-regexp">/^(?:\?)/</span>,<span class="hljs-regexp">/^(?:\|)/</span>,<span class="hljs-regexp">/^(?:\+)/</span>,<span class="hljs-regexp">/^(?:$)/</span>],
conditions: {<span class="hljs-string">"INITIAL"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>,<span class="hljs-number">11</span>,<span class="hljs-number">12</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">true</span>}}
};
<span class="hljs-keyword">return</span> lexer;
})();
parser.lexer = lexer;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Parser</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">this</span>.yy = {};
}
Parser.prototype = parser;parser.Parser = Parser;
<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Parser;
})();


<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">require</span> !== <span class="hljs-string">'undefined'</span> &amp;&amp; <span class="hljs-keyword">typeof</span> exports !== <span class="hljs-string">'undefined'</span>) {
exports.parser = ebnf;
exports.Parser = ebnf.Parser;
exports.parse = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> ebnf.parse.apply(ebnf, <span class="hljs-built_in">arguments</span>); };
exports.main = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">commonjsMain</span>(<span class="hljs-params">args</span>) </span>{
    <span class="hljs-keyword">if</span> (!args[<span class="hljs-number">1</span>]) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Usage: '</span>+args[<span class="hljs-number">0</span>]+<span class="hljs-string">' FILE'</span>);
        process.exit(<span class="hljs-number">1</span>);
    }
    <span class="hljs-keyword">var</span> source = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>).readFileSync(<span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>).normalize(args[<span class="hljs-number">1</span>]), <span class="hljs-string">"utf8"</span>);
    <span class="hljs-keyword">return</span> exports.parser.parse(source);
};
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> !== <span class="hljs-string">'undefined'</span> &amp;&amp; <span class="hljs-built_in">require</span>.main === <span class="hljs-built_in">module</span>) {
  exports.main(process.argv.slice(<span class="hljs-number">1</span>));
}
}
}).call(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">require</span>(<span class="hljs-string">'_process'</span>))
},{<span class="hljs-string">"_process"</span>:<span class="hljs-number">32</span>,<span class="hljs-string">"fs"</span>:<span class="hljs-number">30</span>,<span class="hljs-string">"path"</span>:<span class="hljs-number">31</span>}],<span class="hljs-number">7</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">global</span>)</span>{
<span class="hljs-comment">/*
  Copyright (C) 2012-2013 Yusuke Suzuki &lt;utatane.tea@gmail.com&gt;
  Copyright (C) 2012-2013 Michael Ficarra &lt;escodegen.copyright@michael.ficarra.me&gt;
  Copyright (C) 2012-2013 Mathias Bynens &lt;mathias@qiwi.be&gt;
  Copyright (C) 2013 Irakli Gozalishvili &lt;rfobic@gmail.com&gt;
  Copyright (C) 2012 Robert Gust-Bardon &lt;donate@robert.gust-bardon.org&gt;
  Copyright (C) 2012 John Freeman &lt;jfreeman08@gmail.com&gt;
  Copyright (C) 2011-2012 Ariya Hidayat &lt;ariya.hidayat@gmail.com&gt;
  Copyright (C) 2012 Joost-Wim Boekesteijn &lt;joost-wim@boekesteijn.nl&gt;
  Copyright (C) 2012 Kris Kowal &lt;kris.kowal@cixar.com&gt;
  Copyright (C) 2012 Arpad Borsos &lt;arpad.borsos@googlemail.com&gt;

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL &lt;COPYRIGHT HOLDER&gt; BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/</span>

<span class="hljs-comment">/*global exports:true, generateStatement:true, generateExpression:true, require:true, global:true*/</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">    'use strict'</span>;

    <span class="hljs-keyword">var</span> Syntax,
        Precedence,
        BinaryPrecedence,
        SourceNode,
        estraverse,
        esutils,
        isArray,
        base,
        indent,
        json,
        renumber,
        hexadecimal,
        quotes,
        escapeless,
        newline,
        space,
        parentheses,
        semicolons,
        safeConcatenation,
        directive,
        extra,
        parse,
        sourceMap,
        FORMAT_MINIFY,
        FORMAT_DEFAULTS;

    estraverse = <span class="hljs-built_in">require</span>(<span class="hljs-string">'estraverse'</span>);
    esutils = <span class="hljs-built_in">require</span>(<span class="hljs-string">'esutils'</span>);

    Syntax = {
        AssignmentExpression: <span class="hljs-string">'AssignmentExpression'</span>,
        ArrayExpression: <span class="hljs-string">'ArrayExpression'</span>,
        ArrayPattern: <span class="hljs-string">'ArrayPattern'</span>,
        ArrowFunctionExpression: <span class="hljs-string">'ArrowFunctionExpression'</span>,
        BlockStatement: <span class="hljs-string">'BlockStatement'</span>,
        BinaryExpression: <span class="hljs-string">'BinaryExpression'</span>,
        BreakStatement: <span class="hljs-string">'BreakStatement'</span>,
        CallExpression: <span class="hljs-string">'CallExpression'</span>,
        CatchClause: <span class="hljs-string">'CatchClause'</span>,
        ComprehensionBlock: <span class="hljs-string">'ComprehensionBlock'</span>,
        ComprehensionExpression: <span class="hljs-string">'ComprehensionExpression'</span>,
        ConditionalExpression: <span class="hljs-string">'ConditionalExpression'</span>,
        ContinueStatement: <span class="hljs-string">'ContinueStatement'</span>,
        DirectiveStatement: <span class="hljs-string">'DirectiveStatement'</span>,
        DoWhileStatement: <span class="hljs-string">'DoWhileStatement'</span>,
        DebuggerStatement: <span class="hljs-string">'DebuggerStatement'</span>,
        EmptyStatement: <span class="hljs-string">'EmptyStatement'</span>,
        ExportDeclaration: <span class="hljs-string">'ExportDeclaration'</span>,
        ExpressionStatement: <span class="hljs-string">'ExpressionStatement'</span>,
        ForStatement: <span class="hljs-string">'ForStatement'</span>,
        ForInStatement: <span class="hljs-string">'ForInStatement'</span>,
        ForOfStatement: <span class="hljs-string">'ForOfStatement'</span>,
        FunctionDeclaration: <span class="hljs-string">'FunctionDeclaration'</span>,
        FunctionExpression: <span class="hljs-string">'FunctionExpression'</span>,
        GeneratorExpression: <span class="hljs-string">'GeneratorExpression'</span>,
        Identifier: <span class="hljs-string">'Identifier'</span>,
        IfStatement: <span class="hljs-string">'IfStatement'</span>,
        ImportDeclaration: <span class="hljs-string">'ImportDeclaration'</span>,
        Literal: <span class="hljs-string">'Literal'</span>,
        LabeledStatement: <span class="hljs-string">'LabeledStatement'</span>,
        LogicalExpression: <span class="hljs-string">'LogicalExpression'</span>,
        MemberExpression: <span class="hljs-string">'MemberExpression'</span>,
        NewExpression: <span class="hljs-string">'NewExpression'</span>,
        ObjectExpression: <span class="hljs-string">'ObjectExpression'</span>,
        ObjectPattern: <span class="hljs-string">'ObjectPattern'</span>,
        Program: <span class="hljs-string">'Program'</span>,
        Property: <span class="hljs-string">'Property'</span>,
        ReturnStatement: <span class="hljs-string">'ReturnStatement'</span>,
        SequenceExpression: <span class="hljs-string">'SequenceExpression'</span>,
        SwitchStatement: <span class="hljs-string">'SwitchStatement'</span>,
        SwitchCase: <span class="hljs-string">'SwitchCase'</span>,
        ThisExpression: <span class="hljs-string">'ThisExpression'</span>,
        ThrowStatement: <span class="hljs-string">'ThrowStatement'</span>,
        TryStatement: <span class="hljs-string">'TryStatement'</span>,
        UnaryExpression: <span class="hljs-string">'UnaryExpression'</span>,
        UpdateExpression: <span class="hljs-string">'UpdateExpression'</span>,
        VariableDeclaration: <span class="hljs-string">'VariableDeclaration'</span>,
        VariableDeclarator: <span class="hljs-string">'VariableDeclarator'</span>,
        WhileStatement: <span class="hljs-string">'WhileStatement'</span>,
        WithStatement: <span class="hljs-string">'WithStatement'</span>,
        YieldExpression: <span class="hljs-string">'YieldExpression'</span>
    };

    Precedence = {
        Sequence: <span class="hljs-number">0</span>,
        Yield: <span class="hljs-number">1</span>,
        Assignment: <span class="hljs-number">1</span>,
        Conditional: <span class="hljs-number">2</span>,
        ArrowFunction: <span class="hljs-number">2</span>,
        LogicalOR: <span class="hljs-number">3</span>,
        LogicalAND: <span class="hljs-number">4</span>,
        BitwiseOR: <span class="hljs-number">5</span>,
        BitwiseXOR: <span class="hljs-number">6</span>,
        BitwiseAND: <span class="hljs-number">7</span>,
        Equality: <span class="hljs-number">8</span>,
        Relational: <span class="hljs-number">9</span>,
        BitwiseSHIFT: <span class="hljs-number">10</span>,
        Additive: <span class="hljs-number">11</span>,
        Multiplicative: <span class="hljs-number">12</span>,
        Unary: <span class="hljs-number">13</span>,
        Postfix: <span class="hljs-number">14</span>,
        Call: <span class="hljs-number">15</span>,
        New: <span class="hljs-number">16</span>,
        Member: <span class="hljs-number">17</span>,
        Primary: <span class="hljs-number">18</span>
    };

    BinaryPrecedence = {
        <span class="hljs-string">'||'</span>: Precedence.LogicalOR,
        <span class="hljs-string">'&amp;&amp;'</span>: Precedence.LogicalAND,
        <span class="hljs-string">'|'</span>: Precedence.BitwiseOR,
        <span class="hljs-string">'^'</span>: Precedence.BitwiseXOR,
        <span class="hljs-string">'&amp;'</span>: Precedence.BitwiseAND,
        <span class="hljs-string">'=='</span>: Precedence.Equality,
        <span class="hljs-string">'!='</span>: Precedence.Equality,
        <span class="hljs-string">'==='</span>: Precedence.Equality,
        <span class="hljs-string">'!=='</span>: Precedence.Equality,
        <span class="hljs-string">'is'</span>: Precedence.Equality,
        <span class="hljs-string">'isnt'</span>: Precedence.Equality,
        <span class="hljs-string">'&lt;'</span>: Precedence.Relational,
        <span class="hljs-string">'&gt;'</span>: Precedence.Relational,
        <span class="hljs-string">'&lt;='</span>: Precedence.Relational,
        <span class="hljs-string">'&gt;='</span>: Precedence.Relational,
        <span class="hljs-string">'in'</span>: Precedence.Relational,
        <span class="hljs-string">'instanceof'</span>: Precedence.Relational,
        <span class="hljs-string">'&lt;&lt;'</span>: Precedence.BitwiseSHIFT,
        <span class="hljs-string">'&gt;&gt;'</span>: Precedence.BitwiseSHIFT,
        <span class="hljs-string">'&gt;&gt;&gt;'</span>: Precedence.BitwiseSHIFT,
        <span class="hljs-string">'+'</span>: Precedence.Additive,
        <span class="hljs-string">'-'</span>: Precedence.Additive,
        <span class="hljs-string">'*'</span>: Precedence.Multiplicative,
        <span class="hljs-string">'%'</span>: Precedence.Multiplicative,
        <span class="hljs-string">'/'</span>: Precedence.Multiplicative
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDefaultOptions</span>(<span class="hljs-params"></span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-113">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-113">&#182;</a>
              </div>
              <p>default options</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">return</span> {
            indent: <span class="hljs-literal">null</span>,
            base: <span class="hljs-literal">null</span>,
            parse: <span class="hljs-literal">null</span>,
            comment: <span class="hljs-literal">false</span>,
            format: {
                indent: {
                    style: <span class="hljs-string">'    '</span>,
                    base: <span class="hljs-number">0</span>,
                    adjustMultilineComment: <span class="hljs-literal">false</span>
                },
                newline: <span class="hljs-string">'\n'</span>,
                space: <span class="hljs-string">' '</span>,
                json: <span class="hljs-literal">false</span>,
                renumber: <span class="hljs-literal">false</span>,
                hexadecimal: <span class="hljs-literal">false</span>,
                quotes: <span class="hljs-string">'single'</span>,
                escapeless: <span class="hljs-literal">false</span>,
                compact: <span class="hljs-literal">false</span>,
                parentheses: <span class="hljs-literal">true</span>,
                semicolons: <span class="hljs-literal">true</span>,
                safeConcatenation: <span class="hljs-literal">false</span>
            },
            moz: {
                comprehensionExpressionStartsWithAssignment: <span class="hljs-literal">false</span>,
                starlessGenerator: <span class="hljs-literal">false</span>,
                parenthesizedComprehensionBlock: <span class="hljs-literal">false</span>
            },
            sourceMap: <span class="hljs-literal">null</span>,
            sourceMapRoot: <span class="hljs-literal">null</span>,
            sourceMapWithCode: <span class="hljs-literal">false</span>,
            directive: <span class="hljs-literal">false</span>,
            raw: <span class="hljs-literal">true</span>,
            verbatim: <span class="hljs-literal">null</span>
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stringRepeat</span>(<span class="hljs-params">str, num</span>) </span>{
        <span class="hljs-keyword">var</span> result = <span class="hljs-string">''</span>;

        <span class="hljs-keyword">for</span> (num |= <span class="hljs-number">0</span>; num &gt; <span class="hljs-number">0</span>; num &gt;&gt;&gt;= <span class="hljs-number">1</span>, str += str) {
            <span class="hljs-keyword">if</span> (num &amp; <span class="hljs-number">1</span>) {
                result += str;
            }
        }

        <span class="hljs-keyword">return</span> result;
    }

    isArray = <span class="hljs-built_in">Array</span>.isArray;
    <span class="hljs-keyword">if</span> (!isArray) {
        isArray = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isArray</span>(<span class="hljs-params">array</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(array) === <span class="hljs-string">'[object Array]'</span>;
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasLineTerminator</span>(<span class="hljs-params">str</span>) </span>{
        <span class="hljs-keyword">return</span> (<span class="hljs-regexp">/[\r\n]/g</span>).test(str);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endsWithLineTerminator</span>(<span class="hljs-params">str</span>) </span>{
        <span class="hljs-keyword">var</span> len = str.length;
        <span class="hljs-keyword">return</span> len &amp;&amp; esutils.code.isLineTerminator(str.charCodeAt(len - <span class="hljs-number">1</span>));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateDeeply</span>(<span class="hljs-params">target, override</span>) </span>{
        <span class="hljs-keyword">var</span> key, val;

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isHashObject</span>(<span class="hljs-params">target</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> target === <span class="hljs-string">'object'</span> &amp;&amp; target <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Object</span> &amp;&amp; !(target <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">RegExp</span>);
        }

        <span class="hljs-keyword">for</span> (key <span class="hljs-keyword">in</span> override) {
            <span class="hljs-keyword">if</span> (override.hasOwnProperty(key)) {
                val = override[key];
                <span class="hljs-keyword">if</span> (isHashObject(val)) {
                    <span class="hljs-keyword">if</span> (isHashObject(target[key])) {
                        updateDeeply(target[key], val);
                    } <span class="hljs-keyword">else</span> {
                        target[key] = updateDeeply({}, val);
                    }
                } <span class="hljs-keyword">else</span> {
                    target[key] = val;
                }
            }
        }
        <span class="hljs-keyword">return</span> target;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateNumber</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">var</span> result, point, temp, exponent, pos;

        <span class="hljs-keyword">if</span> (value !== value) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Numeric literal whose value is NaN'</span>);
        }
        <span class="hljs-keyword">if</span> (value &lt; <span class="hljs-number">0</span> || (value === <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-number">1</span> / value &lt; <span class="hljs-number">0</span>)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Numeric literal whose value is negative'</span>);
        }

        <span class="hljs-keyword">if</span> (value === <span class="hljs-number">1</span> / <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> json ? <span class="hljs-string">'null'</span> : renumber ? <span class="hljs-string">'1e400'</span> : <span class="hljs-string">'1e+400'</span>;
        }

        result = <span class="hljs-string">''</span> + value;
        <span class="hljs-keyword">if</span> (!renumber || result.length &lt; <span class="hljs-number">3</span>) {
            <span class="hljs-keyword">return</span> result;
        }

        point = result.indexOf(<span class="hljs-string">'.'</span>);
        <span class="hljs-keyword">if</span> (!json &amp;&amp; result.charCodeAt(<span class="hljs-number">0</span>) === <span class="hljs-number">0x30</span>  <span class="hljs-comment">/* 0 */</span> &amp;&amp; point === <span class="hljs-number">1</span>) {
            point = <span class="hljs-number">0</span>;
            result = result.slice(<span class="hljs-number">1</span>);
        }
        temp = result;
        result = result.replace(<span class="hljs-string">'e+'</span>, <span class="hljs-string">'e'</span>);
        exponent = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> ((pos = temp.indexOf(<span class="hljs-string">'e'</span>)) &gt; <span class="hljs-number">0</span>) {
            exponent = +temp.slice(pos + <span class="hljs-number">1</span>);
            temp = temp.slice(<span class="hljs-number">0</span>, pos);
        }
        <span class="hljs-keyword">if</span> (point &gt;= <span class="hljs-number">0</span>) {
            exponent -= temp.length - point - <span class="hljs-number">1</span>;
            temp = +(temp.slice(<span class="hljs-number">0</span>, point) + temp.slice(point + <span class="hljs-number">1</span>)) + <span class="hljs-string">''</span>;
        }
        pos = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (temp.charCodeAt(temp.length + pos - <span class="hljs-number">1</span>) === <span class="hljs-number">0x30</span>  <span class="hljs-comment">/* 0 */</span>) {
            --pos;
        }
        <span class="hljs-keyword">if</span> (pos !== <span class="hljs-number">0</span>) {
            exponent -= pos;
            temp = temp.slice(<span class="hljs-number">0</span>, pos);
        }
        <span class="hljs-keyword">if</span> (exponent !== <span class="hljs-number">0</span>) {
            temp += <span class="hljs-string">'e'</span> + exponent;
        }
        <span class="hljs-keyword">if</span> ((temp.length &lt; result.length ||
                    (hexadecimal &amp;&amp; value &gt; <span class="hljs-number">1e12</span> &amp;&amp; <span class="hljs-built_in">Math</span>.floor(value) === value &amp;&amp; (temp = <span class="hljs-string">'0x'</span> + value.toString(<span class="hljs-number">16</span>)).length &lt; result.length)) &amp;&amp;
                +temp === value) {
            result = temp;
        }

        <span class="hljs-keyword">return</span> result;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-114">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-114">&#182;</a>
              </div>
              <p>Generate valid RegExp expression.
This function is based on <a href="https://github.com/Constellation/iv">https://github.com/Constellation/iv</a> Engine</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeRegExpCharacter</span>(<span class="hljs-params">ch, previousIsBackslash</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-115">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-115">&#182;</a>
              </div>
              <p>not handling ‘\’ and handling \u2028 or \u2029 to unicode escape sequence</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> ((ch &amp; ~<span class="hljs-number">1</span>) === <span class="hljs-number">0x2028</span>) {
            <span class="hljs-keyword">return</span> (previousIsBackslash ? <span class="hljs-string">'u'</span> : <span class="hljs-string">'\\u'</span>) + ((ch === <span class="hljs-number">0x2028</span>) ? <span class="hljs-string">'2028'</span> : <span class="hljs-string">'2029'</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">10</span> || ch === <span class="hljs-number">13</span>) {  <span class="hljs-comment">// \n, \r</span>
            <span class="hljs-keyword">return</span> (previousIsBackslash ? <span class="hljs-string">''</span> : <span class="hljs-string">'\\'</span>) + ((ch === <span class="hljs-number">10</span>) ? <span class="hljs-string">'n'</span> : <span class="hljs-string">'r'</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>.fromCharCode(ch);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateRegExp</span>(<span class="hljs-params">reg</span>) </span>{
        <span class="hljs-keyword">var</span> match, result, flags, i, iz, ch, characterInBrack, previousIsBackslash;

        result = reg.toString();

        <span class="hljs-keyword">if</span> (reg.source) {</pre></div></div>
            
        </li>
        
        
        <li id="section-116">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-116">&#182;</a>
              </div>
              <p>extract flag from toString result</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            match = result.match(<span class="hljs-regexp">/\/([^/]*)$/</span>);
            <span class="hljs-keyword">if</span> (!match) {
                <span class="hljs-keyword">return</span> result;
            }

            flags = match[<span class="hljs-number">1</span>];
            result = <span class="hljs-string">''</span>;

            characterInBrack = <span class="hljs-literal">false</span>;
            previousIsBackslash = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = reg.source.length; i &lt; iz; ++i) {
                ch = reg.source.charCodeAt(i);

                <span class="hljs-keyword">if</span> (!previousIsBackslash) {
                    <span class="hljs-keyword">if</span> (characterInBrack) {
                        <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">93</span>) {  <span class="hljs-comment">// ]</span>
                            characterInBrack = <span class="hljs-literal">false</span>;
                        }
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">47</span>) {  <span class="hljs-comment">// /</span>
                            result += <span class="hljs-string">'\\'</span>;
                        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">91</span>) {  <span class="hljs-comment">// [</span>
                            characterInBrack = <span class="hljs-literal">true</span>;
                        }
                    }
                    result += escapeRegExpCharacter(ch, previousIsBackslash);
                    previousIsBackslash = ch === <span class="hljs-number">92</span>;  <span class="hljs-comment">// \</span>
                } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-117">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-117">&#182;</a>
              </div>
              <p>if new RegExp(“\\n’) is provided, create /\n/</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    result += escapeRegExpCharacter(ch, previousIsBackslash);</pre></div></div>
            
        </li>
        
        
        <li id="section-118">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-118">&#182;</a>
              </div>
              <p>prevent like /\[/]/</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    previousIsBackslash = <span class="hljs-literal">false</span>;
                }
            }

            <span class="hljs-keyword">return</span> <span class="hljs-string">'/'</span> + result + <span class="hljs-string">'/'</span> + flags;
        }

        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeAllowedCharacter</span>(<span class="hljs-params">code, next</span>) </span>{
        <span class="hljs-keyword">var</span> hex, result = <span class="hljs-string">'\\'</span>;

        <span class="hljs-keyword">switch</span> (code) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x08</span>  <span class="hljs-comment">/* \b */</span>:
            result += <span class="hljs-string">'b'</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x0C</span>  <span class="hljs-comment">/* \f */</span>:
            result += <span class="hljs-string">'f'</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x09</span>  <span class="hljs-comment">/* \t */</span>:
            result += <span class="hljs-string">'t'</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">default</span>:
            hex = code.toString(<span class="hljs-number">16</span>).toUpperCase();
            <span class="hljs-keyword">if</span> (json || code &gt; <span class="hljs-number">0xFF</span>) {
                result += <span class="hljs-string">'u'</span> + <span class="hljs-string">'0000'</span>.slice(hex.length) + hex;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x0000</span> &amp;&amp; !esutils.code.isDecimalDigit(next)) {
                result += <span class="hljs-string">'0'</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x000B</span>  <span class="hljs-comment">/* \v */</span>) { <span class="hljs-comment">// '\v'</span>
                result += <span class="hljs-string">'x0B'</span>;
            } <span class="hljs-keyword">else</span> {
                result += <span class="hljs-string">'x'</span> + <span class="hljs-string">'00'</span>.slice(hex.length) + hex;
            }
            <span class="hljs-keyword">break</span>;
        }

        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeDisallowedCharacter</span>(<span class="hljs-params">code</span>) </span>{
        <span class="hljs-keyword">var</span> result = <span class="hljs-string">'\\'</span>;
        <span class="hljs-keyword">switch</span> (code) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x5C</span>  <span class="hljs-comment">/* \ */</span>:
            result += <span class="hljs-string">'\\'</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x0A</span>  <span class="hljs-comment">/* \n */</span>:
            result += <span class="hljs-string">'n'</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x0D</span>  <span class="hljs-comment">/* \r */</span>:
            result += <span class="hljs-string">'r'</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x2028</span>:
            result += <span class="hljs-string">'u2028'</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x2029</span>:
            result += <span class="hljs-string">'u2029'</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Incorrectly classified character'</span>);
        }

        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeDirective</span>(<span class="hljs-params">str</span>) </span>{
        <span class="hljs-keyword">var</span> i, iz, code, quote;

        quote = quotes === <span class="hljs-string">'double'</span> ? <span class="hljs-string">'"'</span> : <span class="hljs-string">'\''</span>;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = str.length; i &lt; iz; ++i) {
            code = str.charCodeAt(i);
            <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x27</span>  <span class="hljs-comment">/* ' */</span>) {
                quote = <span class="hljs-string">'"'</span>;
                <span class="hljs-keyword">break</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x22</span>  <span class="hljs-comment">/* " */</span>) {
                quote = <span class="hljs-string">'\''</span>;
                <span class="hljs-keyword">break</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x5C</span>  <span class="hljs-comment">/* \ */</span>) {
                ++i;
            }
        }

        <span class="hljs-keyword">return</span> quote + str + quote;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeString</span>(<span class="hljs-params">str</span>) </span>{
        <span class="hljs-keyword">var</span> result = <span class="hljs-string">''</span>, i, len, code, singleQuotes = <span class="hljs-number">0</span>, doubleQuotes = <span class="hljs-number">0</span>, single, quote;

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = str.length; i &lt; len; ++i) {
            code = str.charCodeAt(i);
            <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x27</span>  <span class="hljs-comment">/* ' */</span>) {
                ++singleQuotes;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x22</span>  <span class="hljs-comment">/* " */</span>) {
                ++doubleQuotes;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x2F</span>  <span class="hljs-comment">/* / */</span> &amp;&amp; json) {
                result += <span class="hljs-string">'\\'</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (esutils.code.isLineTerminator(code) || code === <span class="hljs-number">0x5C</span>  <span class="hljs-comment">/* \ */</span>) {
                result += escapeDisallowedCharacter(code);
                <span class="hljs-keyword">continue</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((json &amp;&amp; code &lt; <span class="hljs-number">0x20</span>  <span class="hljs-comment">/* SP */</span>) || !(json || escapeless || (code &gt;= <span class="hljs-number">0x20</span>  <span class="hljs-comment">/* SP */</span> &amp;&amp; code &lt;= <span class="hljs-number">0x7E</span>  <span class="hljs-comment">/* ~ */</span>))) {
                result += escapeAllowedCharacter(code, str.charCodeAt(i + <span class="hljs-number">1</span>));
                <span class="hljs-keyword">continue</span>;
            }
            result += <span class="hljs-built_in">String</span>.fromCharCode(code);
        }

        single = !(quotes === <span class="hljs-string">'double'</span> || (quotes === <span class="hljs-string">'auto'</span> &amp;&amp; doubleQuotes &lt; singleQuotes));
        quote = single ? <span class="hljs-string">'\''</span> : <span class="hljs-string">'"'</span>;

        <span class="hljs-keyword">if</span> (!(single ? singleQuotes : doubleQuotes)) {
            <span class="hljs-keyword">return</span> quote + result + quote;
        }

        str = result;
        result = quote;

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = str.length; i &lt; len; ++i) {
            code = str.charCodeAt(i);
            <span class="hljs-keyword">if</span> ((code === <span class="hljs-number">0x27</span>  <span class="hljs-comment">/* ' */</span> &amp;&amp; single) || (code === <span class="hljs-number">0x22</span>  <span class="hljs-comment">/* " */</span> &amp;&amp; !single)) {
                result += <span class="hljs-string">'\\'</span>;
            }
            result += <span class="hljs-built_in">String</span>.fromCharCode(code);
        }

        <span class="hljs-keyword">return</span> result + quote;
    }

    <span class="hljs-comment">/**
     * flatten an array to a string, where the array can contain
     * either strings or nested arrays
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">flattenToString</span>(<span class="hljs-params">arr</span>) </span>{
        <span class="hljs-keyword">var</span> i, iz, elem, result = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = arr.length; i &lt; iz; ++i) {
            elem = arr[i];
            result += isArray(elem) ? flattenToString(elem) : elem;
        }
        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-comment">/**
     * convert generated to a SourceNode when source maps are enabled.
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toSourceNodeWhenNeeded</span>(<span class="hljs-params">generated, node</span>) </span>{
        <span class="hljs-keyword">if</span> (!sourceMap) {</pre></div></div>
            
        </li>
        
        
        <li id="section-119">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-119">&#182;</a>
              </div>
              <p>with no source maps, generated is either an
array or a string.  if an array, flatten it.
if a string, just return it</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (isArray(generated)) {
                <span class="hljs-keyword">return</span> flattenToString(generated);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> generated;
            }
        }
        <span class="hljs-keyword">if</span> (node == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (generated <span class="hljs-keyword">instanceof</span> SourceNode) {
                <span class="hljs-keyword">return</span> generated;
            } <span class="hljs-keyword">else</span> {
                node = {};
            }
        }
        <span class="hljs-keyword">if</span> (node.loc == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> SourceNode(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, sourceMap, generated, node.name || <span class="hljs-literal">null</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> SourceNode(node.loc.start.line, node.loc.start.column, (sourceMap === <span class="hljs-literal">true</span> ? node.loc.source || <span class="hljs-literal">null</span> : sourceMap), generated, node.name || <span class="hljs-literal">null</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">noEmptySpace</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> (space) ? space : <span class="hljs-string">' '</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">join</span>(<span class="hljs-params">left, right</span>) </span>{
        <span class="hljs-keyword">var</span> leftSource = toSourceNodeWhenNeeded(left).toString(),
            rightSource = toSourceNodeWhenNeeded(right).toString(),
            leftCharCode = leftSource.charCodeAt(leftSource.length - <span class="hljs-number">1</span>),
            rightCharCode = rightSource.charCodeAt(<span class="hljs-number">0</span>);

        <span class="hljs-keyword">if</span> ((leftCharCode === <span class="hljs-number">0x2B</span>  <span class="hljs-comment">/* + */</span> || leftCharCode === <span class="hljs-number">0x2D</span>  <span class="hljs-comment">/* - */</span>) &amp;&amp; leftCharCode === rightCharCode ||
        esutils.code.isIdentifierPart(leftCharCode) &amp;&amp; esutils.code.isIdentifierPart(rightCharCode) ||
        leftCharCode === <span class="hljs-number">0x2F</span>  <span class="hljs-comment">/* / */</span> &amp;&amp; rightCharCode === <span class="hljs-number">0x69</span>  <span class="hljs-comment">/* i */</span>) { <span class="hljs-comment">// infix word operators all start with `i`</span>
            <span class="hljs-keyword">return</span> [left, noEmptySpace(), right];
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (esutils.code.isWhiteSpace(leftCharCode) || esutils.code.isLineTerminator(leftCharCode) ||
                esutils.code.isWhiteSpace(rightCharCode) || esutils.code.isLineTerminator(rightCharCode)) {
            <span class="hljs-keyword">return</span> [left, right];
        }
        <span class="hljs-keyword">return</span> [left, space, right];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addIndent</span>(<span class="hljs-params">stmt</span>) </span>{
        <span class="hljs-keyword">return</span> [base, stmt];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withIndent</span>(<span class="hljs-params">fn</span>) </span>{
        <span class="hljs-keyword">var</span> previousBase, result;
        previousBase = base;
        base += indent;
        result = fn.call(<span class="hljs-keyword">this</span>, base);
        base = previousBase;
        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calculateSpaces</span>(<span class="hljs-params">str</span>) </span>{
        <span class="hljs-keyword">var</span> i;
        <span class="hljs-keyword">for</span> (i = str.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) {
            <span class="hljs-keyword">if</span> (esutils.code.isLineTerminator(str.charCodeAt(i))) {
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">return</span> (str.length - <span class="hljs-number">1</span>) - i;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">adjustMultilineComment</span>(<span class="hljs-params">value, specialBase</span>) </span>{
        <span class="hljs-keyword">var</span> array, i, len, line, j, spaces, previousBase, sn;

        array = value.split(<span class="hljs-regexp">/\r\n|[\r\n]/</span>);
        spaces = <span class="hljs-built_in">Number</span>.MAX_VALUE;</pre></div></div>
            
        </li>
        
        
        <li id="section-120">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-120">&#182;</a>
              </div>
              <p>first line doesn’t have indentation</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, len = array.length; i &lt; len; ++i) {
            line = array[i];
            j = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (j &lt; line.length &amp;&amp; esutils.code.isWhiteSpace(line.charCodeAt(j))) {
                ++j;
            }
            <span class="hljs-keyword">if</span> (spaces &gt; j) {
                spaces = j;
            }
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> specialBase !== <span class="hljs-string">'undefined'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-121">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-121">&#182;</a>
              </div>
              <p>pattern like
{
  var t = 20;  /*</p>
<pre><code>            * <span class="hljs-keyword">this</span> is comment
            *<span class="hljs-regexp">/</span>
</code></pre><p>}</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            previousBase = base;
            <span class="hljs-keyword">if</span> (array[<span class="hljs-number">1</span>][spaces] === <span class="hljs-string">'*'</span>) {
                specialBase += <span class="hljs-string">' '</span>;
            }
            base = specialBase;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (spaces &amp; <span class="hljs-number">1</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-122">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-122">&#182;</a>
              </div>
              <p>/<em>
 </em>
 */
If spaces are odd number, above pattern is considered.
We waste 1 space.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                --spaces;
            }
            previousBase = base;
        }

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, len = array.length; i &lt; len; ++i) {
            sn = toSourceNodeWhenNeeded(addIndent(array[i].slice(spaces)));
            array[i] = sourceMap ? sn.join(<span class="hljs-string">''</span>) : sn;
        }

        base = previousBase;

        <span class="hljs-keyword">return</span> array.join(<span class="hljs-string">'\n'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateComment</span>(<span class="hljs-params">comment, specialBase</span>) </span>{
        <span class="hljs-keyword">if</span> (comment.type === <span class="hljs-string">'Line'</span>) {
            <span class="hljs-keyword">if</span> (endsWithLineTerminator(comment.value)) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">'//'</span> + comment.value;
            } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-123">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-123">&#182;</a>
              </div>
              <p>Always use LineTerminator</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">return</span> <span class="hljs-string">'//'</span> + comment.value + <span class="hljs-string">'\n'</span>;
            }
        }
        <span class="hljs-keyword">if</span> (extra.format.indent.adjustMultilineComment &amp;&amp; <span class="hljs-regexp">/[\n\r]/</span>.test(comment.value)) {
            <span class="hljs-keyword">return</span> adjustMultilineComment(<span class="hljs-string">'/*'</span> + comment.value + <span class="hljs-string">'*/'</span>, specialBase);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">'/*'</span> + comment.value + <span class="hljs-string">'*/'</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addComments</span>(<span class="hljs-params">stmt, result</span>) </span>{
        <span class="hljs-keyword">var</span> i, len, comment, save, tailingToStatement, specialBase, fragment;

        <span class="hljs-keyword">if</span> (stmt.leadingComments &amp;&amp; stmt.leadingComments.length &gt; <span class="hljs-number">0</span>) {
            save = result;

            comment = stmt.leadingComments[<span class="hljs-number">0</span>];
            result = [];
            <span class="hljs-keyword">if</span> (safeConcatenation &amp;&amp; stmt.type === Syntax.Program &amp;&amp; stmt.body.length === <span class="hljs-number">0</span>) {
                result.push(<span class="hljs-string">'\n'</span>);
            }
            result.push(generateComment(comment));
            <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                result.push(<span class="hljs-string">'\n'</span>);
            }

            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, len = stmt.leadingComments.length; i &lt; len; ++i) {
                comment = stmt.leadingComments[i];
                fragment = [generateComment(comment)];
                <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                    fragment.push(<span class="hljs-string">'\n'</span>);
                }
                result.push(addIndent(fragment));
            }

            result.push(addIndent(save));
        }

        <span class="hljs-keyword">if</span> (stmt.trailingComments) {
            tailingToStatement = !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString());
            specialBase = stringRepeat(<span class="hljs-string">' '</span>, calculateSpaces(toSourceNodeWhenNeeded([base, result, indent]).toString()));
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = stmt.trailingComments.length; i &lt; len; ++i) {
                comment = stmt.trailingComments[i];
                <span class="hljs-keyword">if</span> (tailingToStatement) {</pre></div></div>
            
        </li>
        
        
        <li id="section-124">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-124">&#182;</a>
              </div>
              <p>We assume target like following script</p>
<p>var t = 20;  /**</p>
<pre><code>          * This is comment <span class="hljs-keyword">of</span> t
          *<span class="hljs-regexp">/</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>                    <span class="hljs-keyword">if</span> (i === <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-125">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-125">&#182;</a>
              </div>
              <p>first case</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                        result = [result, indent];
                    } <span class="hljs-keyword">else</span> {
                        result = [result, specialBase];
                    }
                    result.push(generateComment(comment, specialBase));
                } <span class="hljs-keyword">else</span> {
                    result = [result, addIndent(generateComment(comment))];
                }
                <span class="hljs-keyword">if</span> (i !== len - <span class="hljs-number">1</span> &amp;&amp; !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                    result = [result, <span class="hljs-string">'\n'</span>];
                }
            }
        }

        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parenthesize</span>(<span class="hljs-params">text, current, should</span>) </span>{
        <span class="hljs-keyword">if</span> (current &lt; should) {
            <span class="hljs-keyword">return</span> [<span class="hljs-string">'('</span>, text, <span class="hljs-string">')'</span>];
        }
        <span class="hljs-keyword">return</span> text;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">maybeBlock</span>(<span class="hljs-params">stmt, semicolonOptional, functionBody</span>) </span>{
        <span class="hljs-keyword">var</span> result, noLeadingComment;

        noLeadingComment = !extra.comment || !stmt.leadingComments;

        <span class="hljs-keyword">if</span> (stmt.type === Syntax.BlockStatement &amp;&amp; noLeadingComment) {
            <span class="hljs-keyword">return</span> [space, generateStatement(stmt, { functionBody: functionBody })];
        }

        <span class="hljs-keyword">if</span> (stmt.type === Syntax.EmptyStatement &amp;&amp; noLeadingComment) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">';'</span>;
        }

        withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            result = [newline, addIndent(generateStatement(stmt, { semicolonOptional: semicolonOptional, functionBody: functionBody }))];
        });

        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">maybeBlockSuffix</span>(<span class="hljs-params">stmt, result</span>) </span>{
        <span class="hljs-keyword">var</span> ends = endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString());
        <span class="hljs-keyword">if</span> (stmt.type === Syntax.BlockStatement &amp;&amp; (!extra.comment || !stmt.leadingComments) &amp;&amp; !ends) {
            <span class="hljs-keyword">return</span> [result, space];
        }
        <span class="hljs-keyword">if</span> (ends) {
            <span class="hljs-keyword">return</span> [result, base];
        }
        <span class="hljs-keyword">return</span> [result, newline, base];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateVerbatimString</span>(<span class="hljs-params">string</span>) </span>{
        <span class="hljs-keyword">var</span> i, iz, result;
        result = string.split(<span class="hljs-regexp">/\r\n|\n/</span>);
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, iz = result.length; i &lt; iz; i++) {
            result[i] = newline + base + result[i];
        }
        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateVerbatim</span>(<span class="hljs-params">expr, option</span>) </span>{
        <span class="hljs-keyword">var</span> verbatim, result, prec;
        verbatim = expr[extra.verbatim];

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> verbatim === <span class="hljs-string">'string'</span>) {
            result = parenthesize(generateVerbatimString(verbatim), Precedence.Sequence, option.precedence);
        } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-126">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-126">&#182;</a>
              </div>
              <p>verbatim is object</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            result = generateVerbatimString(verbatim.content);
            prec = (verbatim.precedence != <span class="hljs-literal">null</span>) ? verbatim.precedence : Precedence.Sequence;
            result = parenthesize(result, prec, option.precedence);
        }

        <span class="hljs-keyword">return</span> toSourceNodeWhenNeeded(result, expr);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateIdentifier</span>(<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">return</span> toSourceNodeWhenNeeded(node.name, node);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generatePattern</span>(<span class="hljs-params">node, options</span>) </span>{
        <span class="hljs-keyword">var</span> result;

        <span class="hljs-keyword">if</span> (node.type === Syntax.Identifier) {
            result = generateIdentifier(node);
        } <span class="hljs-keyword">else</span> {
            result = generateExpression(node, {
                precedence: options.precedence,
                allowIn: options.allowIn,
                allowCall: <span class="hljs-literal">true</span>
            });
        }

        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateFunctionBody</span>(<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">var</span> result, i, len, expr, arrow;

        arrow = node.type === Syntax.ArrowFunctionExpression;

        <span class="hljs-keyword">if</span> (arrow &amp;&amp; node.params.length === <span class="hljs-number">1</span> &amp;&amp; node.params[<span class="hljs-number">0</span>].type === Syntax.Identifier) {</pre></div></div>
            
        </li>
        
        
        <li id="section-127">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-127">&#182;</a>
              </div>
              <p>arg =&gt; { } case</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            result = [generateIdentifier(node.params[<span class="hljs-number">0</span>])];
        } <span class="hljs-keyword">else</span> {
            result = [<span class="hljs-string">'('</span>];
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = node.params.length; i &lt; len; ++i) {
                result.push(generatePattern(node.params[i], {
                    precedence: Precedence.Assignment,
                    allowIn: <span class="hljs-literal">true</span>
                }));
                <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; len) {
                    result.push(<span class="hljs-string">','</span> + space);
                }
            }
            result.push(<span class="hljs-string">')'</span>);
        }

        <span class="hljs-keyword">if</span> (arrow) {
            result.push(space);
            result.push(<span class="hljs-string">'=&gt;'</span>);
        }

        <span class="hljs-keyword">if</span> (node.expression) {
            result.push(space);
            expr = generateExpression(node.body, {
                precedence: Precedence.Assignment,
                allowIn: <span class="hljs-literal">true</span>,
                allowCall: <span class="hljs-literal">true</span>
            });
            <span class="hljs-keyword">if</span> (expr.toString().charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'{'</span>) {
                expr = [<span class="hljs-string">'('</span>, expr, <span class="hljs-string">')'</span>];
            }
            result.push(expr);
        } <span class="hljs-keyword">else</span> {
            result.push(maybeBlock(node.body, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>));
        }
        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateIterationForStatement</span>(<span class="hljs-params">operator, stmt, semicolonIsNotNeeded</span>) </span>{
        <span class="hljs-keyword">var</span> result = [<span class="hljs-string">'for'</span> + space + <span class="hljs-string">'('</span>];
        withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (stmt.left.type === Syntax.VariableDeclaration) {
                withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                    result.push(stmt.left.kind + noEmptySpace());
                    result.push(generateStatement(stmt.left.declarations[<span class="hljs-number">0</span>], {
                        allowIn: <span class="hljs-literal">false</span>
                    }));
                });
            } <span class="hljs-keyword">else</span> {
                result.push(generateExpression(stmt.left, {
                    precedence: Precedence.Call,
                    allowIn: <span class="hljs-literal">true</span>,
                    allowCall: <span class="hljs-literal">true</span>
                }));
            }

            result = join(result, operator);
            result = [join(
                result,
                generateExpression(stmt.right, {
                    precedence: Precedence.Sequence,
                    allowIn: <span class="hljs-literal">true</span>,
                    allowCall: <span class="hljs-literal">true</span>
                })
            ), <span class="hljs-string">')'</span>];
        });
        result.push(maybeBlock(stmt.body, semicolonIsNotNeeded));
        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateLiteral</span>(<span class="hljs-params">expr</span>) </span>{
        <span class="hljs-keyword">var</span> raw;
        <span class="hljs-keyword">if</span> (expr.hasOwnProperty(<span class="hljs-string">'raw'</span>) &amp;&amp; parse &amp;&amp; extra.raw) {
            <span class="hljs-keyword">try</span> {
                raw = parse(expr.raw).body[<span class="hljs-number">0</span>].expression;
                <span class="hljs-keyword">if</span> (raw.type === Syntax.Literal) {
                    <span class="hljs-keyword">if</span> (raw.value === expr.value) {
                        <span class="hljs-keyword">return</span> expr.raw;
                    }
                }
            } <span class="hljs-keyword">catch</span> (e) {</pre></div></div>
            
        </li>
        
        
        <li id="section-128">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-128">&#182;</a>
              </div>
              <p>not use raw property</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            }
        }

        <span class="hljs-keyword">if</span> (expr.value === <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'null'</span>;
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> expr.value === <span class="hljs-string">'string'</span>) {
            <span class="hljs-keyword">return</span> escapeString(expr.value);
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> expr.value === <span class="hljs-string">'number'</span>) {
            <span class="hljs-keyword">return</span> generateNumber(expr.value);
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> expr.value === <span class="hljs-string">'boolean'</span>) {
            <span class="hljs-keyword">return</span> expr.value ? <span class="hljs-string">'true'</span> : <span class="hljs-string">'false'</span>;
        }

        <span class="hljs-keyword">return</span> generateRegExp(expr.value);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateExpression</span>(<span class="hljs-params">expr, option</span>) </span>{
        <span class="hljs-keyword">var</span> result,
            precedence,
            type,
            currentPrecedence,
            i,
            len,
            fragment,
            multiline,
            leftCharCode,
            leftSource,
            rightCharCode,
            allowIn,
            allowCall,
            allowUnparenthesizedNew,
            property,
            isGenerator;

        precedence = option.precedence;
        allowIn = option.allowIn;
        allowCall = option.allowCall;
        type = expr.type || option.type;

        <span class="hljs-keyword">if</span> (extra.verbatim &amp;&amp; expr.hasOwnProperty(extra.verbatim)) {
            <span class="hljs-keyword">return</span> generateVerbatim(expr, option);
        }

        <span class="hljs-keyword">switch</span> (type) {
        <span class="hljs-keyword">case</span> Syntax.SequenceExpression:
            result = [];
            allowIn |= (Precedence.Sequence &lt; precedence);
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = expr.expressions.length; i &lt; len; ++i) {
                result.push(generateExpression(expr.expressions[i], {
                    precedence: Precedence.Assignment,
                    allowIn: allowIn,
                    allowCall: <span class="hljs-literal">true</span>
                }));
                <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; len) {
                    result.push(<span class="hljs-string">','</span> + space);
                }
            }
            result = parenthesize(result, Precedence.Sequence, precedence);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.AssignmentExpression:
            allowIn |= (Precedence.Assignment &lt; precedence);
            result = parenthesize(
                [
                    generateExpression(expr.left, {
                        precedence: Precedence.Call,
                        allowIn: allowIn,
                        allowCall: <span class="hljs-literal">true</span>
                    }),
                    space + expr.operator + space,
                    generateExpression(expr.right, {
                        precedence: Precedence.Assignment,
                        allowIn: allowIn,
                        allowCall: <span class="hljs-literal">true</span>
                    })
                ],
                Precedence.Assignment,
                precedence
            );
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ArrowFunctionExpression:
            allowIn |= (Precedence.ArrowFunction &lt; precedence);
            result = parenthesize(generateFunctionBody(expr), Precedence.ArrowFunction, precedence);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ConditionalExpression:
            allowIn |= (Precedence.Conditional &lt; precedence);
            result = parenthesize(
                [
                    generateExpression(expr.test, {
                        precedence: Precedence.LogicalOR,
                        allowIn: allowIn,
                        allowCall: <span class="hljs-literal">true</span>
                    }),
                    space + <span class="hljs-string">'?'</span> + space,
                    generateExpression(expr.consequent, {
                        precedence: Precedence.Assignment,
                        allowIn: allowIn,
                        allowCall: <span class="hljs-literal">true</span>
                    }),
                    space + <span class="hljs-string">':'</span> + space,
                    generateExpression(expr.alternate, {
                        precedence: Precedence.Assignment,
                        allowIn: allowIn,
                        allowCall: <span class="hljs-literal">true</span>
                    })
                ],
                Precedence.Conditional,
                precedence
            );
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.LogicalExpression:
        <span class="hljs-keyword">case</span> Syntax.BinaryExpression:
            currentPrecedence = BinaryPrecedence[expr.operator];

            allowIn |= (currentPrecedence &lt; precedence);

            fragment = generateExpression(expr.left, {
                precedence: currentPrecedence,
                allowIn: allowIn,
                allowCall: <span class="hljs-literal">true</span>
            });

            leftSource = fragment.toString();

            <span class="hljs-keyword">if</span> (leftSource.charCodeAt(leftSource.length - <span class="hljs-number">1</span>) === <span class="hljs-number">0x2F</span> <span class="hljs-comment">/* / */</span> &amp;&amp; esutils.code.isIdentifierPart(expr.operator.charCodeAt(<span class="hljs-number">0</span>))) {
                result = [fragment, noEmptySpace(), expr.operator];
            } <span class="hljs-keyword">else</span> {
                result = join(fragment, expr.operator);
            }

            fragment = generateExpression(expr.right, {
                precedence: currentPrecedence + <span class="hljs-number">1</span>,
                allowIn: allowIn,
                allowCall: <span class="hljs-literal">true</span>
            });

            <span class="hljs-keyword">if</span> (expr.operator === <span class="hljs-string">'/'</span> &amp;&amp; fragment.toString().charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'/'</span> ||
            expr.operator.slice(<span class="hljs-number">-1</span>) === <span class="hljs-string">'&lt;'</span> &amp;&amp; fragment.toString().slice(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>) === <span class="hljs-string">'!--'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-129">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-129">&#182;</a>
              </div>
              <p>If ‘/‘ concats with ‘/‘ or <code>&lt;</code> concats with <code>!--</code>, it is interpreted as comment start</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                result.push(noEmptySpace());
                result.push(fragment);
            } <span class="hljs-keyword">else</span> {
                result = join(result, fragment);
            }

            <span class="hljs-keyword">if</span> (expr.operator === <span class="hljs-string">'in'</span> &amp;&amp; !allowIn) {
                result = [<span class="hljs-string">'('</span>, result, <span class="hljs-string">')'</span>];
            } <span class="hljs-keyword">else</span> {
                result = parenthesize(result, currentPrecedence, precedence);
            }

            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.CallExpression:
            result = [generateExpression(expr.callee, {
                precedence: Precedence.Call,
                allowIn: <span class="hljs-literal">true</span>,
                allowCall: <span class="hljs-literal">true</span>,
                allowUnparenthesizedNew: <span class="hljs-literal">false</span>
            })];

            result.push(<span class="hljs-string">'('</span>);
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = expr[<span class="hljs-string">'arguments'</span>].length; i &lt; len; ++i) {
                result.push(generateExpression(expr[<span class="hljs-string">'arguments'</span>][i], {
                    precedence: Precedence.Assignment,
                    allowIn: <span class="hljs-literal">true</span>,
                    allowCall: <span class="hljs-literal">true</span>
                }));
                <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; len) {
                    result.push(<span class="hljs-string">','</span> + space);
                }
            }
            result.push(<span class="hljs-string">')'</span>);

            <span class="hljs-keyword">if</span> (!allowCall) {
                result = [<span class="hljs-string">'('</span>, result, <span class="hljs-string">')'</span>];
            } <span class="hljs-keyword">else</span> {
                result = parenthesize(result, Precedence.Call, precedence);
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.NewExpression:
            len = expr[<span class="hljs-string">'arguments'</span>].length;
            allowUnparenthesizedNew = option.allowUnparenthesizedNew === <span class="hljs-literal">undefined</span> || option.allowUnparenthesizedNew;

            result = join(
                <span class="hljs-string">'new'</span>,
                generateExpression(expr.callee, {
                    precedence: Precedence.New,
                    allowIn: <span class="hljs-literal">true</span>,
                    allowCall: <span class="hljs-literal">false</span>,
                    allowUnparenthesizedNew: allowUnparenthesizedNew &amp;&amp; !parentheses &amp;&amp; len === <span class="hljs-number">0</span>
                })
            );

            <span class="hljs-keyword">if</span> (!allowUnparenthesizedNew || parentheses || len &gt; <span class="hljs-number">0</span>) {
                result.push(<span class="hljs-string">'('</span>);
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; len; ++i) {
                    result.push(generateExpression(expr[<span class="hljs-string">'arguments'</span>][i], {
                        precedence: Precedence.Assignment,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    }));
                    <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; len) {
                        result.push(<span class="hljs-string">','</span> + space);
                    }
                }
                result.push(<span class="hljs-string">')'</span>);
            }

            result = parenthesize(result, Precedence.New, precedence);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.MemberExpression:
            result = [generateExpression(expr.object, {
                precedence: Precedence.Call,
                allowIn: <span class="hljs-literal">true</span>,
                allowCall: allowCall,
                allowUnparenthesizedNew: <span class="hljs-literal">false</span>
            })];

            <span class="hljs-keyword">if</span> (expr.computed) {
                result.push(<span class="hljs-string">'['</span>);
                result.push(generateExpression(expr.property, {
                    precedence: Precedence.Sequence,
                    allowIn: <span class="hljs-literal">true</span>,
                    allowCall: allowCall
                }));
                result.push(<span class="hljs-string">']'</span>);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (expr.object.type === Syntax.Literal &amp;&amp; <span class="hljs-keyword">typeof</span> expr.object.value === <span class="hljs-string">'number'</span>) {
                    fragment = toSourceNodeWhenNeeded(result).toString();</pre></div></div>
            
        </li>
        
        
        <li id="section-130">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-130">&#182;</a>
              </div>
              <p>When the following conditions are all true,</p>
<ol>
<li>No floating point</li>
<li>Don’t have exponents</li>
<li>The last character is a decimal digit</li>
<li>Not hexadecimal OR octal number literal
we should add a floating point.</li>
</ol>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    <span class="hljs-keyword">if</span> (
                            fragment.indexOf(<span class="hljs-string">'.'</span>) &lt; <span class="hljs-number">0</span> &amp;&amp;
                            !<span class="hljs-regexp">/[eExX]/</span>.test(fragment) &amp;&amp;
                            esutils.code.isDecimalDigit(fragment.charCodeAt(fragment.length - <span class="hljs-number">1</span>)) &amp;&amp;
                            !(fragment.length &gt;= <span class="hljs-number">2</span> &amp;&amp; fragment.charCodeAt(<span class="hljs-number">0</span>) === <span class="hljs-number">48</span>)  <span class="hljs-comment">// '0'</span>
                            ) {
                        result.push(<span class="hljs-string">'.'</span>);
                    }
                }
                result.push(<span class="hljs-string">'.'</span>);
                result.push(generateIdentifier(expr.property));
            }

            result = parenthesize(result, Precedence.Member, precedence);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.UnaryExpression:
            fragment = generateExpression(expr.argument, {
                precedence: Precedence.Unary,
                allowIn: <span class="hljs-literal">true</span>,
                allowCall: <span class="hljs-literal">true</span>
            });

            <span class="hljs-keyword">if</span> (space === <span class="hljs-string">''</span>) {
                result = join(expr.operator, fragment);
            } <span class="hljs-keyword">else</span> {
                result = [expr.operator];
                <span class="hljs-keyword">if</span> (expr.operator.length &gt; <span class="hljs-number">2</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-131">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-131">&#182;</a>
              </div>
              <p>delete, void, typeof
get <code>typeof []</code>, not <code>typeof[]</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    result = join(result, fragment);
                } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-132">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-132">&#182;</a>
              </div>
              <p>Prevent inserting spaces between operator and argument if it is unnecessary
like, <code>!cond</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    leftSource = toSourceNodeWhenNeeded(result).toString();
                    leftCharCode = leftSource.charCodeAt(leftSource.length - <span class="hljs-number">1</span>);
                    rightCharCode = fragment.toString().charCodeAt(<span class="hljs-number">0</span>);

                    <span class="hljs-keyword">if</span> (((leftCharCode === <span class="hljs-number">0x2B</span>  <span class="hljs-comment">/* + */</span> || leftCharCode === <span class="hljs-number">0x2D</span>  <span class="hljs-comment">/* - */</span>) &amp;&amp; leftCharCode === rightCharCode) ||
                            (esutils.code.isIdentifierPart(leftCharCode) &amp;&amp; esutils.code.isIdentifierPart(rightCharCode))) {
                        result.push(noEmptySpace());
                        result.push(fragment);
                    } <span class="hljs-keyword">else</span> {
                        result.push(fragment);
                    }
                }
            }
            result = parenthesize(result, Precedence.Unary, precedence);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.YieldExpression:
            <span class="hljs-keyword">if</span> (expr.delegate) {
                result = <span class="hljs-string">'yield*'</span>;
            } <span class="hljs-keyword">else</span> {
                result = <span class="hljs-string">'yield'</span>;
            }
            <span class="hljs-keyword">if</span> (expr.argument) {
                result = join(
                    result,
                    generateExpression(expr.argument, {
                        precedence: Precedence.Yield,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    })
                );
            }
            result = parenthesize(result, Precedence.Yield, precedence);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.UpdateExpression:
            <span class="hljs-keyword">if</span> (expr.prefix) {
                result = parenthesize(
                    [
                        expr.operator,
                        generateExpression(expr.argument, {
                            precedence: Precedence.Unary,
                            allowIn: <span class="hljs-literal">true</span>,
                            allowCall: <span class="hljs-literal">true</span>
                        })
                    ],
                    Precedence.Unary,
                    precedence
                );
            } <span class="hljs-keyword">else</span> {
                result = parenthesize(
                    [
                        generateExpression(expr.argument, {
                            precedence: Precedence.Postfix,
                            allowIn: <span class="hljs-literal">true</span>,
                            allowCall: <span class="hljs-literal">true</span>
                        }),
                        expr.operator
                    ],
                    Precedence.Postfix,
                    precedence
                );
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.FunctionExpression:
            isGenerator = expr.generator &amp;&amp; !extra.moz.starlessGenerator;
            result = isGenerator ? <span class="hljs-string">'function*'</span> : <span class="hljs-string">'function'</span>;

            <span class="hljs-keyword">if</span> (expr.id) {
                result = [result, (isGenerator) ? space : noEmptySpace(),
                          generateIdentifier(expr.id),
                          generateFunctionBody(expr)];
            } <span class="hljs-keyword">else</span> {
                result = [result + space, generateFunctionBody(expr)];
            }

            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ArrayPattern:
        <span class="hljs-keyword">case</span> Syntax.ArrayExpression:
            <span class="hljs-keyword">if</span> (!expr.elements.length) {
                result = <span class="hljs-string">'[]'</span>;
                <span class="hljs-keyword">break</span>;
            }
            multiline = expr.elements.length &gt; <span class="hljs-number">1</span>;
            result = [<span class="hljs-string">'['</span>, multiline ? newline : <span class="hljs-string">''</span>];
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">indent</span>) </span>{
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = expr.elements.length; i &lt; len; ++i) {
                    <span class="hljs-keyword">if</span> (!expr.elements[i]) {
                        <span class="hljs-keyword">if</span> (multiline) {
                            result.push(indent);
                        }
                        <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> === len) {
                            result.push(<span class="hljs-string">','</span>);
                        }
                    } <span class="hljs-keyword">else</span> {
                        result.push(multiline ? indent : <span class="hljs-string">''</span>);
                        result.push(generateExpression(expr.elements[i], {
                            precedence: Precedence.Assignment,
                            allowIn: <span class="hljs-literal">true</span>,
                            allowCall: <span class="hljs-literal">true</span>
                        }));
                    }
                    <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; len) {
                        result.push(<span class="hljs-string">','</span> + (multiline ? newline : space));
                    }
                }
            });
            <span class="hljs-keyword">if</span> (multiline &amp;&amp; !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                result.push(newline);
            }
            result.push(multiline ? base : <span class="hljs-string">''</span>);
            result.push(<span class="hljs-string">']'</span>);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.Property:
            <span class="hljs-keyword">if</span> (expr.kind === <span class="hljs-string">'get'</span> || expr.kind === <span class="hljs-string">'set'</span>) {
                result = [
                    expr.kind, noEmptySpace(),
                    generateExpression(expr.key, {
                        precedence: Precedence.Sequence,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    }),
                    generateFunctionBody(expr.value)
                ];
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (expr.shorthand) {
                    result = generateExpression(expr.key, {
                        precedence: Precedence.Sequence,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    });
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (expr.method) {
                    result = [];
                    <span class="hljs-keyword">if</span> (expr.value.generator) {
                        result.push(<span class="hljs-string">'*'</span>);
                    }
                    result.push(generateExpression(expr.key, {
                        precedence: Precedence.Sequence,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    }));
                    result.push(generateFunctionBody(expr.value));
                } <span class="hljs-keyword">else</span> {
                    result = [
                        generateExpression(expr.key, {
                            precedence: Precedence.Sequence,
                            allowIn: <span class="hljs-literal">true</span>,
                            allowCall: <span class="hljs-literal">true</span>
                        }),
                        <span class="hljs-string">':'</span> + space,
                        generateExpression(expr.value, {
                            precedence: Precedence.Assignment,
                            allowIn: <span class="hljs-literal">true</span>,
                            allowCall: <span class="hljs-literal">true</span>
                        })
                    ];
                }
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ObjectExpression:
            <span class="hljs-keyword">if</span> (!expr.properties.length) {
                result = <span class="hljs-string">'{}'</span>;
                <span class="hljs-keyword">break</span>;
            }
            multiline = expr.properties.length &gt; <span class="hljs-number">1</span>;

            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                fragment = generateExpression(expr.properties[<span class="hljs-number">0</span>], {
                    precedence: Precedence.Sequence,
                    allowIn: <span class="hljs-literal">true</span>,
                    allowCall: <span class="hljs-literal">true</span>,
                    type: Syntax.Property
                });
            });

            <span class="hljs-keyword">if</span> (!multiline) {</pre></div></div>
            
        </li>
        
        
        <li id="section-133">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-133">&#182;</a>
              </div>
              <p>issues 4
Do not transform from
  dejavu.Class.declare({
      method2: function () {}
  });
to
  dejavu.Class.declare({method2: function () {
      }});</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (!hasLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                    result = [ <span class="hljs-string">'{'</span>, space, fragment, space, <span class="hljs-string">'}'</span> ];
                    <span class="hljs-keyword">break</span>;
                }
            }

            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">indent</span>) </span>{
                result = [ <span class="hljs-string">'{'</span>, newline, indent, fragment ];

                <span class="hljs-keyword">if</span> (multiline) {
                    result.push(<span class="hljs-string">','</span> + newline);
                    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, len = expr.properties.length; i &lt; len; ++i) {
                        result.push(indent);
                        result.push(generateExpression(expr.properties[i], {
                            precedence: Precedence.Sequence,
                            allowIn: <span class="hljs-literal">true</span>,
                            allowCall: <span class="hljs-literal">true</span>,
                            type: Syntax.Property
                        }));
                        <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; len) {
                            result.push(<span class="hljs-string">','</span> + newline);
                        }
                    }
                }
            });

            <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                result.push(newline);
            }
            result.push(base);
            result.push(<span class="hljs-string">'}'</span>);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ObjectPattern:
            <span class="hljs-keyword">if</span> (!expr.properties.length) {
                result = <span class="hljs-string">'{}'</span>;
                <span class="hljs-keyword">break</span>;
            }

            multiline = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (expr.properties.length === <span class="hljs-number">1</span>) {
                property = expr.properties[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">if</span> (property.value.type !== Syntax.Identifier) {
                    multiline = <span class="hljs-literal">true</span>;
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = expr.properties.length; i &lt; len; ++i) {
                    property = expr.properties[i];
                    <span class="hljs-keyword">if</span> (!property.shorthand) {
                        multiline = <span class="hljs-literal">true</span>;
                        <span class="hljs-keyword">break</span>;
                    }
                }
            }
            result = [<span class="hljs-string">'{'</span>, multiline ? newline : <span class="hljs-string">''</span> ];

            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">indent</span>) </span>{
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = expr.properties.length; i &lt; len; ++i) {
                    result.push(multiline ? indent : <span class="hljs-string">''</span>);
                    result.push(generateExpression(expr.properties[i], {
                        precedence: Precedence.Sequence,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    }));
                    <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; len) {
                        result.push(<span class="hljs-string">','</span> + (multiline ? newline : space));
                    }
                }
            });

            <span class="hljs-keyword">if</span> (multiline &amp;&amp; !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                result.push(newline);
            }
            result.push(multiline ? base : <span class="hljs-string">''</span>);
            result.push(<span class="hljs-string">'}'</span>);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ThisExpression:
            result = <span class="hljs-string">'this'</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.Identifier:
            result = generateIdentifier(expr);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.Literal:
            result = generateLiteral(expr);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.GeneratorExpression:
        <span class="hljs-keyword">case</span> Syntax.ComprehensionExpression:</pre></div></div>
            
        </li>
        
        
        <li id="section-134">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-134">&#182;</a>
              </div>
              <p>GeneratorExpression should be parenthesized with (…), ComprehensionExpression with […]
Due to <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=883468">https://bugzilla.mozilla.org/show_bug.cgi?id=883468</a> position of expr.body can differ in Spidermonkey and ES6</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            result = (type === Syntax.GeneratorExpression) ? [<span class="hljs-string">'('</span>] : [<span class="hljs-string">'['</span>];

            <span class="hljs-keyword">if</span> (extra.moz.comprehensionExpressionStartsWithAssignment) {
                fragment = generateExpression(expr.body, {
                    precedence: Precedence.Assignment,
                    allowIn: <span class="hljs-literal">true</span>,
                    allowCall: <span class="hljs-literal">true</span>
                });

                result.push(fragment);
            }

            <span class="hljs-keyword">if</span> (expr.blocks) {
                withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = expr.blocks.length; i &lt; len; ++i) {
                        fragment = generateExpression(expr.blocks[i], {
                            precedence: Precedence.Sequence,
                            allowIn: <span class="hljs-literal">true</span>,
                            allowCall: <span class="hljs-literal">true</span>
                        });

                        <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span> || extra.moz.comprehensionExpressionStartsWithAssignment) {
                            result = join(result, fragment);
                        } <span class="hljs-keyword">else</span> {
                            result.push(fragment);
                        }
                    }
                });
            }

            <span class="hljs-keyword">if</span> (expr.filter) {
                result = join(result, <span class="hljs-string">'if'</span> + space);
                fragment = generateExpression(expr.filter, {
                    precedence: Precedence.Sequence,
                    allowIn: <span class="hljs-literal">true</span>,
                    allowCall: <span class="hljs-literal">true</span>
                });
                <span class="hljs-keyword">if</span> (extra.moz.parenthesizedComprehensionBlock) {
                    result = join(result, [ <span class="hljs-string">'('</span>, fragment, <span class="hljs-string">')'</span> ]);
                } <span class="hljs-keyword">else</span> {
                    result = join(result, fragment);
                }
            }

            <span class="hljs-keyword">if</span> (!extra.moz.comprehensionExpressionStartsWithAssignment) {
                fragment = generateExpression(expr.body, {
                    precedence: Precedence.Assignment,
                    allowIn: <span class="hljs-literal">true</span>,
                    allowCall: <span class="hljs-literal">true</span>
                });

                result = join(result, fragment);
            }

            result.push((type === Syntax.GeneratorExpression) ? <span class="hljs-string">')'</span> : <span class="hljs-string">']'</span>);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ComprehensionBlock:
            <span class="hljs-keyword">if</span> (expr.left.type === Syntax.VariableDeclaration) {
                fragment = [
                    expr.left.kind, noEmptySpace(),
                    generateStatement(expr.left.declarations[<span class="hljs-number">0</span>], {
                        allowIn: <span class="hljs-literal">false</span>
                    })
                ];
            } <span class="hljs-keyword">else</span> {
                fragment = generateExpression(expr.left, {
                    precedence: Precedence.Call,
                    allowIn: <span class="hljs-literal">true</span>,
                    allowCall: <span class="hljs-literal">true</span>
                });
            }

            fragment = join(fragment, expr.of ? <span class="hljs-string">'of'</span> : <span class="hljs-string">'in'</span>);
            fragment = join(fragment, generateExpression(expr.right, {
                precedence: Precedence.Sequence,
                allowIn: <span class="hljs-literal">true</span>,
                allowCall: <span class="hljs-literal">true</span>
            }));

            <span class="hljs-keyword">if</span> (extra.moz.parenthesizedComprehensionBlock) {
                result = [ <span class="hljs-string">'for'</span> + space + <span class="hljs-string">'('</span>, fragment, <span class="hljs-string">')'</span> ];
            } <span class="hljs-keyword">else</span> {
                result = join(<span class="hljs-string">'for'</span> + space, fragment);
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unknown expression type: '</span> + expr.type);
        }

        <span class="hljs-keyword">if</span> (extra.comment) {
            result = addComments(expr,result);
        }
        <span class="hljs-keyword">return</span> toSourceNodeWhenNeeded(result, expr);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateStatement</span>(<span class="hljs-params">stmt, option</span>) </span>{
        <span class="hljs-keyword">var</span> i,
            len,
            result,
            node,
            specifier,
            allowIn,
            functionBody,
            directiveContext,
            fragment,
            semicolon,
            isGenerator;

        allowIn = <span class="hljs-literal">true</span>;
        semicolon = <span class="hljs-string">';'</span>;
        functionBody = <span class="hljs-literal">false</span>;
        directiveContext = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (option) {
            allowIn = option.allowIn === <span class="hljs-literal">undefined</span> || option.allowIn;
            <span class="hljs-keyword">if</span> (!semicolons &amp;&amp; option.semicolonOptional === <span class="hljs-literal">true</span>) {
                semicolon = <span class="hljs-string">''</span>;
            }
            functionBody = option.functionBody;
            directiveContext = option.directiveContext;
        }

        <span class="hljs-keyword">switch</span> (stmt.type) {
        <span class="hljs-keyword">case</span> Syntax.BlockStatement:
            result = [<span class="hljs-string">'{'</span>, newline];

            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = stmt.body.length; i &lt; len; ++i) {
                    fragment = addIndent(generateStatement(stmt.body[i], {
                        semicolonOptional: i === len - <span class="hljs-number">1</span>,
                        directiveContext: functionBody
                    }));
                    result.push(fragment);
                    <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                        result.push(newline);
                    }
                }
            });

            result.push(addIndent(<span class="hljs-string">'}'</span>));
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.BreakStatement:
            <span class="hljs-keyword">if</span> (stmt.label) {
                result = <span class="hljs-string">'break '</span> + stmt.label.name + semicolon;
            } <span class="hljs-keyword">else</span> {
                result = <span class="hljs-string">'break'</span> + semicolon;
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ContinueStatement:
            <span class="hljs-keyword">if</span> (stmt.label) {
                result = <span class="hljs-string">'continue '</span> + stmt.label.name + semicolon;
            } <span class="hljs-keyword">else</span> {
                result = <span class="hljs-string">'continue'</span> + semicolon;
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.DirectiveStatement:
            <span class="hljs-keyword">if</span> (extra.raw &amp;&amp; stmt.raw) {
                result = stmt.raw + semicolon;
            } <span class="hljs-keyword">else</span> {
                result = escapeDirective(stmt.directive) + semicolon;
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.DoWhileStatement:</pre></div></div>
            
        </li>
        
        
        <li id="section-135">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-135">&#182;</a>
              </div>
              <p>Because <code>do 42 while (cond)</code> is Syntax Error. We need semicolon.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            result = join(<span class="hljs-string">'do'</span>, maybeBlock(stmt.body));
            result = maybeBlockSuffix(stmt.body, result);
            result = join(result, [
                <span class="hljs-string">'while'</span> + space + <span class="hljs-string">'('</span>,
                generateExpression(stmt.test, {
                    precedence: Precedence.Sequence,
                    allowIn: <span class="hljs-literal">true</span>,
                    allowCall: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-string">')'</span> + semicolon
            ]);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.CatchClause:
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> guard;

                result = [
                    <span class="hljs-string">'catch'</span> + space + <span class="hljs-string">'('</span>,
                    generateExpression(stmt.param, {
                        precedence: Precedence.Sequence,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    }),
                    <span class="hljs-string">')'</span>
                ];

                <span class="hljs-keyword">if</span> (stmt.guard) {
                    guard = generateExpression(stmt.guard, {
                        precedence: Precedence.Sequence,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    });

                    result.splice(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-string">' if '</span>, guard);
                }
            });
            result.push(maybeBlock(stmt.body));
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.DebuggerStatement:
            result = <span class="hljs-string">'debugger'</span> + semicolon;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.EmptyStatement:
            result = <span class="hljs-string">';'</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ExportDeclaration:
            result = <span class="hljs-string">'export '</span>;
            <span class="hljs-keyword">if</span> (stmt.declaration) {</pre></div></div>
            
        </li>
        
        
        <li id="section-136">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-136">&#182;</a>
              </div>
              <p>FunctionDeclaration or VariableDeclaration</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                result = [result, generateStatement(stmt.declaration, { semicolonOptional: semicolon === <span class="hljs-string">''</span> })];
                <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ExpressionStatement:
            result = [generateExpression(stmt.expression, {
                precedence: Precedence.Sequence,
                allowIn: <span class="hljs-literal">true</span>,
                allowCall: <span class="hljs-literal">true</span>
            })];</pre></div></div>
            
        </li>
        
        
        <li id="section-137">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-137">&#182;</a>
              </div>
              <p>12.4 ‘{‘, ‘function’ is not allowed in this position.
wrap expression with parentheses</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            fragment = toSourceNodeWhenNeeded(result).toString();
            <span class="hljs-keyword">if</span> (fragment.charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'{'</span> ||  <span class="hljs-comment">// ObjectExpression</span>
                    (fragment.slice(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>) === <span class="hljs-string">'function'</span> &amp;&amp; <span class="hljs-string">'* ('</span>.indexOf(fragment.charAt(<span class="hljs-number">8</span>)) &gt;= <span class="hljs-number">0</span>) ||  <span class="hljs-comment">// function or generator</span>
                    (directive &amp;&amp; directiveContext &amp;&amp; stmt.expression.type === Syntax.Literal &amp;&amp; <span class="hljs-keyword">typeof</span> stmt.expression.value === <span class="hljs-string">'string'</span>)) {
                result = [<span class="hljs-string">'('</span>, result, <span class="hljs-string">')'</span> + semicolon];
            } <span class="hljs-keyword">else</span> {
                result.push(semicolon);
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ImportDeclaration:</pre></div></div>
            
        </li>
        
        
        <li id="section-138">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-138">&#182;</a>
              </div>
              <p>ES6: 15.2.1 valid import declarations:</p>
<pre><code>- <span class="hljs-keyword">import</span> ImportClause FromClause ;
- <span class="hljs-keyword">import</span> ModuleSpecifier ;
</code></pre><p>If no ImportClause is present,
this should be <code>import ModuleSpecifier</code> so skip <code>from</code></p>
<p>ModuleSpecifier is StringLiteral.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (stmt.specifiers.length === <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-139">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-139">&#182;</a>
              </div>
              <p>import ModuleSpecifier ;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                result = [
                    <span class="hljs-string">'import'</span>,
                    space,
                    generateLiteral(stmt.source)
                ];
            } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-140">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-140">&#182;</a>
              </div>
              <p>import ImportClause FromClause ;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (stmt.kind === <span class="hljs-string">'default'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-141">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-141">&#182;</a>
              </div>
              <p>import … from “…”;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    result = [
                        <span class="hljs-string">'import'</span>,
                        noEmptySpace(),
                        stmt.specifiers[<span class="hljs-number">0</span>].id.name,
                        noEmptySpace()
                    ];
                } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-142">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-142">&#182;</a>
              </div>
              <p>stmt.kind === ‘named’</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    result = [
                        <span class="hljs-string">'import'</span>,
                        space,
                        <span class="hljs-string">'{'</span>,
                    ];

                    <span class="hljs-keyword">if</span> (stmt.specifiers.length === <span class="hljs-number">1</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-143">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-143">&#182;</a>
              </div>
              <p>import { … } from “…”;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                        specifier = stmt.specifiers[<span class="hljs-number">0</span>];
                        result.push(space + specifier.id.name);
                        <span class="hljs-keyword">if</span> (specifier.name) {
                            result.push(noEmptySpace() + <span class="hljs-string">'as'</span> + noEmptySpace() + specifier.name.name);
                        }
                        result.push(space + <span class="hljs-string">'}'</span> + space);
                    } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-144">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-144">&#182;</a>
              </div>
              <p>import {
   …,
   …,
} from “…”;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                        withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">indent</span>) </span>{
                            <span class="hljs-keyword">var</span> i, iz;
                            result.push(newline);
                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = stmt.specifiers.length; i &lt; iz; ++i) {
                                specifier = stmt.specifiers[i];
                                result.push(indent + specifier.id.name);
                                <span class="hljs-keyword">if</span> (specifier.name) {
                                    result.push(noEmptySpace() + <span class="hljs-string">'as'</span> + noEmptySpace() + specifier.name.name);
                                }

                                <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; iz) {
                                    result.push(<span class="hljs-string">','</span> + newline);
                                }
                            }
                        });
                        <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                            result.push(newline);
                        }
                        result.push(base + <span class="hljs-string">'}'</span> + space);
                    }
                }

                result.push(<span class="hljs-string">'from'</span> + space);
                result.push(generateLiteral(stmt.source));
            }
            result.push(semicolon);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.VariableDeclarator:
            <span class="hljs-keyword">if</span> (stmt.init) {
                result = [
                    generateExpression(stmt.id, {
                        precedence: Precedence.Assignment,
                        allowIn: allowIn,
                        allowCall: <span class="hljs-literal">true</span>
                    }),
                    space,
                    <span class="hljs-string">'='</span>,
                    space,
                    generateExpression(stmt.init, {
                        precedence: Precedence.Assignment,
                        allowIn: allowIn,
                        allowCall: <span class="hljs-literal">true</span>
                    })
                ];
            } <span class="hljs-keyword">else</span> {
                result = generatePattern(stmt.id, {
                    precedence: Precedence.Assignment,
                    allowIn: allowIn
                });
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.VariableDeclaration:
            result = [stmt.kind];</pre></div></div>
            
        </li>
        
        
        <li id="section-145">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-145">&#182;</a>
              </div>
              <p>special path for
var x = function () {
};</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (stmt.declarations.length === <span class="hljs-number">1</span> &amp;&amp; stmt.declarations[<span class="hljs-number">0</span>].init &amp;&amp;
                    stmt.declarations[<span class="hljs-number">0</span>].init.type === Syntax.FunctionExpression) {
                result.push(noEmptySpace());
                result.push(generateStatement(stmt.declarations[<span class="hljs-number">0</span>], {
                    allowIn: allowIn
                }));
            } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-146">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-146">&#182;</a>
              </div>
              <p>VariableDeclarator is typed as Statement,
but joined with comma (not LineTerminator).
So if comment is attached to target node, we should specialize.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                    node = stmt.declarations[<span class="hljs-number">0</span>];
                    <span class="hljs-keyword">if</span> (extra.comment &amp;&amp; node.leadingComments) {
                        result.push(<span class="hljs-string">'\n'</span>);
                        result.push(addIndent(generateStatement(node, {
                            allowIn: allowIn
                        })));
                    } <span class="hljs-keyword">else</span> {
                        result.push(noEmptySpace());
                        result.push(generateStatement(node, {
                            allowIn: allowIn
                        }));
                    }

                    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, len = stmt.declarations.length; i &lt; len; ++i) {
                        node = stmt.declarations[i];
                        <span class="hljs-keyword">if</span> (extra.comment &amp;&amp; node.leadingComments) {
                            result.push(<span class="hljs-string">','</span> + newline);
                            result.push(addIndent(generateStatement(node, {
                                allowIn: allowIn
                            })));
                        } <span class="hljs-keyword">else</span> {
                            result.push(<span class="hljs-string">','</span> + space);
                            result.push(generateStatement(node, {
                                allowIn: allowIn
                            }));
                        }
                    }
                });
            }
            result.push(semicolon);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ThrowStatement:
            result = [join(
                <span class="hljs-string">'throw'</span>,
                generateExpression(stmt.argument, {
                    precedence: Precedence.Sequence,
                    allowIn: <span class="hljs-literal">true</span>,
                    allowCall: <span class="hljs-literal">true</span>
                })
            ), semicolon];
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.TryStatement:
            result = [<span class="hljs-string">'try'</span>, maybeBlock(stmt.block)];
            result = maybeBlockSuffix(stmt.block, result);

            <span class="hljs-keyword">if</span> (stmt.handlers) {</pre></div></div>
            
        </li>
        
        
        <li id="section-147">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-147">&#182;</a>
              </div>
              <p>old interface</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = stmt.handlers.length; i &lt; len; ++i) {
                    result = join(result, generateStatement(stmt.handlers[i]));
                    <span class="hljs-keyword">if</span> (stmt.finalizer || i + <span class="hljs-number">1</span> !== len) {
                        result = maybeBlockSuffix(stmt.handlers[i].body, result);
                    }
                }
            } <span class="hljs-keyword">else</span> {
                stmt.guardedHandlers = stmt.guardedHandlers || [];

                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = stmt.guardedHandlers.length; i &lt; len; ++i) {
                    result = join(result, generateStatement(stmt.guardedHandlers[i]));
                    <span class="hljs-keyword">if</span> (stmt.finalizer || i + <span class="hljs-number">1</span> !== len) {
                        result = maybeBlockSuffix(stmt.guardedHandlers[i].body, result);
                    }
                }</pre></div></div>
            
        </li>
        
        
        <li id="section-148">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-148">&#182;</a>
              </div>
              <p>new interface</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (stmt.handler) {
                    <span class="hljs-keyword">if</span> (isArray(stmt.handler)) {
                        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = stmt.handler.length; i &lt; len; ++i) {
                            result = join(result, generateStatement(stmt.handler[i]));
                            <span class="hljs-keyword">if</span> (stmt.finalizer || i + <span class="hljs-number">1</span> !== len) {
                                result = maybeBlockSuffix(stmt.handler[i].body, result);
                            }
                        }
                    } <span class="hljs-keyword">else</span> {
                        result = join(result, generateStatement(stmt.handler));
                        <span class="hljs-keyword">if</span> (stmt.finalizer) {
                            result = maybeBlockSuffix(stmt.handler.body, result);
                        }
                    }
                }
            }
            <span class="hljs-keyword">if</span> (stmt.finalizer) {
                result = join(result, [<span class="hljs-string">'finally'</span>, maybeBlock(stmt.finalizer)]);
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.SwitchStatement:
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                result = [
                    <span class="hljs-string">'switch'</span> + space + <span class="hljs-string">'('</span>,
                    generateExpression(stmt.discriminant, {
                        precedence: Precedence.Sequence,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    }),
                    <span class="hljs-string">')'</span> + space + <span class="hljs-string">'{'</span> + newline
                ];
            });
            <span class="hljs-keyword">if</span> (stmt.cases) {
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = stmt.cases.length; i &lt; len; ++i) {
                    fragment = addIndent(generateStatement(stmt.cases[i], {semicolonOptional: i === len - <span class="hljs-number">1</span>}));
                    result.push(fragment);
                    <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                        result.push(newline);
                    }
                }
            }
            result.push(addIndent(<span class="hljs-string">'}'</span>));
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.SwitchCase:
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">if</span> (stmt.test) {
                    result = [
                        join(<span class="hljs-string">'case'</span>, generateExpression(stmt.test, {
                            precedence: Precedence.Sequence,
                            allowIn: <span class="hljs-literal">true</span>,
                            allowCall: <span class="hljs-literal">true</span>
                        })),
                        <span class="hljs-string">':'</span>
                    ];
                } <span class="hljs-keyword">else</span> {
                    result = [<span class="hljs-string">'default:'</span>];
                }

                i = <span class="hljs-number">0</span>;
                len = stmt.consequent.length;
                <span class="hljs-keyword">if</span> (len &amp;&amp; stmt.consequent[<span class="hljs-number">0</span>].type === Syntax.BlockStatement) {
                    fragment = maybeBlock(stmt.consequent[<span class="hljs-number">0</span>]);
                    result.push(fragment);
                    i = <span class="hljs-number">1</span>;
                }

                <span class="hljs-keyword">if</span> (i !== len &amp;&amp; !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                    result.push(newline);
                }

                <span class="hljs-keyword">for</span> (; i &lt; len; ++i) {
                    fragment = addIndent(generateStatement(stmt.consequent[i], {semicolonOptional: i === len - <span class="hljs-number">1</span> &amp;&amp; semicolon === <span class="hljs-string">''</span>}));
                    result.push(fragment);
                    <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> !== len &amp;&amp; !endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                        result.push(newline);
                    }
                }
            });
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.IfStatement:
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                result = [
                    <span class="hljs-string">'if'</span> + space + <span class="hljs-string">'('</span>,
                    generateExpression(stmt.test, {
                        precedence: Precedence.Sequence,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    }),
                    <span class="hljs-string">')'</span>
                ];
            });
            <span class="hljs-keyword">if</span> (stmt.alternate) {
                result.push(maybeBlock(stmt.consequent));
                result = maybeBlockSuffix(stmt.consequent, result);
                <span class="hljs-keyword">if</span> (stmt.alternate.type === Syntax.IfStatement) {
                    result = join(result, [<span class="hljs-string">'else '</span>, generateStatement(stmt.alternate, {semicolonOptional: semicolon === <span class="hljs-string">''</span>})]);
                } <span class="hljs-keyword">else</span> {
                    result = join(result, join(<span class="hljs-string">'else'</span>, maybeBlock(stmt.alternate, semicolon === <span class="hljs-string">''</span>)));
                }
            } <span class="hljs-keyword">else</span> {
                result.push(maybeBlock(stmt.consequent, semicolon === <span class="hljs-string">''</span>));
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ForStatement:
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                result = [<span class="hljs-string">'for'</span> + space + <span class="hljs-string">'('</span>];
                <span class="hljs-keyword">if</span> (stmt.init) {
                    <span class="hljs-keyword">if</span> (stmt.init.type === Syntax.VariableDeclaration) {
                        result.push(generateStatement(stmt.init, {allowIn: <span class="hljs-literal">false</span>}));
                    } <span class="hljs-keyword">else</span> {
                        result.push(generateExpression(stmt.init, {
                            precedence: Precedence.Sequence,
                            allowIn: <span class="hljs-literal">false</span>,
                            allowCall: <span class="hljs-literal">true</span>
                        }));
                        result.push(<span class="hljs-string">';'</span>);
                    }
                } <span class="hljs-keyword">else</span> {
                    result.push(<span class="hljs-string">';'</span>);
                }

                <span class="hljs-keyword">if</span> (stmt.test) {
                    result.push(space);
                    result.push(generateExpression(stmt.test, {
                        precedence: Precedence.Sequence,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    }));
                    result.push(<span class="hljs-string">';'</span>);
                } <span class="hljs-keyword">else</span> {
                    result.push(<span class="hljs-string">';'</span>);
                }

                <span class="hljs-keyword">if</span> (stmt.update) {
                    result.push(space);
                    result.push(generateExpression(stmt.update, {
                        precedence: Precedence.Sequence,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    }));
                    result.push(<span class="hljs-string">')'</span>);
                } <span class="hljs-keyword">else</span> {
                    result.push(<span class="hljs-string">')'</span>);
                }
            });

            result.push(maybeBlock(stmt.body, semicolon === <span class="hljs-string">''</span>));
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ForInStatement:
            result = generateIterationForStatement(<span class="hljs-string">'in'</span>, stmt, semicolon === <span class="hljs-string">''</span>);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ForOfStatement:
            result = generateIterationForStatement(<span class="hljs-string">'of'</span>, stmt, semicolon === <span class="hljs-string">''</span>);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.LabeledStatement:
            result = [stmt.label.name + <span class="hljs-string">':'</span>, maybeBlock(stmt.body, semicolon === <span class="hljs-string">''</span>)];
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.Program:
            len = stmt.body.length;
            result = [safeConcatenation &amp;&amp; len &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">'\n'</span> : <span class="hljs-string">''</span>];
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; len; ++i) {
                fragment = addIndent(
                    generateStatement(stmt.body[i], {
                        semicolonOptional: !safeConcatenation &amp;&amp; i === len - <span class="hljs-number">1</span>,
                        directiveContext: <span class="hljs-literal">true</span>
                    })
                );
                result.push(fragment);
                <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; len &amp;&amp; !endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                    result.push(newline);
                }
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.FunctionDeclaration:
            isGenerator = stmt.generator &amp;&amp; !extra.moz.starlessGenerator;
            result = [
                (isGenerator ? <span class="hljs-string">'function*'</span> : <span class="hljs-string">'function'</span>),
                (isGenerator ? space : noEmptySpace()),
                generateIdentifier(stmt.id),
                generateFunctionBody(stmt)
            ];
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.ReturnStatement:
            <span class="hljs-keyword">if</span> (stmt.argument) {
                result = [join(
                    <span class="hljs-string">'return'</span>,
                    generateExpression(stmt.argument, {
                        precedence: Precedence.Sequence,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    })
                ), semicolon];
            } <span class="hljs-keyword">else</span> {
                result = [<span class="hljs-string">'return'</span> + semicolon];
            }
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.WhileStatement:
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                result = [
                    <span class="hljs-string">'while'</span> + space + <span class="hljs-string">'('</span>,
                    generateExpression(stmt.test, {
                        precedence: Precedence.Sequence,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    }),
                    <span class="hljs-string">')'</span>
                ];
            });
            result.push(maybeBlock(stmt.body, semicolon === <span class="hljs-string">''</span>));
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.WithStatement:
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                result = [
                    <span class="hljs-string">'with'</span> + space + <span class="hljs-string">'('</span>,
                    generateExpression(stmt.object, {
                        precedence: Precedence.Sequence,
                        allowIn: <span class="hljs-literal">true</span>,
                        allowCall: <span class="hljs-literal">true</span>
                    }),
                    <span class="hljs-string">')'</span>
                ];
            });
            result.push(maybeBlock(stmt.body, semicolon === <span class="hljs-string">''</span>));
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unknown statement type: '</span> + stmt.type);
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-149">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-149">&#182;</a>
              </div>
              <p>Attach comments</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        <span class="hljs-keyword">if</span> (extra.comment) {
            result = addComments(stmt, result);
        }

        fragment = toSourceNodeWhenNeeded(result).toString();
        <span class="hljs-keyword">if</span> (stmt.type === Syntax.Program &amp;&amp; !safeConcatenation &amp;&amp; newline === <span class="hljs-string">''</span> &amp;&amp;  fragment.charAt(fragment.length - <span class="hljs-number">1</span>) === <span class="hljs-string">'\n'</span>) {
            result = sourceMap ? toSourceNodeWhenNeeded(result).replaceRight(<span class="hljs-regexp">/\s+$/</span>, <span class="hljs-string">''</span>) : fragment.replace(<span class="hljs-regexp">/\s+$/</span>, <span class="hljs-string">''</span>);
        }

        <span class="hljs-keyword">return</span> toSourceNodeWhenNeeded(result, stmt);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generate</span>(<span class="hljs-params">node, options</span>) </span>{
        <span class="hljs-keyword">var</span> defaultOptions = getDefaultOptions(), result, pair;

        <span class="hljs-keyword">if</span> (options != <span class="hljs-literal">null</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-150">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-150">&#182;</a>
              </div>
              <p>Obsolete options</p>
<p>  <code>options.indent</code>
  <code>options.base</code></p>
<p>Instead of them, we can use <code>option.format.indent</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.indent === <span class="hljs-string">'string'</span>) {
                defaultOptions.format.indent.style = options.indent;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.base === <span class="hljs-string">'number'</span>) {
                defaultOptions.format.indent.base = options.base;
            }
            options = updateDeeply(defaultOptions, options);
            indent = options.format.indent.style;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.base === <span class="hljs-string">'string'</span>) {
                base = options.base;
            } <span class="hljs-keyword">else</span> {
                base = stringRepeat(indent, options.format.indent.base);
            }
        } <span class="hljs-keyword">else</span> {
            options = defaultOptions;
            indent = options.format.indent.style;
            base = stringRepeat(indent, options.format.indent.base);
        }
        json = options.format.json;
        renumber = options.format.renumber;
        hexadecimal = json ? <span class="hljs-literal">false</span> : options.format.hexadecimal;
        quotes = json ? <span class="hljs-string">'double'</span> : options.format.quotes;
        escapeless = options.format.escapeless;
        newline = options.format.newline;
        space = options.format.space;
        <span class="hljs-keyword">if</span> (options.format.compact) {
            newline = space = indent = base = <span class="hljs-string">''</span>;
        }
        parentheses = options.format.parentheses;
        semicolons = options.format.semicolons;
        safeConcatenation = options.format.safeConcatenation;
        directive = options.directive;
        parse = json ? <span class="hljs-literal">null</span> : options.parse;
        sourceMap = options.sourceMap;
        extra = options;

        <span class="hljs-keyword">if</span> (sourceMap) {
            <span class="hljs-keyword">if</span> (!exports.browser) {</pre></div></div>
            
        </li>
        
        
        <li id="section-151">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-151">&#182;</a>
              </div>
              <p>We assume environment is node.js
And prevent from including source-map by browserify</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                SourceNode = <span class="hljs-built_in">require</span>(<span class="hljs-string">'source-map'</span>).SourceNode;
            } <span class="hljs-keyword">else</span> {
                SourceNode = global.sourceMap.SourceNode;
            }
        }

        <span class="hljs-keyword">switch</span> (node.type) {
        <span class="hljs-keyword">case</span> Syntax.BlockStatement:
        <span class="hljs-keyword">case</span> Syntax.BreakStatement:
        <span class="hljs-keyword">case</span> Syntax.CatchClause:
        <span class="hljs-keyword">case</span> Syntax.ContinueStatement:
        <span class="hljs-keyword">case</span> Syntax.DirectiveStatement:
        <span class="hljs-keyword">case</span> Syntax.DoWhileStatement:
        <span class="hljs-keyword">case</span> Syntax.DebuggerStatement:
        <span class="hljs-keyword">case</span> Syntax.EmptyStatement:
        <span class="hljs-keyword">case</span> Syntax.ExpressionStatement:
        <span class="hljs-keyword">case</span> Syntax.ForStatement:
        <span class="hljs-keyword">case</span> Syntax.ForInStatement:
        <span class="hljs-keyword">case</span> Syntax.ForOfStatement:
        <span class="hljs-keyword">case</span> Syntax.FunctionDeclaration:
        <span class="hljs-keyword">case</span> Syntax.IfStatement:
        <span class="hljs-keyword">case</span> Syntax.LabeledStatement:
        <span class="hljs-keyword">case</span> Syntax.Program:
        <span class="hljs-keyword">case</span> Syntax.ReturnStatement:
        <span class="hljs-keyword">case</span> Syntax.SwitchStatement:
        <span class="hljs-keyword">case</span> Syntax.SwitchCase:
        <span class="hljs-keyword">case</span> Syntax.ThrowStatement:
        <span class="hljs-keyword">case</span> Syntax.TryStatement:
        <span class="hljs-keyword">case</span> Syntax.VariableDeclaration:
        <span class="hljs-keyword">case</span> Syntax.VariableDeclarator:
        <span class="hljs-keyword">case</span> Syntax.WhileStatement:
        <span class="hljs-keyword">case</span> Syntax.WithStatement:
            result = generateStatement(node);
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> Syntax.AssignmentExpression:
        <span class="hljs-keyword">case</span> Syntax.ArrayExpression:
        <span class="hljs-keyword">case</span> Syntax.ArrayPattern:
        <span class="hljs-keyword">case</span> Syntax.BinaryExpression:
        <span class="hljs-keyword">case</span> Syntax.CallExpression:
        <span class="hljs-keyword">case</span> Syntax.ConditionalExpression:
        <span class="hljs-keyword">case</span> Syntax.FunctionExpression:
        <span class="hljs-keyword">case</span> Syntax.Identifier:
        <span class="hljs-keyword">case</span> Syntax.Literal:
        <span class="hljs-keyword">case</span> Syntax.LogicalExpression:
        <span class="hljs-keyword">case</span> Syntax.MemberExpression:
        <span class="hljs-keyword">case</span> Syntax.NewExpression:
        <span class="hljs-keyword">case</span> Syntax.ObjectExpression:
        <span class="hljs-keyword">case</span> Syntax.ObjectPattern:
        <span class="hljs-keyword">case</span> Syntax.Property:
        <span class="hljs-keyword">case</span> Syntax.SequenceExpression:
        <span class="hljs-keyword">case</span> Syntax.ThisExpression:
        <span class="hljs-keyword">case</span> Syntax.UnaryExpression:
        <span class="hljs-keyword">case</span> Syntax.UpdateExpression:
        <span class="hljs-keyword">case</span> Syntax.YieldExpression:

            result = generateExpression(node, {
                precedence: Precedence.Sequence,
                allowIn: <span class="hljs-literal">true</span>,
                allowCall: <span class="hljs-literal">true</span>
            });
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unknown node type: '</span> + node.type);
        }

        <span class="hljs-keyword">if</span> (!sourceMap) {
            pair = {code: result.toString(), map: <span class="hljs-literal">null</span>};
            <span class="hljs-keyword">return</span> options.sourceMapWithCode ? pair : pair.code;
        }


        pair = result.toStringWithSourceMap({
            file: options.file,
            sourceRoot: options.sourceMapRoot
        });

        <span class="hljs-keyword">if</span> (options.sourceContent) {
            pair.map.setSourceContent(options.sourceMap,
                                      options.sourceContent);
        }

        <span class="hljs-keyword">if</span> (options.sourceMapWithCode) {
            <span class="hljs-keyword">return</span> pair;
        }

        <span class="hljs-keyword">return</span> pair.map.toString();
    }

    FORMAT_MINIFY = {
        indent: {
            style: <span class="hljs-string">''</span>,
            base: <span class="hljs-number">0</span>
        },
        renumber: <span class="hljs-literal">true</span>,
        hexadecimal: <span class="hljs-literal">true</span>,
        quotes: <span class="hljs-string">'auto'</span>,
        escapeless: <span class="hljs-literal">true</span>,
        compact: <span class="hljs-literal">true</span>,
        parentheses: <span class="hljs-literal">false</span>,
        semicolons: <span class="hljs-literal">false</span>
    };

    FORMAT_DEFAULTS = getDefaultOptions().format;

    exports.version = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./package.json'</span>).version;
    exports.generate = generate;
    exports.attachComments = estraverse.attachComments;
    exports.Precedence = updateDeeply({}, Precedence);
    exports.browser = <span class="hljs-literal">false</span>;
    exports.FORMAT_MINIFY = FORMAT_MINIFY;
    exports.FORMAT_DEFAULTS = FORMAT_DEFAULTS;
}());
<span class="hljs-comment">/* vim: set sw=4 ts=4 et tw=80 : */</span>

}).call(<span class="hljs-keyword">this</span>,<span class="hljs-keyword">typeof</span> global !== <span class="hljs-string">"undefined"</span> ? global : <span class="hljs-keyword">typeof</span> self !== <span class="hljs-string">"undefined"</span> ? self : <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span> !== <span class="hljs-string">"undefined"</span> ? <span class="hljs-built_in">window</span> : {})
},{<span class="hljs-string">"./package.json"</span>:<span class="hljs-number">18</span>,<span class="hljs-string">"estraverse"</span>:<span class="hljs-number">20</span>,<span class="hljs-string">"esutils"</span>:<span class="hljs-number">23</span>,<span class="hljs-string">"source-map"</span>:<span class="hljs-number">8</span>}],<span class="hljs-number">8</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/*
 * Copyright 2009-2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE.txt or:
 * http://opensource.org/licenses/BSD-3-Clause
 */</span>
exports.SourceMapGenerator = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./source-map/source-map-generator'</span>).SourceMapGenerator;
exports.SourceMapConsumer = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./source-map/source-map-consumer'</span>).SourceMapConsumer;
exports.SourceNode = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./source-map/source-node'</span>).SourceNode;

},{<span class="hljs-string">"./source-map/source-map-consumer"</span>:<span class="hljs-number">14</span>,<span class="hljs-string">"./source-map/source-map-generator"</span>:<span class="hljs-number">15</span>,<span class="hljs-string">"./source-map/source-node"</span>:<span class="hljs-number">16</span>}],<span class="hljs-number">9</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
<span class="hljs-comment">/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">var</span> define = <span class="hljs-built_in">require</span>(<span class="hljs-string">'amdefine'</span>)(<span class="hljs-built_in">module</span>, <span class="hljs-built_in">require</span>);
}
define(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, module</span>) </span>{

  <span class="hljs-keyword">var</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./util'</span>);

  <span class="hljs-comment">/**
   * A data structure which is a combination of an array and a set. Adding a new
   * member is O(1), testing for membership is O(1), and finding the index of an
   * element is O(1). Removing elements from the set is not supported. Only
   * strings are supported for membership.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>._array = [];
    <span class="hljs-keyword">this</span>._set = {};
  }

  <span class="hljs-comment">/**
   * Static method for creating ArraySet instances from an existing array.
   */</span>
  ArraySet.fromArray = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet_fromArray</span>(<span class="hljs-params">aArray, aAllowDuplicates</span>) </span>{
    <span class="hljs-keyword">var</span> set = <span class="hljs-keyword">new</span> ArraySet();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = aArray.length; i &lt; len; i++) {
      set.add(aArray[i], aAllowDuplicates);
    }
    <span class="hljs-keyword">return</span> set;
  };

  <span class="hljs-comment">/**
   * Add the given string to this set.
   *
   * @param String aStr
   */</span>
  ArraySet.prototype.add = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet_add</span>(<span class="hljs-params">aStr, aAllowDuplicates</span>) </span>{
    <span class="hljs-keyword">var</span> isDuplicate = <span class="hljs-keyword">this</span>.has(aStr);
    <span class="hljs-keyword">var</span> idx = <span class="hljs-keyword">this</span>._array.length;
    <span class="hljs-keyword">if</span> (!isDuplicate || aAllowDuplicates) {
      <span class="hljs-keyword">this</span>._array.push(aStr);
    }
    <span class="hljs-keyword">if</span> (!isDuplicate) {
      <span class="hljs-keyword">this</span>._set[util.toSetString(aStr)] = idx;
    }
  };

  <span class="hljs-comment">/**
   * Is the given string a member of this set?
   *
   * @param String aStr
   */</span>
  ArraySet.prototype.has = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet_has</span>(<span class="hljs-params">aStr</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(<span class="hljs-keyword">this</span>._set,
                                                util.toSetString(aStr));
  };

  <span class="hljs-comment">/**
   * What is the index of the given string in the array?
   *
   * @param String aStr
   */</span>
  ArraySet.prototype.indexOf = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet_indexOf</span>(<span class="hljs-params">aStr</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.has(aStr)) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._set[util.toSetString(aStr)];
    }
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'"'</span> + aStr + <span class="hljs-string">'" is not in the set.'</span>);
  };

  <span class="hljs-comment">/**
   * What is the element at the given index?
   *
   * @param Number aIdx
   */</span>
  ArraySet.prototype.at = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet_at</span>(<span class="hljs-params">aIdx</span>) </span>{
    <span class="hljs-keyword">if</span> (aIdx &gt;= <span class="hljs-number">0</span> &amp;&amp; aIdx &lt; <span class="hljs-keyword">this</span>._array.length) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._array[aIdx];
    }
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'No element indexed by '</span> + aIdx);
  };

  <span class="hljs-comment">/**
   * Returns the array representation of this set (which has the proper indices
   * indicated by indexOf). Note that this is a copy of the internal array used
   * for storing the members so that no one can mess with internal state.
   */</span>
  ArraySet.prototype.toArray = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ArraySet_toArray</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._array.slice();
  };

  exports.ArraySet = ArraySet;

});

},{<span class="hljs-string">"./util"</span>:<span class="hljs-number">17</span>,<span class="hljs-string">"amdefine"</span>:<span class="hljs-number">2</span>}],<span class="hljs-number">10</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
<span class="hljs-comment">/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 *
 * Based on the Base 64 VLQ implementation in Closure Compiler:
 * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java
 *
 * Copyright 2011 The Closure Compiler Authors. All rights reserved.
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *  * Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above
 *    copyright notice, this list of conditions and the following
 *    disclaimer in the documentation and/or other materials provided
 *    with the distribution.
 *  * Neither the name of Google Inc. nor the names of its
 *    contributors may be used to endorse or promote products derived
 *    from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">var</span> define = <span class="hljs-built_in">require</span>(<span class="hljs-string">'amdefine'</span>)(<span class="hljs-built_in">module</span>, <span class="hljs-built_in">require</span>);
}
define(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, module</span>) </span>{

  <span class="hljs-keyword">var</span> base64 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./base64'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-152">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-152">&#182;</a>
              </div>
              <p>A single base 64 digit can contain 6 bits of data. For the base 64 variable
length quantities we use in the source map spec, the first bit is the sign,
the next four bits are the actual value, and the 6th bit is the
continuation bit. The continuation bit tells us whether there are more
digits in this value following this digit.</p>
<p>  Continuation
  |    Sign
  |    |
  V    V
  101011</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  <span class="hljs-keyword">var</span> VLQ_BASE_SHIFT = <span class="hljs-number">5</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-153">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-153">&#182;</a>
              </div>
              <p>binary: 100000</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">var</span> VLQ_BASE = <span class="hljs-number">1</span> &lt;&lt; VLQ_BASE_SHIFT;</pre></div></div>
            
        </li>
        
        
        <li id="section-154">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-154">&#182;</a>
              </div>
              <p>binary: 011111</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">var</span> VLQ_BASE_MASK = VLQ_BASE - <span class="hljs-number">1</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-155">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-155">&#182;</a>
              </div>
              <p>binary: 100000</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">var</span> VLQ_CONTINUATION_BIT = VLQ_BASE;

  <span class="hljs-comment">/**
   * Converts from a two-complement value to a value where the sign bit is
   * placed in the least significant bit.  For example, as decimals:
   *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)
   *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toVLQSigned</span>(<span class="hljs-params">aValue</span>) </span>{
    <span class="hljs-keyword">return</span> aValue &lt; <span class="hljs-number">0</span>
      ? ((-aValue) &lt;&lt; <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>
      : (aValue &lt;&lt; <span class="hljs-number">1</span>) + <span class="hljs-number">0</span>;
  }

  <span class="hljs-comment">/**
   * Converts to a two-complement value from a value where the sign bit is
   * placed in the least significant bit.  For example, as decimals:
   *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1
   *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fromVLQSigned</span>(<span class="hljs-params">aValue</span>) </span>{
    <span class="hljs-keyword">var</span> isNegative = (aValue &amp; <span class="hljs-number">1</span>) === <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> shifted = aValue &gt;&gt; <span class="hljs-number">1</span>;
    <span class="hljs-keyword">return</span> isNegative
      ? -shifted
      : shifted;
  }

  <span class="hljs-comment">/**
   * Returns the base 64 VLQ encoded value.
   */</span>
  exports.encode = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">base64VLQ_encode</span>(<span class="hljs-params">aValue</span>) </span>{
    <span class="hljs-keyword">var</span> encoded = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> digit;

    <span class="hljs-keyword">var</span> vlq = toVLQSigned(aValue);

    <span class="hljs-keyword">do</span> {
      digit = vlq &amp; VLQ_BASE_MASK;
      vlq &gt;&gt;&gt;= VLQ_BASE_SHIFT;
      <span class="hljs-keyword">if</span> (vlq &gt; <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-156">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-156">&#182;</a>
              </div>
              <p>There are still more digits in this value, so we must make sure the
continuation bit is marked.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        digit |= VLQ_CONTINUATION_BIT;
      }
      encoded += base64.encode(digit);
    } <span class="hljs-keyword">while</span> (vlq &gt; <span class="hljs-number">0</span>);

    <span class="hljs-keyword">return</span> encoded;
  };

  <span class="hljs-comment">/**
   * Decodes the next base 64 VLQ value from the given string and returns the
   * value and the rest of the string via the out parameter.
   */</span>
  exports.decode = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">base64VLQ_decode</span>(<span class="hljs-params">aStr, aOutParam</span>) </span>{
    <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> strLen = aStr.length;
    <span class="hljs-keyword">var</span> result = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> shift = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> continuation, digit;

    <span class="hljs-keyword">do</span> {
      <span class="hljs-keyword">if</span> (i &gt;= strLen) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Expected more digits in base 64 VLQ value."</span>);
      }
      digit = base64.decode(aStr.charAt(i++));
      continuation = !!(digit &amp; VLQ_CONTINUATION_BIT);
      digit &amp;= VLQ_BASE_MASK;
      result = result + (digit &lt;&lt; shift);
      shift += VLQ_BASE_SHIFT;
    } <span class="hljs-keyword">while</span> (continuation);

    aOutParam.value = fromVLQSigned(result);
    aOutParam.rest = aStr.slice(i);
  };

});

},{<span class="hljs-string">"./base64"</span>:<span class="hljs-number">11</span>,<span class="hljs-string">"amdefine"</span>:<span class="hljs-number">2</span>}],<span class="hljs-number">11</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
<span class="hljs-comment">/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">var</span> define = <span class="hljs-built_in">require</span>(<span class="hljs-string">'amdefine'</span>)(<span class="hljs-built_in">module</span>, <span class="hljs-built_in">require</span>);
}
define(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, module</span>) </span>{

  <span class="hljs-keyword">var</span> charToIntMap = {};
  <span class="hljs-keyword">var</span> intToCharMap = {};

  <span class="hljs-string">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'</span>
    .split(<span class="hljs-string">''</span>)
    .forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ch, index</span>) </span>{
      charToIntMap[ch] = index;
      intToCharMap[index] = ch;
    });

  <span class="hljs-comment">/**
   * Encode an integer in the range of 0 to 63 to a single base 64 digit.
   */</span>
  exports.encode = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">base64_encode</span>(<span class="hljs-params">aNumber</span>) </span>{
    <span class="hljs-keyword">if</span> (aNumber <span class="hljs-keyword">in</span> intToCharMap) {
      <span class="hljs-keyword">return</span> intToCharMap[aNumber];
    }
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">"Must be between 0 and 63: "</span> + aNumber);
  };

  <span class="hljs-comment">/**
   * Decode a single base 64 digit to an integer.
   */</span>
  exports.decode = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">base64_decode</span>(<span class="hljs-params">aChar</span>) </span>{
    <span class="hljs-keyword">if</span> (aChar <span class="hljs-keyword">in</span> charToIntMap) {
      <span class="hljs-keyword">return</span> charToIntMap[aChar];
    }
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">"Not a valid base 64 digit: "</span> + aChar);
  };

});

},{<span class="hljs-string">"amdefine"</span>:<span class="hljs-number">2</span>}],<span class="hljs-number">12</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
<span class="hljs-comment">/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">var</span> define = <span class="hljs-built_in">require</span>(<span class="hljs-string">'amdefine'</span>)(<span class="hljs-built_in">module</span>, <span class="hljs-built_in">require</span>);
}
define(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, module</span>) </span>{

  <span class="hljs-comment">/**
   * Recursive implementation of binary search.
   *
   * @param aLow Indices here and lower do not contain the needle.
   * @param aHigh Indices here and higher do not contain the needle.
   * @param aNeedle The element being searched for.
   * @param aHaystack The non-empty array being searched.
   * @param aCompare Function which takes two elements and returns -1, 0, or 1.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">recursiveSearch</span>(<span class="hljs-params">aLow, aHigh, aNeedle, aHaystack, aCompare</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-157">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-157">&#182;</a>
              </div>
              <p>This function terminates when one of the following is true:</p>
<ol>
<li><p>We find the exact element we are looking for.</p>
</li>
<li><p>We did not find the exact element, but we can return the index of
the next closest element that is less than that element.</p>
</li>
<li><p>We did not find the exact element, and there is no next-closest
element which is less than the one we are searching for, so we
return -1.</p>
</li>
</ol>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> mid = <span class="hljs-built_in">Math</span>.floor((aHigh - aLow) / <span class="hljs-number">2</span>) + aLow;
    <span class="hljs-keyword">var</span> cmp = aCompare(aNeedle, aHaystack[mid], <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">if</span> (cmp === <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-158">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-158">&#182;</a>
              </div>
              <p>Found the element we are looking for.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">return</span> mid;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cmp &gt; <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-159">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-159">&#182;</a>
              </div>
              <p>aHaystack[mid] is greater than our needle.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (aHigh - mid &gt; <span class="hljs-number">1</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-160">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-160">&#182;</a>
              </div>
              <p>The element is in the upper half.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">return</span> recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare);
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-161">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-161">&#182;</a>
              </div>
              <p>We did not find an exact match, return the next closest one
(termination case 2).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">return</span> mid;
    }
    <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-162">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-162">&#182;</a>
              </div>
              <p>aHaystack[mid] is less than our needle.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (mid - aLow &gt; <span class="hljs-number">1</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-163">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-163">&#182;</a>
              </div>
              <p>The element is in the lower half.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">return</span> recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare);
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-164">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-164">&#182;</a>
              </div>
              <p>The exact needle element was not found in this haystack. Determine if
we are in termination case (2) or (3) and return the appropriate thing.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">return</span> aLow &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">-1</span> : aLow;
    }
  }

  <span class="hljs-comment">/**
   * This is an implementation of binary search which will always try and return
   * the index of next lowest value checked if there is no exact hit. This is
   * because mappings between original and generated line/col pairs are single
   * points, and there is an implicit region between each of them, so a miss
   * just means that you aren't on the very start of a region.
   *
   * @param aNeedle The element you are looking for.
   * @param aHaystack The array that is being searched.
   * @param aCompare A function which takes the needle and an element in the
   *     array and returns -1, 0, or 1 depending on whether the needle is less
   *     than, equal to, or greater than the element, respectively.
   */</span>
  exports.search = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">search</span>(<span class="hljs-params">aNeedle, aHaystack, aCompare</span>) </span>{
    <span class="hljs-keyword">if</span> (aHaystack.length === <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
    }
    <span class="hljs-keyword">return</span> recursiveSearch(<span class="hljs-number">-1</span>, aHaystack.length, aNeedle, aHaystack, aCompare)
  };

});

},{<span class="hljs-string">"amdefine"</span>:<span class="hljs-number">2</span>}],<span class="hljs-number">13</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
<span class="hljs-comment">/*
 * Copyright 2014 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">var</span> define = <span class="hljs-built_in">require</span>(<span class="hljs-string">'amdefine'</span>)(<span class="hljs-built_in">module</span>, <span class="hljs-built_in">require</span>);
}
define(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, module</span>) </span>{

  <span class="hljs-keyword">var</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./util'</span>);

  <span class="hljs-comment">/**
   * Determine whether mappingB is after mappingA with respect to generated
   * position.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generatedPositionAfter</span>(<span class="hljs-params">mappingA, mappingB</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-165">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-165">&#182;</a>
              </div>
              <p>Optimized for most common case</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> lineA = mappingA.generatedLine;
    <span class="hljs-keyword">var</span> lineB = mappingB.generatedLine;
    <span class="hljs-keyword">var</span> columnA = mappingA.generatedColumn;
    <span class="hljs-keyword">var</span> columnB = mappingB.generatedColumn;
    <span class="hljs-keyword">return</span> lineB &gt; lineA || lineB == lineA &amp;&amp; columnB &gt;= columnA ||
           util.compareByGeneratedPositions(mappingA, mappingB) &lt;= <span class="hljs-number">0</span>;
  }

  <span class="hljs-comment">/**
   * A data structure to provide a sorted view of accumulated mappings in a
   * performance conscious manner. It trades a neglibable overhead in general
   * case for a large speedup in case of mappings being added in order.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MappingList</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>._array = [];
    <span class="hljs-keyword">this</span>._sorted = <span class="hljs-literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-166">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-166">&#182;</a>
              </div>
              <p>Serves as infimum</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">this</span>._last = {generatedLine: <span class="hljs-number">-1</span>, generatedColumn: <span class="hljs-number">0</span>};
  }

  <span class="hljs-comment">/**
   * Iterate through internal items. This method takes the same arguments that
   * `Array.prototype.forEach` takes.
   *
   * <span class="hljs-doctag">NOTE:</span> The order of the mappings is NOT guaranteed.
   */</span>
  MappingList.prototype.unsortedForEach =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MappingList_forEach</span>(<span class="hljs-params">aCallback, aThisArg</span>) </span>{
      <span class="hljs-keyword">this</span>._array.forEach(aCallback, aThisArg);
    };

  <span class="hljs-comment">/**
   * Add the given source mapping.
   *
   * @param Object aMapping
   */</span>
  MappingList.prototype.add = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MappingList_add</span>(<span class="hljs-params">aMapping</span>) </span>{
    <span class="hljs-keyword">var</span> mapping;
    <span class="hljs-keyword">if</span> (generatedPositionAfter(<span class="hljs-keyword">this</span>._last, aMapping)) {
      <span class="hljs-keyword">this</span>._last = aMapping;
      <span class="hljs-keyword">this</span>._array.push(aMapping);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">this</span>._sorted = <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">this</span>._array.push(aMapping);
    }
  };

  <span class="hljs-comment">/**
   * Returns the flat, sorted array of mappings. The mappings are sorted by
   * generated position.
   *
   * WARNING: This method returns internal data without copying, for
   * performance. The return value must NOT be mutated, and should be treated as
   * an immutable borrow. If you want to take ownership, you must make your own
   * copy.
   */</span>
  MappingList.prototype.toArray = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MappingList_toArray</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._sorted) {
      <span class="hljs-keyword">this</span>._array.sort(util.compareByGeneratedPositions);
      <span class="hljs-keyword">this</span>._sorted = <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._array;
  };

  exports.MappingList = MappingList;

});

},{<span class="hljs-string">"./util"</span>:<span class="hljs-number">17</span>,<span class="hljs-string">"amdefine"</span>:<span class="hljs-number">2</span>}],<span class="hljs-number">14</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
<span class="hljs-comment">/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">var</span> define = <span class="hljs-built_in">require</span>(<span class="hljs-string">'amdefine'</span>)(<span class="hljs-built_in">module</span>, <span class="hljs-built_in">require</span>);
}
define(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, module</span>) </span>{

  <span class="hljs-keyword">var</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./util'</span>);
  <span class="hljs-keyword">var</span> binarySearch = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./binary-search'</span>);
  <span class="hljs-keyword">var</span> ArraySet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./array-set'</span>).ArraySet;
  <span class="hljs-keyword">var</span> base64VLQ = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./base64-vlq'</span>);

  <span class="hljs-comment">/**
   * A SourceMapConsumer instance represents a parsed source map which we can
   * query for information about the original file positions by giving it a file
   * position in the generated source.
   *
   * The only parameter is the raw source map (either as a JSON string, or
   * already parsed to an object). According to the spec, source maps have the
   * following attributes:
   *
   *   - version: Which version of the source map spec this map is following.
   *   - sources: An array of URLs to the original source files.
   *   - names: An array of identifiers which can be referrenced by individual mappings.
   *   - sourceRoot: Optional. The URL root from which all sources are relative.
   *   - sourcesContent: Optional. An array of contents of the original source files.
   *   - mappings: A string of base64 VLQs which contain the actual mappings.
   *   - file: Optional. The generated file this source map is associated with.
   *
   * Here is an example source map, taken from the source map spec[0]:
   *
   *     {
   *       version : 3,
   *       file: "out.js",
   *       sourceRoot : "",
   *       sources: ["foo.js", "bar.js"],
   *       names: ["src", "maps", "are", "fun"],
   *       mappings: "AA,AB;;ABCDE;"
   *     }
   *
   * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapConsumer</span>(<span class="hljs-params">aSourceMap</span>) </span>{
    <span class="hljs-keyword">var</span> sourceMap = aSourceMap;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> aSourceMap === <span class="hljs-string">'string'</span>) {
      sourceMap = <span class="hljs-built_in">JSON</span>.parse(aSourceMap.replace(<span class="hljs-regexp">/^\)\]\}'/</span>, <span class="hljs-string">''</span>));
    }

    <span class="hljs-keyword">var</span> version = util.getArg(sourceMap, <span class="hljs-string">'version'</span>);
    <span class="hljs-keyword">var</span> sources = util.getArg(sourceMap, <span class="hljs-string">'sources'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-167">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-167">&#182;</a>
              </div>
              <p>Sass 3.3 leaves out the ‘names’ array, so we deviate from the spec (which
requires the array) to play nice here.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> names = util.getArg(sourceMap, <span class="hljs-string">'names'</span>, []);
    <span class="hljs-keyword">var</span> sourceRoot = util.getArg(sourceMap, <span class="hljs-string">'sourceRoot'</span>, <span class="hljs-literal">null</span>);
    <span class="hljs-keyword">var</span> sourcesContent = util.getArg(sourceMap, <span class="hljs-string">'sourcesContent'</span>, <span class="hljs-literal">null</span>);
    <span class="hljs-keyword">var</span> mappings = util.getArg(sourceMap, <span class="hljs-string">'mappings'</span>);
    <span class="hljs-keyword">var</span> file = util.getArg(sourceMap, <span class="hljs-string">'file'</span>, <span class="hljs-literal">null</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-168">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-168">&#182;</a>
              </div>
              <p>Once again, Sass deviates from the spec and supplies the version as a
string rather than a number, so we use loose equality checking here.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (version != <span class="hljs-keyword">this</span>._version) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unsupported version: '</span> + version);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-169">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-169">&#182;</a>
              </div>
              <p>Some source maps produce relative source paths like “./foo.js” instead of
“foo.js”.  Normalize these first so that future comparisons will succeed.
See bugzil.la/1090768.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    sources = sources.map(util.normalize);</pre></div></div>
            
        </li>
        
        
        <li id="section-170">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-170">&#182;</a>
              </div>
              <p>Pass <code>true</code> below to allow duplicate names and sources. While source maps
are intended to be compressed and deduplicated, the TypeScript compiler
sometimes generates source maps with duplicates in them. See Github issue</p>
<p>#72 and bugzil.la/889492.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">this</span>._names = ArraySet.fromArray(names, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">this</span>._sources = ArraySet.fromArray(sources, <span class="hljs-literal">true</span>);

    <span class="hljs-keyword">this</span>.sourceRoot = sourceRoot;
    <span class="hljs-keyword">this</span>.sourcesContent = sourcesContent;
    <span class="hljs-keyword">this</span>._mappings = mappings;
    <span class="hljs-keyword">this</span>.file = file;
  }

  <span class="hljs-comment">/**
   * Create a SourceMapConsumer from a SourceMapGenerator.
   *
   * @param SourceMapGenerator aSourceMap
   *        The source map that will be consumed.
   * @returns SourceMapConsumer
   */</span>
  SourceMapConsumer.fromSourceMap =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapConsumer_fromSourceMap</span>(<span class="hljs-params">aSourceMap</span>) </span>{
      <span class="hljs-keyword">var</span> smc = <span class="hljs-built_in">Object</span>.create(SourceMapConsumer.prototype);

      smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), <span class="hljs-literal">true</span>);
      smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), <span class="hljs-literal">true</span>);
      smc.sourceRoot = aSourceMap._sourceRoot;
      smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),
                                                              smc.sourceRoot);
      smc.file = aSourceMap._file;

      smc.__generatedMappings = aSourceMap._mappings.toArray().slice();
      smc.__originalMappings = aSourceMap._mappings.toArray().slice()
        .sort(util.compareByOriginalPositions);

      <span class="hljs-keyword">return</span> smc;
    };

  <span class="hljs-comment">/**
   * The version of the source mapping spec that we are consuming.
   */</span>
  SourceMapConsumer.prototype._version = <span class="hljs-number">3</span>;

  <span class="hljs-comment">/**
   * The list of original sources.
   */</span>
  <span class="hljs-built_in">Object</span>.defineProperty(SourceMapConsumer.prototype, <span class="hljs-string">'sources'</span>, {
    get: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._sources.toArray().map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sourceRoot != <span class="hljs-literal">null</span> ? util.join(<span class="hljs-keyword">this</span>.sourceRoot, s) : s;
      }, <span class="hljs-keyword">this</span>);
    }
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-171">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-171">&#182;</a>
              </div>
              <p><code>__generatedMappings</code> and <code>__originalMappings</code> are arrays that hold the
parsed mapping coordinates from the source map’s “mappings” attribute. They
are lazily instantiated, accessed via the <code>_generatedMappings</code> and
<code>_originalMappings</code> getters respectively, and we only parse the mappings
and create these arrays once queried for a source location. We jump through
these hoops because there can be many thousands of mappings, and parsing
them is expensive, so we only want to do it if we must.</p>
<p>Each object in the arrays is of the form:</p>
<pre><code>{
  generatedLine: The line number <span class="hljs-keyword">in</span> the generated code,
  generatedColumn: The column number <span class="hljs-keyword">in</span> the generated code,
  source: The path to the original source file that generated <span class="hljs-keyword">this</span>
          chunk <span class="hljs-keyword">of</span> code,
  originalLine: The line number <span class="hljs-keyword">in</span> the original source that
                corresponds to <span class="hljs-keyword">this</span> chunk <span class="hljs-keyword">of</span> generated code,
  originalColumn: The column number <span class="hljs-keyword">in</span> the original source that
                  corresponds to <span class="hljs-keyword">this</span> chunk <span class="hljs-keyword">of</span> generated code,
  name: The name <span class="hljs-keyword">of</span> the original symbol which generated <span class="hljs-keyword">this</span> chunk <span class="hljs-keyword">of</span>
        code.
}
</code></pre><p>All properties except for <code>generatedLine</code> and <code>generatedColumn</code> can be
<code>null</code>.</p>
<p><code>_generatedMappings</code> is ordered by the generated positions.</p>
<p><code>_originalMappings</code> is ordered by the original positions.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  SourceMapConsumer.prototype.__generatedMappings = <span class="hljs-literal">null</span>;
  <span class="hljs-built_in">Object</span>.defineProperty(SourceMapConsumer.prototype, <span class="hljs-string">'_generatedMappings'</span>, {
    get: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.__generatedMappings) {
        <span class="hljs-keyword">this</span>.__generatedMappings = [];
        <span class="hljs-keyword">this</span>.__originalMappings = [];
        <span class="hljs-keyword">this</span>._parseMappings(<span class="hljs-keyword">this</span>._mappings, <span class="hljs-keyword">this</span>.sourceRoot);
      }

      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.__generatedMappings;
    }
  });

  SourceMapConsumer.prototype.__originalMappings = <span class="hljs-literal">null</span>;
  <span class="hljs-built_in">Object</span>.defineProperty(SourceMapConsumer.prototype, <span class="hljs-string">'_originalMappings'</span>, {
    get: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.__originalMappings) {
        <span class="hljs-keyword">this</span>.__generatedMappings = [];
        <span class="hljs-keyword">this</span>.__originalMappings = [];
        <span class="hljs-keyword">this</span>._parseMappings(<span class="hljs-keyword">this</span>._mappings, <span class="hljs-keyword">this</span>.sourceRoot);
      }

      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.__originalMappings;
    }
  });

  SourceMapConsumer.prototype._nextCharIsMappingSeparator =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapConsumer_nextCharIsMappingSeparator</span>(<span class="hljs-params">aStr</span>) </span>{
      <span class="hljs-keyword">var</span> c = aStr.charAt(<span class="hljs-number">0</span>);
      <span class="hljs-keyword">return</span> c === <span class="hljs-string">";"</span> || c === <span class="hljs-string">","</span>;
    };

  <span class="hljs-comment">/**
   * Parse the mappings in a string in to a data structure which we can easily
   * query (the ordered arrays in the `this.__generatedMappings` and
   * `this.__originalMappings` properties).
   */</span>
  SourceMapConsumer.prototype._parseMappings =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapConsumer_parseMappings</span>(<span class="hljs-params">aStr, aSourceRoot</span>) </span>{
      <span class="hljs-keyword">var</span> generatedLine = <span class="hljs-number">1</span>;
      <span class="hljs-keyword">var</span> previousGeneratedColumn = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">var</span> previousOriginalLine = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">var</span> previousOriginalColumn = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">var</span> previousSource = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">var</span> previousName = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">var</span> str = aStr;
      <span class="hljs-keyword">var</span> temp = {};
      <span class="hljs-keyword">var</span> mapping;

      <span class="hljs-keyword">while</span> (str.length &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (str.charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">';'</span>) {
          generatedLine++;
          str = str.slice(<span class="hljs-number">1</span>);
          previousGeneratedColumn = <span class="hljs-number">0</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (str.charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">','</span>) {
          str = str.slice(<span class="hljs-number">1</span>);
        }
        <span class="hljs-keyword">else</span> {
          mapping = {};
          mapping.generatedLine = generatedLine;</pre></div></div>
            
        </li>
        
        
        <li id="section-172">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-172">&#182;</a>
              </div>
              <p>Generated column.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          base64VLQ.decode(str, temp);
          mapping.generatedColumn = previousGeneratedColumn + temp.value;
          previousGeneratedColumn = mapping.generatedColumn;
          str = temp.rest;

          <span class="hljs-keyword">if</span> (str.length &gt; <span class="hljs-number">0</span> &amp;&amp; !<span class="hljs-keyword">this</span>._nextCharIsMappingSeparator(str)) {</pre></div></div>
            
        </li>
        
        
        <li id="section-173">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-173">&#182;</a>
              </div>
              <p>Original source.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            base64VLQ.decode(str, temp);
            mapping.source = <span class="hljs-keyword">this</span>._sources.at(previousSource + temp.value);
            previousSource += temp.value;
            str = temp.rest;
            <span class="hljs-keyword">if</span> (str.length === <span class="hljs-number">0</span> || <span class="hljs-keyword">this</span>._nextCharIsMappingSeparator(str)) {
              <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Found a source, but no line and column'</span>);
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-174">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-174">&#182;</a>
              </div>
              <p>Original line.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            base64VLQ.decode(str, temp);
            mapping.originalLine = previousOriginalLine + temp.value;
            previousOriginalLine = mapping.originalLine;</pre></div></div>
            
        </li>
        
        
        <li id="section-175">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-175">&#182;</a>
              </div>
              <p>Lines are stored 0-based</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            mapping.originalLine += <span class="hljs-number">1</span>;
            str = temp.rest;
            <span class="hljs-keyword">if</span> (str.length === <span class="hljs-number">0</span> || <span class="hljs-keyword">this</span>._nextCharIsMappingSeparator(str)) {
              <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Found a source and line, but no column'</span>);
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-176">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-176">&#182;</a>
              </div>
              <p>Original column.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            base64VLQ.decode(str, temp);
            mapping.originalColumn = previousOriginalColumn + temp.value;
            previousOriginalColumn = mapping.originalColumn;
            str = temp.rest;

            <span class="hljs-keyword">if</span> (str.length &gt; <span class="hljs-number">0</span> &amp;&amp; !<span class="hljs-keyword">this</span>._nextCharIsMappingSeparator(str)) {</pre></div></div>
            
        </li>
        
        
        <li id="section-177">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-177">&#182;</a>
              </div>
              <p>Original name.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>              base64VLQ.decode(str, temp);
              mapping.name = <span class="hljs-keyword">this</span>._names.at(previousName + temp.value);
              previousName += temp.value;
              str = temp.rest;
            }
          }

          <span class="hljs-keyword">this</span>.__generatedMappings.push(mapping);
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> mapping.originalLine === <span class="hljs-string">'number'</span>) {
            <span class="hljs-keyword">this</span>.__originalMappings.push(mapping);
          }
        }
      }

      <span class="hljs-keyword">this</span>.__generatedMappings.sort(util.compareByGeneratedPositions);
      <span class="hljs-keyword">this</span>.__originalMappings.sort(util.compareByOriginalPositions);
    };

  <span class="hljs-comment">/**
   * Find the mapping that best matches the hypothetical "needle" mapping that
   * we are searching for in the given "haystack" of mappings.
   */</span>
  SourceMapConsumer.prototype._findMapping =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapConsumer_findMapping</span>(<span class="hljs-params">aNeedle, aMappings, aLineName,
                                           aColumnName, aComparator</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-178">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-178">&#182;</a>
              </div>
              <p>To return the position we are searching for, we must first find the
mapping for the given position and then return the opposite position it
points to. Because the mappings are sorted, we can use binary search to
find the best mapping.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="hljs-keyword">if</span> (aNeedle[aLineName] &lt;= <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Line must be greater than or equal to 1, got '</span>
                            + aNeedle[aLineName]);
      }
      <span class="hljs-keyword">if</span> (aNeedle[aColumnName] &lt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Column must be greater than or equal to 0, got '</span>
                            + aNeedle[aColumnName]);
      }

      <span class="hljs-keyword">return</span> binarySearch.search(aNeedle, aMappings, aComparator);
    };

  <span class="hljs-comment">/**
   * Compute the last column for each generated mapping. The last column is
   * inclusive.
   */</span>
  SourceMapConsumer.prototype.computeColumnSpans =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapConsumer_computeColumnSpans</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>; index &lt; <span class="hljs-keyword">this</span>._generatedMappings.length; ++index) {
        <span class="hljs-keyword">var</span> mapping = <span class="hljs-keyword">this</span>._generatedMappings[index];</pre></div></div>
            
        </li>
        
        
        <li id="section-179">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-179">&#182;</a>
              </div>
              <p>Mappings do not contain a field for the last generated columnt. We
can come up with an optimistic estimate, however, by assuming that
mappings are contiguous (i.e. given two consecutive mappings, the
first mapping ends where the second one starts).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (index + <span class="hljs-number">1</span> &lt; <span class="hljs-keyword">this</span>._generatedMappings.length) {
          <span class="hljs-keyword">var</span> nextMapping = <span class="hljs-keyword">this</span>._generatedMappings[index + <span class="hljs-number">1</span>];

          <span class="hljs-keyword">if</span> (mapping.generatedLine === nextMapping.generatedLine) {
            mapping.lastGeneratedColumn = nextMapping.generatedColumn - <span class="hljs-number">1</span>;
            <span class="hljs-keyword">continue</span>;
          }
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-180">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-180">&#182;</a>
              </div>
              <p>The last mapping for each line spans the entire line.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        mapping.lastGeneratedColumn = <span class="hljs-literal">Infinity</span>;
      }
    };

  <span class="hljs-comment">/**
   * Returns the original source, line, and column information for the generated
   * source's line and column positions provided. The only argument is an object
   * with the following properties:
   *
   *   - line: The line number in the generated source.
   *   - column: The column number in the generated source.
   *
   * and an object is returned with the following properties:
   *
   *   - source: The original source file, or null.
   *   - line: The line number in the original source, or null.
   *   - column: The column number in the original source, or null.
   *   - name: The original identifier, or null.
   */</span>
  SourceMapConsumer.prototype.originalPositionFor =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapConsumer_originalPositionFor</span>(<span class="hljs-params">aArgs</span>) </span>{
      <span class="hljs-keyword">var</span> needle = {
        generatedLine: util.getArg(aArgs, <span class="hljs-string">'line'</span>),
        generatedColumn: util.getArg(aArgs, <span class="hljs-string">'column'</span>)
      };

      <span class="hljs-keyword">var</span> index = <span class="hljs-keyword">this</span>._findMapping(needle,
                                    <span class="hljs-keyword">this</span>._generatedMappings,
                                    <span class="hljs-string">"generatedLine"</span>,
                                    <span class="hljs-string">"generatedColumn"</span>,
                                    util.compareByGeneratedPositions);

      <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">var</span> mapping = <span class="hljs-keyword">this</span>._generatedMappings[index];

        <span class="hljs-keyword">if</span> (mapping.generatedLine === needle.generatedLine) {
          <span class="hljs-keyword">var</span> source = util.getArg(mapping, <span class="hljs-string">'source'</span>, <span class="hljs-literal">null</span>);
          <span class="hljs-keyword">if</span> (source != <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-keyword">this</span>.sourceRoot != <span class="hljs-literal">null</span>) {
            source = util.join(<span class="hljs-keyword">this</span>.sourceRoot, source);
          }
          <span class="hljs-keyword">return</span> {
            source: source,
            line: util.getArg(mapping, <span class="hljs-string">'originalLine'</span>, <span class="hljs-literal">null</span>),
            column: util.getArg(mapping, <span class="hljs-string">'originalColumn'</span>, <span class="hljs-literal">null</span>),
            name: util.getArg(mapping, <span class="hljs-string">'name'</span>, <span class="hljs-literal">null</span>)
          };
        }
      }

      <span class="hljs-keyword">return</span> {
        source: <span class="hljs-literal">null</span>,
        line: <span class="hljs-literal">null</span>,
        column: <span class="hljs-literal">null</span>,
        name: <span class="hljs-literal">null</span>
      };
    };

  <span class="hljs-comment">/**
   * Returns the original source content. The only argument is the url of the
   * original source file. Returns null if no original source content is
   * availible.
   */</span>
  SourceMapConsumer.prototype.sourceContentFor =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapConsumer_sourceContentFor</span>(<span class="hljs-params">aSource</span>) </span>{
      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.sourcesContent) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
      }

      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.sourceRoot != <span class="hljs-literal">null</span>) {
        aSource = util.relative(<span class="hljs-keyword">this</span>.sourceRoot, aSource);
      }

      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._sources.has(aSource)) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sourcesContent[<span class="hljs-keyword">this</span>._sources.indexOf(aSource)];
      }

      <span class="hljs-keyword">var</span> url;
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.sourceRoot != <span class="hljs-literal">null</span>
          &amp;&amp; (url = util.urlParse(<span class="hljs-keyword">this</span>.sourceRoot))) {</pre></div></div>
            
        </li>
        
        
        <li id="section-181">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-181">&#182;</a>
              </div>
              <p>XXX: file:// URIs and absolute paths lead to unexpected behavior for
many users. We can help them out when they expect file:// URIs to
behave like it would if they were running a local HTTP server. See
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=885597">https://bugzilla.mozilla.org/show_bug.cgi?id=885597</a>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">var</span> fileUriAbsPath = aSource.replace(<span class="hljs-regexp">/^file:\/\//</span>, <span class="hljs-string">""</span>);
        <span class="hljs-keyword">if</span> (url.scheme == <span class="hljs-string">"file"</span>
            &amp;&amp; <span class="hljs-keyword">this</span>._sources.has(fileUriAbsPath)) {
          <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sourcesContent[<span class="hljs-keyword">this</span>._sources.indexOf(fileUriAbsPath)]
        }

        <span class="hljs-keyword">if</span> ((!url.path || url.path == <span class="hljs-string">"/"</span>)
            &amp;&amp; <span class="hljs-keyword">this</span>._sources.has(<span class="hljs-string">"/"</span> + aSource)) {
          <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sourcesContent[<span class="hljs-keyword">this</span>._sources.indexOf(<span class="hljs-string">"/"</span> + aSource)];
        }
      }

      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'"'</span> + aSource + <span class="hljs-string">'" is not in the SourceMap.'</span>);
    };

  <span class="hljs-comment">/**
   * Returns the generated line and column information for the original source,
   * line, and column positions provided. The only argument is an object with
   * the following properties:
   *
   *   - source: The filename of the original source.
   *   - line: The line number in the original source.
   *   - column: The column number in the original source.
   *
   * and an object is returned with the following properties:
   *
   *   - line: The line number in the generated source, or null.
   *   - column: The column number in the generated source, or null.
   */</span>
  SourceMapConsumer.prototype.generatedPositionFor =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapConsumer_generatedPositionFor</span>(<span class="hljs-params">aArgs</span>) </span>{
      <span class="hljs-keyword">var</span> needle = {
        source: util.getArg(aArgs, <span class="hljs-string">'source'</span>),
        originalLine: util.getArg(aArgs, <span class="hljs-string">'line'</span>),
        originalColumn: util.getArg(aArgs, <span class="hljs-string">'column'</span>)
      };

      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.sourceRoot != <span class="hljs-literal">null</span>) {
        needle.source = util.relative(<span class="hljs-keyword">this</span>.sourceRoot, needle.source);
      }

      <span class="hljs-keyword">var</span> index = <span class="hljs-keyword">this</span>._findMapping(needle,
                                    <span class="hljs-keyword">this</span>._originalMappings,
                                    <span class="hljs-string">"originalLine"</span>,
                                    <span class="hljs-string">"originalColumn"</span>,
                                    util.compareByOriginalPositions);

      <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">var</span> mapping = <span class="hljs-keyword">this</span>._originalMappings[index];

        <span class="hljs-keyword">return</span> {
          line: util.getArg(mapping, <span class="hljs-string">'generatedLine'</span>, <span class="hljs-literal">null</span>),
          column: util.getArg(mapping, <span class="hljs-string">'generatedColumn'</span>, <span class="hljs-literal">null</span>),
          lastColumn: util.getArg(mapping, <span class="hljs-string">'lastGeneratedColumn'</span>, <span class="hljs-literal">null</span>)
        };
      }

      <span class="hljs-keyword">return</span> {
        line: <span class="hljs-literal">null</span>,
        column: <span class="hljs-literal">null</span>,
        lastColumn: <span class="hljs-literal">null</span>
      };
    };

  <span class="hljs-comment">/**
   * Returns all generated line and column information for the original source
   * and line provided. The only argument is an object with the following
   * properties:
   *
   *   - source: The filename of the original source.
   *   - line: The line number in the original source.
   *
   * and an array of objects is returned, each with the following properties:
   *
   *   - line: The line number in the generated source, or null.
   *   - column: The column number in the generated source, or null.
   */</span>
  SourceMapConsumer.prototype.allGeneratedPositionsFor =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapConsumer_allGeneratedPositionsFor</span>(<span class="hljs-params">aArgs</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-182">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-182">&#182;</a>
              </div>
              <p>When there is no exact match, SourceMapConsumer.prototype._findMapping
returns the index of the closest mapping less than the needle. By
setting needle.originalColumn to Infinity, we thus find the last
mapping for the given line, provided such a mapping exists.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">var</span> needle = {
        source: util.getArg(aArgs, <span class="hljs-string">'source'</span>),
        originalLine: util.getArg(aArgs, <span class="hljs-string">'line'</span>),
        originalColumn: <span class="hljs-literal">Infinity</span>
      };

      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.sourceRoot != <span class="hljs-literal">null</span>) {
        needle.source = util.relative(<span class="hljs-keyword">this</span>.sourceRoot, needle.source);
      }

      <span class="hljs-keyword">var</span> mappings = [];

      <span class="hljs-keyword">var</span> index = <span class="hljs-keyword">this</span>._findMapping(needle,
                                    <span class="hljs-keyword">this</span>._originalMappings,
                                    <span class="hljs-string">"originalLine"</span>,
                                    <span class="hljs-string">"originalColumn"</span>,
                                    util.compareByOriginalPositions);
      <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">var</span> mapping = <span class="hljs-keyword">this</span>._originalMappings[index];

        <span class="hljs-keyword">while</span> (mapping &amp;&amp; mapping.originalLine === needle.originalLine) {
          mappings.push({
            line: util.getArg(mapping, <span class="hljs-string">'generatedLine'</span>, <span class="hljs-literal">null</span>),
            column: util.getArg(mapping, <span class="hljs-string">'generatedColumn'</span>, <span class="hljs-literal">null</span>),
            lastColumn: util.getArg(mapping, <span class="hljs-string">'lastGeneratedColumn'</span>, <span class="hljs-literal">null</span>)
          });

          mapping = <span class="hljs-keyword">this</span>._originalMappings[--index];
        }
      }

      <span class="hljs-keyword">return</span> mappings.reverse();
    };

  SourceMapConsumer.GENERATED_ORDER = <span class="hljs-number">1</span>;
  SourceMapConsumer.ORIGINAL_ORDER = <span class="hljs-number">2</span>;

  <span class="hljs-comment">/**
   * Iterate over each mapping between an original source/line/column and a
   * generated line/column in this source map.
   *
   * @param Function aCallback
   *        The function that is called with each mapping.
   * @param Object aContext
   *        Optional. If specified, this object will be the value of `this` every
   *        time that `aCallback` is called.
   * @param aOrder
   *        Either `SourceMapConsumer.GENERATED_ORDER` or
   *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to
   *        iterate over the mappings sorted by the generated file's line/column
   *        order or the original's source/line/column order, respectively. Defaults to
   *        `SourceMapConsumer.GENERATED_ORDER`.
   */</span>
  SourceMapConsumer.prototype.eachMapping =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapConsumer_eachMapping</span>(<span class="hljs-params">aCallback, aContext, aOrder</span>) </span>{
      <span class="hljs-keyword">var</span> context = aContext || <span class="hljs-literal">null</span>;
      <span class="hljs-keyword">var</span> order = aOrder || SourceMapConsumer.GENERATED_ORDER;

      <span class="hljs-keyword">var</span> mappings;
      <span class="hljs-keyword">switch</span> (order) {
      <span class="hljs-keyword">case</span> SourceMapConsumer.GENERATED_ORDER:
        mappings = <span class="hljs-keyword">this</span>._generatedMappings;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> SourceMapConsumer.ORIGINAL_ORDER:
        mappings = <span class="hljs-keyword">this</span>._originalMappings;
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">default</span>:
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Unknown order of iteration."</span>);
      }

      <span class="hljs-keyword">var</span> sourceRoot = <span class="hljs-keyword">this</span>.sourceRoot;
      mappings.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">mapping</span>) </span>{
        <span class="hljs-keyword">var</span> source = mapping.source;
        <span class="hljs-keyword">if</span> (source != <span class="hljs-literal">null</span> &amp;&amp; sourceRoot != <span class="hljs-literal">null</span>) {
          source = util.join(sourceRoot, source);
        }
        <span class="hljs-keyword">return</span> {
          source: source,
          generatedLine: mapping.generatedLine,
          generatedColumn: mapping.generatedColumn,
          originalLine: mapping.originalLine,
          originalColumn: mapping.originalColumn,
          name: mapping.name
        };
      }).forEach(aCallback, context);
    };

  exports.SourceMapConsumer = SourceMapConsumer;

});

},{<span class="hljs-string">"./array-set"</span>:<span class="hljs-number">9</span>,<span class="hljs-string">"./base64-vlq"</span>:<span class="hljs-number">10</span>,<span class="hljs-string">"./binary-search"</span>:<span class="hljs-number">12</span>,<span class="hljs-string">"./util"</span>:<span class="hljs-number">17</span>,<span class="hljs-string">"amdefine"</span>:<span class="hljs-number">2</span>}],<span class="hljs-number">15</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
<span class="hljs-comment">/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">var</span> define = <span class="hljs-built_in">require</span>(<span class="hljs-string">'amdefine'</span>)(<span class="hljs-built_in">module</span>, <span class="hljs-built_in">require</span>);
}
define(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, module</span>) </span>{

  <span class="hljs-keyword">var</span> base64VLQ = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./base64-vlq'</span>);
  <span class="hljs-keyword">var</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./util'</span>);
  <span class="hljs-keyword">var</span> ArraySet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./array-set'</span>).ArraySet;
  <span class="hljs-keyword">var</span> MappingList = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./mapping-list'</span>).MappingList;

  <span class="hljs-comment">/**
   * An instance of the SourceMapGenerator represents a source map which is
   * being built incrementally. You may pass an object with the following
   * properties:
   *
   *   - file: The filename of the generated source.
   *   - sourceRoot: A root for all relative URLs in this source map.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapGenerator</span>(<span class="hljs-params">aArgs</span>) </span>{
    <span class="hljs-keyword">if</span> (!aArgs) {
      aArgs = {};
    }
    <span class="hljs-keyword">this</span>._file = util.getArg(aArgs, <span class="hljs-string">'file'</span>, <span class="hljs-literal">null</span>);
    <span class="hljs-keyword">this</span>._sourceRoot = util.getArg(aArgs, <span class="hljs-string">'sourceRoot'</span>, <span class="hljs-literal">null</span>);
    <span class="hljs-keyword">this</span>._skipValidation = util.getArg(aArgs, <span class="hljs-string">'skipValidation'</span>, <span class="hljs-literal">false</span>);
    <span class="hljs-keyword">this</span>._sources = <span class="hljs-keyword">new</span> ArraySet();
    <span class="hljs-keyword">this</span>._names = <span class="hljs-keyword">new</span> ArraySet();
    <span class="hljs-keyword">this</span>._mappings = <span class="hljs-keyword">new</span> MappingList();
    <span class="hljs-keyword">this</span>._sourcesContents = <span class="hljs-literal">null</span>;
  }

  SourceMapGenerator.prototype._version = <span class="hljs-number">3</span>;

  <span class="hljs-comment">/**
   * Creates a new SourceMapGenerator based on a SourceMapConsumer
   *
   * @param aSourceMapConsumer The SourceMap.
   */</span>
  SourceMapGenerator.fromSourceMap =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapGenerator_fromSourceMap</span>(<span class="hljs-params">aSourceMapConsumer</span>) </span>{
      <span class="hljs-keyword">var</span> sourceRoot = aSourceMapConsumer.sourceRoot;
      <span class="hljs-keyword">var</span> generator = <span class="hljs-keyword">new</span> SourceMapGenerator({
        file: aSourceMapConsumer.file,
        sourceRoot: sourceRoot
      });
      aSourceMapConsumer.eachMapping(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">mapping</span>) </span>{
        <span class="hljs-keyword">var</span> newMapping = {
          generated: {
            line: mapping.generatedLine,
            column: mapping.generatedColumn
          }
        };

        <span class="hljs-keyword">if</span> (mapping.source != <span class="hljs-literal">null</span>) {
          newMapping.source = mapping.source;
          <span class="hljs-keyword">if</span> (sourceRoot != <span class="hljs-literal">null</span>) {
            newMapping.source = util.relative(sourceRoot, newMapping.source);
          }

          newMapping.original = {
            line: mapping.originalLine,
            column: mapping.originalColumn
          };

          <span class="hljs-keyword">if</span> (mapping.name != <span class="hljs-literal">null</span>) {
            newMapping.name = mapping.name;
          }
        }

        generator.addMapping(newMapping);
      });
      aSourceMapConsumer.sources.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">sourceFile</span>) </span>{
        <span class="hljs-keyword">var</span> content = aSourceMapConsumer.sourceContentFor(sourceFile);
        <span class="hljs-keyword">if</span> (content != <span class="hljs-literal">null</span>) {
          generator.setSourceContent(sourceFile, content);
        }
      });
      <span class="hljs-keyword">return</span> generator;
    };

  <span class="hljs-comment">/**
   * Add a single mapping from original source line and column to the generated
   * source's line and column for this source map being created. The mapping
   * object should have the following properties:
   *
   *   - generated: An object with the generated line and column positions.
   *   - original: An object with the original line and column positions.
   *   - source: The original source file (relative to the sourceRoot).
   *   - name: An optional original token name for this mapping.
   */</span>
  SourceMapGenerator.prototype.addMapping =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapGenerator_addMapping</span>(<span class="hljs-params">aArgs</span>) </span>{
      <span class="hljs-keyword">var</span> generated = util.getArg(aArgs, <span class="hljs-string">'generated'</span>);
      <span class="hljs-keyword">var</span> original = util.getArg(aArgs, <span class="hljs-string">'original'</span>, <span class="hljs-literal">null</span>);
      <span class="hljs-keyword">var</span> source = util.getArg(aArgs, <span class="hljs-string">'source'</span>, <span class="hljs-literal">null</span>);
      <span class="hljs-keyword">var</span> name = util.getArg(aArgs, <span class="hljs-string">'name'</span>, <span class="hljs-literal">null</span>);

      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._skipValidation) {
        <span class="hljs-keyword">this</span>._validateMapping(generated, original, source, name);
      }

      <span class="hljs-keyword">if</span> (source != <span class="hljs-literal">null</span> &amp;&amp; !<span class="hljs-keyword">this</span>._sources.has(source)) {
        <span class="hljs-keyword">this</span>._sources.add(source);
      }

      <span class="hljs-keyword">if</span> (name != <span class="hljs-literal">null</span> &amp;&amp; !<span class="hljs-keyword">this</span>._names.has(name)) {
        <span class="hljs-keyword">this</span>._names.add(name);
      }

      <span class="hljs-keyword">this</span>._mappings.add({
        generatedLine: generated.line,
        generatedColumn: generated.column,
        originalLine: original != <span class="hljs-literal">null</span> &amp;&amp; original.line,
        originalColumn: original != <span class="hljs-literal">null</span> &amp;&amp; original.column,
        source: source,
        name: name
      });
    };

  <span class="hljs-comment">/**
   * Set the source content for a source file.
   */</span>
  SourceMapGenerator.prototype.setSourceContent =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapGenerator_setSourceContent</span>(<span class="hljs-params">aSourceFile, aSourceContent</span>) </span>{
      <span class="hljs-keyword">var</span> source = aSourceFile;
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._sourceRoot != <span class="hljs-literal">null</span>) {
        source = util.relative(<span class="hljs-keyword">this</span>._sourceRoot, source);
      }

      <span class="hljs-keyword">if</span> (aSourceContent != <span class="hljs-literal">null</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-183">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-183">&#182;</a>
              </div>
              <p>Add the source content to the _sourcesContents map.
Create a new _sourcesContents map if the property is null.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._sourcesContents) {
          <span class="hljs-keyword">this</span>._sourcesContents = {};
        }
        <span class="hljs-keyword">this</span>._sourcesContents[util.toSetString(source)] = aSourceContent;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._sourcesContents) {</pre></div></div>
            
        </li>
        
        
        <li id="section-184">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-184">&#182;</a>
              </div>
              <p>Remove the source file from the _sourcesContents map.
If the _sourcesContents map is empty, set the property to null.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._sourcesContents[util.toSetString(source)];
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.keys(<span class="hljs-keyword">this</span>._sourcesContents).length === <span class="hljs-number">0</span>) {
          <span class="hljs-keyword">this</span>._sourcesContents = <span class="hljs-literal">null</span>;
        }
      }
    };

  <span class="hljs-comment">/**
   * Applies the mappings of a sub-source-map for a specific source file to the
   * source map being generated. Each mapping to the supplied source file is
   * rewritten using the supplied source map. Note: The resolution for the
   * resulting mappings is the minimium of this map and the supplied map.
   *
   * @param aSourceMapConsumer The source map to be applied.
   * @param aSourceFile Optional. The filename of the source file.
   *        If omitted, SourceMapConsumer's file property will be used.
   * @param aSourceMapPath Optional. The dirname of the path to the source map
   *        to be applied. If relative, it is relative to the SourceMapConsumer.
   *        This parameter is needed when the two source maps aren't in the same
   *        directory, and the source map to be applied contains relative source
   *        paths. If so, those relative source paths need to be rewritten
   *        relative to the SourceMapGenerator.
   */</span>
  SourceMapGenerator.prototype.applySourceMap =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapGenerator_applySourceMap</span>(<span class="hljs-params">aSourceMapConsumer, aSourceFile, aSourceMapPath</span>) </span>{
      <span class="hljs-keyword">var</span> sourceFile = aSourceFile;</pre></div></div>
            
        </li>
        
        
        <li id="section-185">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-185">&#182;</a>
              </div>
              <p>If aSourceFile is omitted, we will use the file property of the SourceMap</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (aSourceFile == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">if</span> (aSourceMapConsumer.file == <span class="hljs-literal">null</span>) {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(
            <span class="hljs-string">'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, '</span> +
            <span class="hljs-string">'or the source map\'s "file" property. Both were omitted.'</span>
          );
        }
        sourceFile = aSourceMapConsumer.file;
      }
      <span class="hljs-keyword">var</span> sourceRoot = <span class="hljs-keyword">this</span>._sourceRoot;</pre></div></div>
            
        </li>
        
        
        <li id="section-186">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-186">&#182;</a>
              </div>
              <p>Make “sourceFile” relative if an absolute Url is passed.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (sourceRoot != <span class="hljs-literal">null</span>) {
        sourceFile = util.relative(sourceRoot, sourceFile);
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-187">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-187">&#182;</a>
              </div>
              <p>Applying the SourceMap can add and remove items from the sources and
the names array.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">var</span> newSources = <span class="hljs-keyword">new</span> ArraySet();
      <span class="hljs-keyword">var</span> newNames = <span class="hljs-keyword">new</span> ArraySet();</pre></div></div>
            
        </li>
        
        
        <li id="section-188">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-188">&#182;</a>
              </div>
              <p>Find mappings for the “sourceFile”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">this</span>._mappings.unsortedForEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">mapping</span>) </span>{
        <span class="hljs-keyword">if</span> (mapping.source === sourceFile &amp;&amp; mapping.originalLine != <span class="hljs-literal">null</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-189">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-189">&#182;</a>
              </div>
              <p>Check if it can be mapped by the source map, then update the mapping.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          <span class="hljs-keyword">var</span> original = aSourceMapConsumer.originalPositionFor({
            line: mapping.originalLine,
            column: mapping.originalColumn
          });
          <span class="hljs-keyword">if</span> (original.source != <span class="hljs-literal">null</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-190">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-190">&#182;</a>
              </div>
              <p>Copy mapping</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            mapping.source = original.source;
            <span class="hljs-keyword">if</span> (aSourceMapPath != <span class="hljs-literal">null</span>) {
              mapping.source = util.join(aSourceMapPath, mapping.source)
            }
            <span class="hljs-keyword">if</span> (sourceRoot != <span class="hljs-literal">null</span>) {
              mapping.source = util.relative(sourceRoot, mapping.source);
            }
            mapping.originalLine = original.line;
            mapping.originalColumn = original.column;
            <span class="hljs-keyword">if</span> (original.name != <span class="hljs-literal">null</span>) {
              mapping.name = original.name;
            }
          }
        }

        <span class="hljs-keyword">var</span> source = mapping.source;
        <span class="hljs-keyword">if</span> (source != <span class="hljs-literal">null</span> &amp;&amp; !newSources.has(source)) {
          newSources.add(source);
        }

        <span class="hljs-keyword">var</span> name = mapping.name;
        <span class="hljs-keyword">if</span> (name != <span class="hljs-literal">null</span> &amp;&amp; !newNames.has(name)) {
          newNames.add(name);
        }

      }, <span class="hljs-keyword">this</span>);
      <span class="hljs-keyword">this</span>._sources = newSources;
      <span class="hljs-keyword">this</span>._names = newNames;</pre></div></div>
            
        </li>
        
        
        <li id="section-191">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-191">&#182;</a>
              </div>
              <p>Copy sourcesContents of applied map.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      aSourceMapConsumer.sources.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">sourceFile</span>) </span>{
        <span class="hljs-keyword">var</span> content = aSourceMapConsumer.sourceContentFor(sourceFile);
        <span class="hljs-keyword">if</span> (content != <span class="hljs-literal">null</span>) {
          <span class="hljs-keyword">if</span> (aSourceMapPath != <span class="hljs-literal">null</span>) {
            sourceFile = util.join(aSourceMapPath, sourceFile);
          }
          <span class="hljs-keyword">if</span> (sourceRoot != <span class="hljs-literal">null</span>) {
            sourceFile = util.relative(sourceRoot, sourceFile);
          }
          <span class="hljs-keyword">this</span>.setSourceContent(sourceFile, content);
        }
      }, <span class="hljs-keyword">this</span>);
    };

  <span class="hljs-comment">/**
   * A mapping can have one of the three levels of data:
   *
   *   1. Just the generated position.
   *   2. The Generated position, original position, and original source.
   *   3. Generated and original position, original source, as well as a name
   *      token.
   *
   * To maintain consistency, we validate that any new mapping being added falls
   * in to one of these categories.
   */</span>
  SourceMapGenerator.prototype._validateMapping =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapGenerator_validateMapping</span>(<span class="hljs-params">aGenerated, aOriginal, aSource,
                                                aName</span>) </span>{
      <span class="hljs-keyword">if</span> (aGenerated &amp;&amp; <span class="hljs-string">'line'</span> <span class="hljs-keyword">in</span> aGenerated &amp;&amp; <span class="hljs-string">'column'</span> <span class="hljs-keyword">in</span> aGenerated
          &amp;&amp; aGenerated.line &gt; <span class="hljs-number">0</span> &amp;&amp; aGenerated.column &gt;= <span class="hljs-number">0</span>
          &amp;&amp; !aOriginal &amp;&amp; !aSource &amp;&amp; !aName) {</pre></div></div>
            
        </li>
        
        
        <li id="section-192">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-192">&#182;</a>
              </div>
              <p>Case 1.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">return</span>;
      }
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (aGenerated &amp;&amp; <span class="hljs-string">'line'</span> <span class="hljs-keyword">in</span> aGenerated &amp;&amp; <span class="hljs-string">'column'</span> <span class="hljs-keyword">in</span> aGenerated
               &amp;&amp; aOriginal &amp;&amp; <span class="hljs-string">'line'</span> <span class="hljs-keyword">in</span> aOriginal &amp;&amp; <span class="hljs-string">'column'</span> <span class="hljs-keyword">in</span> aOriginal
               &amp;&amp; aGenerated.line &gt; <span class="hljs-number">0</span> &amp;&amp; aGenerated.column &gt;= <span class="hljs-number">0</span>
               &amp;&amp; aOriginal.line &gt; <span class="hljs-number">0</span> &amp;&amp; aOriginal.column &gt;= <span class="hljs-number">0</span>
               &amp;&amp; aSource) {</pre></div></div>
            
        </li>
        
        
        <li id="section-193">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-193">&#182;</a>
              </div>
              <p>Cases 2 and 3.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">return</span>;
      }
      <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Invalid mapping: '</span> + <span class="hljs-built_in">JSON</span>.stringify({
          generated: aGenerated,
          source: aSource,
          original: aOriginal,
          name: aName
        }));
      }
    };

  <span class="hljs-comment">/**
   * Serialize the accumulated mappings in to the stream of base 64 VLQs
   * specified by the source map format.
   */</span>
  SourceMapGenerator.prototype._serializeMappings =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapGenerator_serializeMappings</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">var</span> previousGeneratedColumn = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">var</span> previousGeneratedLine = <span class="hljs-number">1</span>;
      <span class="hljs-keyword">var</span> previousOriginalColumn = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">var</span> previousOriginalLine = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">var</span> previousName = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">var</span> previousSource = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">var</span> result = <span class="hljs-string">''</span>;
      <span class="hljs-keyword">var</span> mapping;

      <span class="hljs-keyword">var</span> mappings = <span class="hljs-keyword">this</span>._mappings.toArray();

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = mappings.length; i &lt; len; i++) {
        mapping = mappings[i];

        <span class="hljs-keyword">if</span> (mapping.generatedLine !== previousGeneratedLine) {
          previousGeneratedColumn = <span class="hljs-number">0</span>;
          <span class="hljs-keyword">while</span> (mapping.generatedLine !== previousGeneratedLine) {
            result += <span class="hljs-string">';'</span>;
            previousGeneratedLine++;
          }
        }
        <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">if</span> (!util.compareByGeneratedPositions(mapping, mappings[i - <span class="hljs-number">1</span>])) {
              <span class="hljs-keyword">continue</span>;
            }
            result += <span class="hljs-string">','</span>;
          }
        }

        result += base64VLQ.encode(mapping.generatedColumn
                                   - previousGeneratedColumn);
        previousGeneratedColumn = mapping.generatedColumn;

        <span class="hljs-keyword">if</span> (mapping.source != <span class="hljs-literal">null</span>) {
          result += base64VLQ.encode(<span class="hljs-keyword">this</span>._sources.indexOf(mapping.source)
                                     - previousSource);
          previousSource = <span class="hljs-keyword">this</span>._sources.indexOf(mapping.source);</pre></div></div>
            
        </li>
        
        
        <li id="section-194">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-194">&#182;</a>
              </div>
              <p>lines are stored 0-based in SourceMap spec version 3</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          result += base64VLQ.encode(mapping.originalLine - <span class="hljs-number">1</span>
                                     - previousOriginalLine);
          previousOriginalLine = mapping.originalLine - <span class="hljs-number">1</span>;

          result += base64VLQ.encode(mapping.originalColumn
                                     - previousOriginalColumn);
          previousOriginalColumn = mapping.originalColumn;

          <span class="hljs-keyword">if</span> (mapping.name != <span class="hljs-literal">null</span>) {
            result += base64VLQ.encode(<span class="hljs-keyword">this</span>._names.indexOf(mapping.name)
                                       - previousName);
            previousName = <span class="hljs-keyword">this</span>._names.indexOf(mapping.name);
          }
        }
      }

      <span class="hljs-keyword">return</span> result;
    };

  SourceMapGenerator.prototype._generateSourcesContent =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapGenerator_generateSourcesContent</span>(<span class="hljs-params">aSources, aSourceRoot</span>) </span>{
      <span class="hljs-keyword">return</span> aSources.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">source</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._sourcesContents) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">if</span> (aSourceRoot != <span class="hljs-literal">null</span>) {
          source = util.relative(aSourceRoot, source);
        }
        <span class="hljs-keyword">var</span> key = util.toSetString(source);
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(<span class="hljs-keyword">this</span>._sourcesContents,
                                                    key)
          ? <span class="hljs-keyword">this</span>._sourcesContents[key]
          : <span class="hljs-literal">null</span>;
      }, <span class="hljs-keyword">this</span>);
    };

  <span class="hljs-comment">/**
   * Externalize the source map.
   */</span>
  SourceMapGenerator.prototype.toJSON =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapGenerator_toJSON</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">var</span> map = {
        version: <span class="hljs-keyword">this</span>._version,
        sources: <span class="hljs-keyword">this</span>._sources.toArray(),
        names: <span class="hljs-keyword">this</span>._names.toArray(),
        mappings: <span class="hljs-keyword">this</span>._serializeMappings()
      };
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._file != <span class="hljs-literal">null</span>) {
        map.file = <span class="hljs-keyword">this</span>._file;
      }
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._sourceRoot != <span class="hljs-literal">null</span>) {
        map.sourceRoot = <span class="hljs-keyword">this</span>._sourceRoot;
      }
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._sourcesContents) {
        map.sourcesContent = <span class="hljs-keyword">this</span>._generateSourcesContent(map.sources, map.sourceRoot);
      }

      <span class="hljs-keyword">return</span> map;
    };

  <span class="hljs-comment">/**
   * Render the source map being generated to a string.
   */</span>
  SourceMapGenerator.prototype.toString =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceMapGenerator_toString</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>);
    };

  exports.SourceMapGenerator = SourceMapGenerator;

});

},{<span class="hljs-string">"./array-set"</span>:<span class="hljs-number">9</span>,<span class="hljs-string">"./base64-vlq"</span>:<span class="hljs-number">10</span>,<span class="hljs-string">"./mapping-list"</span>:<span class="hljs-number">13</span>,<span class="hljs-string">"./util"</span>:<span class="hljs-number">17</span>,<span class="hljs-string">"amdefine"</span>:<span class="hljs-number">2</span>}],<span class="hljs-number">16</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
<span class="hljs-comment">/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">var</span> define = <span class="hljs-built_in">require</span>(<span class="hljs-string">'amdefine'</span>)(<span class="hljs-built_in">module</span>, <span class="hljs-built_in">require</span>);
}
define(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, module</span>) </span>{

  <span class="hljs-keyword">var</span> SourceMapGenerator = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./source-map-generator'</span>).SourceMapGenerator;
  <span class="hljs-keyword">var</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./util'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-195">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-195">&#182;</a>
              </div>
              <p>Matches a Windows-style <code>\r\n</code> newline or a <code>\n</code> newline used by all other
operating systems these days (capturing the result).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">var</span> REGEX_NEWLINE = <span class="hljs-regexp">/(\r?\n)/</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-196">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-196">&#182;</a>
              </div>
              <p>Newline character code for charCodeAt() comparisons</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">var</span> NEWLINE_CODE = <span class="hljs-number">10</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-197">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-197">&#182;</a>
              </div>
              <p>Private symbol for identifying <code>SourceNode</code>s when multiple versions of
the source-map library are loaded. This MUST NOT CHANGE across
versions!</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">var</span> isSourceNode = <span class="hljs-string">"$$$isSourceNode$$$"</span>;

  <span class="hljs-comment">/**
   * SourceNodes provide a way to abstract over interpolating/concatenating
   * snippets of generated JavaScript source code while maintaining the line and
   * column information associated with the original source code.
   *
   * @param aLine The original line number.
   * @param aColumn The original column number.
   * @param aSource The original source's filename.
   * @param aChunks Optional. An array of strings which are snippets of
   *        generated JS, or other SourceNodes.
   * @param aName The original identifier.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceNode</span>(<span class="hljs-params">aLine, aColumn, aSource, aChunks, aName</span>) </span>{
    <span class="hljs-keyword">this</span>.children = [];
    <span class="hljs-keyword">this</span>.sourceContents = {};
    <span class="hljs-keyword">this</span>.line = aLine == <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : aLine;
    <span class="hljs-keyword">this</span>.column = aColumn == <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : aColumn;
    <span class="hljs-keyword">this</span>.source = aSource == <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : aSource;
    <span class="hljs-keyword">this</span>.name = aName == <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : aName;
    <span class="hljs-keyword">this</span>[isSourceNode] = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (aChunks != <span class="hljs-literal">null</span>) <span class="hljs-keyword">this</span>.add(aChunks);
  }

  <span class="hljs-comment">/**
   * Creates a SourceNode from generated code and a SourceMapConsumer.
   *
   * @param aGeneratedCode The generated code
   * @param aSourceMapConsumer The SourceMap for the generated code
   * @param aRelativePath Optional. The path that relative sources in the
   *        SourceMapConsumer should be relative to.
   */</span>
  SourceNode.fromStringWithSourceMap =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceNode_fromStringWithSourceMap</span>(<span class="hljs-params">aGeneratedCode, aSourceMapConsumer, aRelativePath</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-198">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-198">&#182;</a>
              </div>
              <p>The SourceNode we want to fill with the generated code
and the SourceMap</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">var</span> node = <span class="hljs-keyword">new</span> SourceNode();</pre></div></div>
            
        </li>
        
        
        <li id="section-199">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-199">&#182;</a>
              </div>
              <p>All even indices of this array are one line of the generated code,
while all odd indices are the newlines between two adjacent lines
(since <code>REGEX_NEWLINE</code> captures its match).
Processed fragments are removed from this array, by calling <code>shiftNextLine</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">var</span> remainingLines = aGeneratedCode.split(REGEX_NEWLINE);
      <span class="hljs-keyword">var</span> shiftNextLine = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> lineContents = remainingLines.shift();</pre></div></div>
            
        </li>
        
        
        <li id="section-200">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-200">&#182;</a>
              </div>
              <p>The last line of a file might not have a newline.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">var</span> newLine = remainingLines.shift() || <span class="hljs-string">""</span>;
        <span class="hljs-keyword">return</span> lineContents + newLine;
      };</pre></div></div>
            
        </li>
        
        
        <li id="section-201">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-201">&#182;</a>
              </div>
              <p>We need to remember the position of “remainingLines”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">var</span> lastGeneratedLine = <span class="hljs-number">1</span>, lastGeneratedColumn = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-202">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-202">&#182;</a>
              </div>
              <p>The generate SourceNodes we need a code range.
To extract it current and last mapping is used.
Here we store the last mapping.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">var</span> lastMapping = <span class="hljs-literal">null</span>;

      aSourceMapConsumer.eachMapping(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">mapping</span>) </span>{
        <span class="hljs-keyword">if</span> (lastMapping !== <span class="hljs-literal">null</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-203">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-203">&#182;</a>
              </div>
              <p>We add the code from “lastMapping” to “mapping”:
First check if there is a new line in between.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          <span class="hljs-keyword">if</span> (lastGeneratedLine &lt; mapping.generatedLine) {
            <span class="hljs-keyword">var</span> code = <span class="hljs-string">""</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-204">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-204">&#182;</a>
              </div>
              <p>Associate first line with “lastMapping”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            addMappingWithCode(lastMapping, shiftNextLine());
            lastGeneratedLine++;
            lastGeneratedColumn = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-205">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-205">&#182;</a>
              </div>
              <p>The remaining code is added without mapping</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-206">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-206">&#182;</a>
              </div>
              <p>There is no new line in between.
Associate the code between “lastGeneratedColumn” and
“mapping.generatedColumn” with “lastMapping”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">var</span> nextLine = remainingLines[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">var</span> code = nextLine.substr(<span class="hljs-number">0</span>, mapping.generatedColumn -
                                          lastGeneratedColumn);
            remainingLines[<span class="hljs-number">0</span>] = nextLine.substr(mapping.generatedColumn -
                                                lastGeneratedColumn);
            lastGeneratedColumn = mapping.generatedColumn;
            addMappingWithCode(lastMapping, code);</pre></div></div>
            
        </li>
        
        
        <li id="section-207">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-207">&#182;</a>
              </div>
              <p>No more remaining code, continue</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            lastMapping = mapping;
            <span class="hljs-keyword">return</span>;
          }
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-208">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-208">&#182;</a>
              </div>
              <p>We add the generated code until the first mapping
to the SourceNode without any mapping.
Each line is added as separate string.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">while</span> (lastGeneratedLine &lt; mapping.generatedLine) {
          node.add(shiftNextLine());
          lastGeneratedLine++;
        }
        <span class="hljs-keyword">if</span> (lastGeneratedColumn &lt; mapping.generatedColumn) {
          <span class="hljs-keyword">var</span> nextLine = remainingLines[<span class="hljs-number">0</span>];
          node.add(nextLine.substr(<span class="hljs-number">0</span>, mapping.generatedColumn));
          remainingLines[<span class="hljs-number">0</span>] = nextLine.substr(mapping.generatedColumn);
          lastGeneratedColumn = mapping.generatedColumn;
        }
        lastMapping = mapping;
      }, <span class="hljs-keyword">this</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-209">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-209">&#182;</a>
              </div>
              <p>We have processed all mappings.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (remainingLines.length &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (lastMapping) {</pre></div></div>
            
        </li>
        
        
        <li id="section-210">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-210">&#182;</a>
              </div>
              <p>Associate the remaining code in the current line with “lastMapping”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          addMappingWithCode(lastMapping, shiftNextLine());
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-211">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-211">&#182;</a>
              </div>
              <p>and add the remaining lines without any mapping</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        node.add(remainingLines.join(<span class="hljs-string">""</span>));
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-212">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-212">&#182;</a>
              </div>
              <p>Copy sourcesContent into SourceNode</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      aSourceMapConsumer.sources.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">sourceFile</span>) </span>{
        <span class="hljs-keyword">var</span> content = aSourceMapConsumer.sourceContentFor(sourceFile);
        <span class="hljs-keyword">if</span> (content != <span class="hljs-literal">null</span>) {
          <span class="hljs-keyword">if</span> (aRelativePath != <span class="hljs-literal">null</span>) {
            sourceFile = util.join(aRelativePath, sourceFile);
          }
          node.setSourceContent(sourceFile, content);
        }
      });

      <span class="hljs-keyword">return</span> node;

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addMappingWithCode</span>(<span class="hljs-params">mapping, code</span>) </span>{
        <span class="hljs-keyword">if</span> (mapping === <span class="hljs-literal">null</span> || mapping.source === <span class="hljs-literal">undefined</span>) {
          node.add(code);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">var</span> source = aRelativePath
            ? util.join(aRelativePath, mapping.source)
            : mapping.source;
          node.add(<span class="hljs-keyword">new</span> SourceNode(mapping.originalLine,
                                  mapping.originalColumn,
                                  source,
                                  code,
                                  mapping.name));
        }
      }
    };

  <span class="hljs-comment">/**
   * Add a chunk of generated JS to this source node.
   *
   * @param aChunk A string snippet of generated JS code, another instance of
   *        SourceNode, or an array where each member is one of those things.
   */</span>
  SourceNode.prototype.add = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceNode_add</span>(<span class="hljs-params">aChunk</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(aChunk)) {
      aChunk.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">chunk</span>) </span>{
        <span class="hljs-keyword">this</span>.add(chunk);
      }, <span class="hljs-keyword">this</span>);
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (aChunk[isSourceNode] || <span class="hljs-keyword">typeof</span> aChunk === <span class="hljs-string">"string"</span>) {
      <span class="hljs-keyword">if</span> (aChunk) {
        <span class="hljs-keyword">this</span>.children.push(aChunk);
      }
    }
    <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(
        <span class="hljs-string">"Expected a SourceNode, string, or an array of SourceNodes and strings. Got "</span> + aChunk
      );
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  };

  <span class="hljs-comment">/**
   * Add a chunk of generated JS to the beginning of this source node.
   *
   * @param aChunk A string snippet of generated JS code, another instance of
   *        SourceNode, or an array where each member is one of those things.
   */</span>
  SourceNode.prototype.prepend = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceNode_prepend</span>(<span class="hljs-params">aChunk</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(aChunk)) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = aChunk.length<span class="hljs-number">-1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
        <span class="hljs-keyword">this</span>.prepend(aChunk[i]);
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (aChunk[isSourceNode] || <span class="hljs-keyword">typeof</span> aChunk === <span class="hljs-string">"string"</span>) {
      <span class="hljs-keyword">this</span>.children.unshift(aChunk);
    }
    <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(
        <span class="hljs-string">"Expected a SourceNode, string, or an array of SourceNodes and strings. Got "</span> + aChunk
      );
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  };

  <span class="hljs-comment">/**
   * Walk over the tree of JS snippets in this node and its children. The
   * walking function is called once for each snippet of JS and is passed that
   * snippet and the its original associated source's line/column location.
   *
   * @param aFn The traversal function.
   */</span>
  SourceNode.prototype.walk = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceNode_walk</span>(<span class="hljs-params">aFn</span>) </span>{
    <span class="hljs-keyword">var</span> chunk;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = <span class="hljs-keyword">this</span>.children.length; i &lt; len; i++) {
      chunk = <span class="hljs-keyword">this</span>.children[i];
      <span class="hljs-keyword">if</span> (chunk[isSourceNode]) {
        chunk.walk(aFn);
      }
      <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (chunk !== <span class="hljs-string">''</span>) {
          aFn(chunk, { source: <span class="hljs-keyword">this</span>.source,
                       line: <span class="hljs-keyword">this</span>.line,
                       column: <span class="hljs-keyword">this</span>.column,
                       name: <span class="hljs-keyword">this</span>.name });
        }
      }
    }
  };

  <span class="hljs-comment">/**
   * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between
   * each of `this.children`.
   *
   * @param aSep The separator.
   */</span>
  SourceNode.prototype.join = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceNode_join</span>(<span class="hljs-params">aSep</span>) </span>{
    <span class="hljs-keyword">var</span> newChildren;
    <span class="hljs-keyword">var</span> i;
    <span class="hljs-keyword">var</span> len = <span class="hljs-keyword">this</span>.children.length;
    <span class="hljs-keyword">if</span> (len &gt; <span class="hljs-number">0</span>) {
      newChildren = [];
      <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; len<span class="hljs-number">-1</span>; i++) {
        newChildren.push(<span class="hljs-keyword">this</span>.children[i]);
        newChildren.push(aSep);
      }
      newChildren.push(<span class="hljs-keyword">this</span>.children[i]);
      <span class="hljs-keyword">this</span>.children = newChildren;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  };

  <span class="hljs-comment">/**
   * Call String.prototype.replace on the very right-most source snippet. Useful
   * for trimming whitespace from the end of a source node, etc.
   *
   * @param aPattern The pattern to replace.
   * @param aReplacement The thing to replace the pattern with.
   */</span>
  SourceNode.prototype.replaceRight = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceNode_replaceRight</span>(<span class="hljs-params">aPattern, aReplacement</span>) </span>{
    <span class="hljs-keyword">var</span> lastChild = <span class="hljs-keyword">this</span>.children[<span class="hljs-keyword">this</span>.children.length - <span class="hljs-number">1</span>];
    <span class="hljs-keyword">if</span> (lastChild[isSourceNode]) {
      lastChild.replaceRight(aPattern, aReplacement);
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> lastChild === <span class="hljs-string">'string'</span>) {
      <span class="hljs-keyword">this</span>.children[<span class="hljs-keyword">this</span>.children.length - <span class="hljs-number">1</span>] = lastChild.replace(aPattern, aReplacement);
    }
    <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">this</span>.children.push(<span class="hljs-string">''</span>.replace(aPattern, aReplacement));
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  };

  <span class="hljs-comment">/**
   * Set the source content for a source file. This will be added to the SourceMapGenerator
   * in the sourcesContent field.
   *
   * @param aSourceFile The filename of the source file
   * @param aSourceContent The content of the source file
   */</span>
  SourceNode.prototype.setSourceContent =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceNode_setSourceContent</span>(<span class="hljs-params">aSourceFile, aSourceContent</span>) </span>{
      <span class="hljs-keyword">this</span>.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;
    };

  <span class="hljs-comment">/**
   * Walk over the tree of SourceNodes. The walking function is called for each
   * source file content and is passed the filename and source content.
   *
   * @param aFn The traversal function.
   */</span>
  SourceNode.prototype.walkSourceContents =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceNode_walkSourceContents</span>(<span class="hljs-params">aFn</span>) </span>{
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = <span class="hljs-keyword">this</span>.children.length; i &lt; len; i++) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.children[i][isSourceNode]) {
          <span class="hljs-keyword">this</span>.children[i].walkSourceContents(aFn);
        }
      }

      <span class="hljs-keyword">var</span> sources = <span class="hljs-built_in">Object</span>.keys(<span class="hljs-keyword">this</span>.sourceContents);
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = sources.length; i &lt; len; i++) {
        aFn(util.fromSetString(sources[i]), <span class="hljs-keyword">this</span>.sourceContents[sources[i]]);
      }
    };

  <span class="hljs-comment">/**
   * Return the string representation of this source node. Walks over the tree
   * and concatenates all the various snippets together to one string.
   */</span>
  SourceNode.prototype.toString = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceNode_toString</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> str = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">this</span>.walk(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">chunk</span>) </span>{
      str += chunk;
    });
    <span class="hljs-keyword">return</span> str;
  };

  <span class="hljs-comment">/**
   * Returns the string representation of this source node along with a source
   * map.
   */</span>
  SourceNode.prototype.toStringWithSourceMap = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SourceNode_toStringWithSourceMap</span>(<span class="hljs-params">aArgs</span>) </span>{
    <span class="hljs-keyword">var</span> generated = {
      code: <span class="hljs-string">""</span>,
      line: <span class="hljs-number">1</span>,
      column: <span class="hljs-number">0</span>
    };
    <span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> SourceMapGenerator(aArgs);
    <span class="hljs-keyword">var</span> sourceMappingActive = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> lastOriginalSource = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> lastOriginalLine = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> lastOriginalColumn = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> lastOriginalName = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">this</span>.walk(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">chunk, original</span>) </span>{
      generated.code += chunk;
      <span class="hljs-keyword">if</span> (original.source !== <span class="hljs-literal">null</span>
          &amp;&amp; original.line !== <span class="hljs-literal">null</span>
          &amp;&amp; original.column !== <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">if</span>(lastOriginalSource !== original.source
           || lastOriginalLine !== original.line
           || lastOriginalColumn !== original.column
           || lastOriginalName !== original.name) {
          map.addMapping({
            source: original.source,
            original: {
              line: original.line,
              column: original.column
            },
            generated: {
              line: generated.line,
              column: generated.column
            },
            name: original.name
          });
        }
        lastOriginalSource = original.source;
        lastOriginalLine = original.line;
        lastOriginalColumn = original.column;
        lastOriginalName = original.name;
        sourceMappingActive = <span class="hljs-literal">true</span>;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sourceMappingActive) {
        map.addMapping({
          generated: {
            line: generated.line,
            column: generated.column
          }
        });
        lastOriginalSource = <span class="hljs-literal">null</span>;
        sourceMappingActive = <span class="hljs-literal">false</span>;
      }
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> idx = <span class="hljs-number">0</span>, length = chunk.length; idx &lt; length; idx++) {
        <span class="hljs-keyword">if</span> (chunk.charCodeAt(idx) === NEWLINE_CODE) {
          generated.line++;
          generated.column = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-213">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-213">&#182;</a>
              </div>
              <p>Mappings end at eol</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          <span class="hljs-keyword">if</span> (idx + <span class="hljs-number">1</span> === length) {
            lastOriginalSource = <span class="hljs-literal">null</span>;
            sourceMappingActive = <span class="hljs-literal">false</span>;
          } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sourceMappingActive) {
            map.addMapping({
              source: original.source,
              original: {
                line: original.line,
                column: original.column
              },
              generated: {
                line: generated.line,
                column: generated.column
              },
              name: original.name
            });
          }
        } <span class="hljs-keyword">else</span> {
          generated.column++;
        }
      }
    });
    <span class="hljs-keyword">this</span>.walkSourceContents(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">sourceFile, sourceContent</span>) </span>{
      map.setSourceContent(sourceFile, sourceContent);
    });

    <span class="hljs-keyword">return</span> { code: generated.code, map: map };
  };

  exports.SourceNode = SourceNode;

});

},{<span class="hljs-string">"./source-map-generator"</span>:<span class="hljs-number">15</span>,<span class="hljs-string">"./util"</span>:<span class="hljs-number">17</span>,<span class="hljs-string">"amdefine"</span>:<span class="hljs-number">2</span>}],<span class="hljs-number">17</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/* -*- Mode: js; js-indent-level: 2; -*- */</span>
<span class="hljs-comment">/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define !== <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">var</span> define = <span class="hljs-built_in">require</span>(<span class="hljs-string">'amdefine'</span>)(<span class="hljs-built_in">module</span>, <span class="hljs-built_in">require</span>);
}
define(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, module</span>) </span>{

  <span class="hljs-comment">/**
   * This is a helper function for getting values from parameter/options
   * objects.
   *
   * @param args The object we are extracting values from
   * @param name The name of the property we are getting.
   * @param defaultValue An optional value to return if the property is missing
   * from the object. If this is not specified and the property is missing, an
   * error will be thrown.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getArg</span>(<span class="hljs-params">aArgs, aName, aDefaultValue</span>) </span>{
    <span class="hljs-keyword">if</span> (aName <span class="hljs-keyword">in</span> aArgs) {
      <span class="hljs-keyword">return</span> aArgs[aName];
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">3</span>) {
      <span class="hljs-keyword">return</span> aDefaultValue;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'"'</span> + aName + <span class="hljs-string">'" is a required argument.'</span>);
    }
  }
  exports.getArg = getArg;

  <span class="hljs-keyword">var</span> urlRegexp = <span class="hljs-regexp">/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/</span>;
  <span class="hljs-keyword">var</span> dataUrlRegexp = <span class="hljs-regexp">/^data:.+\,.+$/</span>;

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">urlParse</span>(<span class="hljs-params">aUrl</span>) </span>{
    <span class="hljs-keyword">var</span> match = aUrl.match(urlRegexp);
    <span class="hljs-keyword">if</span> (!match) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">return</span> {
      scheme: match[<span class="hljs-number">1</span>],
      auth: match[<span class="hljs-number">2</span>],
      host: match[<span class="hljs-number">3</span>],
      port: match[<span class="hljs-number">4</span>],
      path: match[<span class="hljs-number">5</span>]
    };
  }
  exports.urlParse = urlParse;

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">urlGenerate</span>(<span class="hljs-params">aParsedUrl</span>) </span>{
    <span class="hljs-keyword">var</span> url = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">if</span> (aParsedUrl.scheme) {
      url += aParsedUrl.scheme + <span class="hljs-string">':'</span>;
    }
    url += <span class="hljs-string">'//'</span>;
    <span class="hljs-keyword">if</span> (aParsedUrl.auth) {
      url += aParsedUrl.auth + <span class="hljs-string">'@'</span>;
    }
    <span class="hljs-keyword">if</span> (aParsedUrl.host) {
      url += aParsedUrl.host;
    }
    <span class="hljs-keyword">if</span> (aParsedUrl.port) {
      url += <span class="hljs-string">":"</span> + aParsedUrl.port
    }
    <span class="hljs-keyword">if</span> (aParsedUrl.path) {
      url += aParsedUrl.path;
    }
    <span class="hljs-keyword">return</span> url;
  }
  exports.urlGenerate = urlGenerate;

  <span class="hljs-comment">/**
   * Normalizes a path, or the path portion of a URL:
   *
   * - Replaces consequtive slashes with one slash.
   * - Removes unnecessary '.' parts.
   * - Removes unnecessary '&lt;dir&gt;/..' parts.
   *
   * Based on code in the Node.js 'path' core module.
   *
   * @param aPath The path or url to normalize.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalize</span>(<span class="hljs-params">aPath</span>) </span>{
    <span class="hljs-keyword">var</span> path = aPath;
    <span class="hljs-keyword">var</span> url = urlParse(aPath);
    <span class="hljs-keyword">if</span> (url) {
      <span class="hljs-keyword">if</span> (!url.path) {
        <span class="hljs-keyword">return</span> aPath;
      }
      path = url.path;
    }
    <span class="hljs-keyword">var</span> isAbsolute = (path.charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'/'</span>);

    <span class="hljs-keyword">var</span> parts = path.split(<span class="hljs-regexp">/\/+/</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> part, up = <span class="hljs-number">0</span>, i = parts.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
      part = parts[i];
      <span class="hljs-keyword">if</span> (part === <span class="hljs-string">'.'</span>) {
        parts.splice(i, <span class="hljs-number">1</span>);
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (part === <span class="hljs-string">'..'</span>) {
        up++;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (up &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (part === <span class="hljs-string">''</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-214">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-214">&#182;</a>
              </div>
              <p>The first part is blank if the path is absolute. Trying to go
above the root is a no-op. Therefore we can remove all ‘..’ parts
directly after the root.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          parts.splice(i + <span class="hljs-number">1</span>, up);
          up = <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
          parts.splice(i, <span class="hljs-number">2</span>);
          up--;
        }
      }
    }
    path = parts.join(<span class="hljs-string">'/'</span>);

    <span class="hljs-keyword">if</span> (path === <span class="hljs-string">''</span>) {
      path = isAbsolute ? <span class="hljs-string">'/'</span> : <span class="hljs-string">'.'</span>;
    }

    <span class="hljs-keyword">if</span> (url) {
      url.path = path;
      <span class="hljs-keyword">return</span> urlGenerate(url);
    }
    <span class="hljs-keyword">return</span> path;
  }
  exports.normalize = normalize;

  <span class="hljs-comment">/**
   * Joins two paths/URLs.
   *
   * @param aRoot The root path or URL.
   * @param aPath The path or URL to be joined with the root.
   *
   * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a
   *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended
   *   first.
   * - Otherwise aPath is a path. If aRoot is a URL, then its path portion
   *   is updated with the result and aRoot is returned. Otherwise the result
   *   is returned.
   *   - If aPath is absolute, the result is aPath.
   *   - Otherwise the two paths are joined with a slash.
   * - Joining for example 'http://' and 'www.example.com' is also supported.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">join</span>(<span class="hljs-params">aRoot, aPath</span>) </span>{
    <span class="hljs-keyword">if</span> (aRoot === <span class="hljs-string">""</span>) {
      aRoot = <span class="hljs-string">"."</span>;
    }
    <span class="hljs-keyword">if</span> (aPath === <span class="hljs-string">""</span>) {
      aPath = <span class="hljs-string">"."</span>;
    }
    <span class="hljs-keyword">var</span> aPathUrl = urlParse(aPath);
    <span class="hljs-keyword">var</span> aRootUrl = urlParse(aRoot);
    <span class="hljs-keyword">if</span> (aRootUrl) {
      aRoot = aRootUrl.path || <span class="hljs-string">'/'</span>;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-215">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-215">&#182;</a>
              </div>
              <p><code>join(foo, &#39;//www.example.org&#39;)</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (aPathUrl &amp;&amp; !aPathUrl.scheme) {
      <span class="hljs-keyword">if</span> (aRootUrl) {
        aPathUrl.scheme = aRootUrl.scheme;
      }
      <span class="hljs-keyword">return</span> urlGenerate(aPathUrl);
    }

    <span class="hljs-keyword">if</span> (aPathUrl || aPath.match(dataUrlRegexp)) {
      <span class="hljs-keyword">return</span> aPath;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-216">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-216">&#182;</a>
              </div>
              <p><code>join(&#39;http://&#39;, &#39;www.example.com&#39;)</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (aRootUrl &amp;&amp; !aRootUrl.host &amp;&amp; !aRootUrl.path) {
      aRootUrl.host = aPath;
      <span class="hljs-keyword">return</span> urlGenerate(aRootUrl);
    }

    <span class="hljs-keyword">var</span> joined = aPath.charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'/'</span>
      ? aPath
      : normalize(aRoot.replace(<span class="hljs-regexp">/\/+$/</span>, <span class="hljs-string">''</span>) + <span class="hljs-string">'/'</span> + aPath);

    <span class="hljs-keyword">if</span> (aRootUrl) {
      aRootUrl.path = joined;
      <span class="hljs-keyword">return</span> urlGenerate(aRootUrl);
    }
    <span class="hljs-keyword">return</span> joined;
  }
  exports.join = join;

  <span class="hljs-comment">/**
   * Make a path relative to a URL or another path.
   *
   * @param aRoot The root path or URL.
   * @param aPath The path or URL to be made relative to aRoot.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">relative</span>(<span class="hljs-params">aRoot, aPath</span>) </span>{
    <span class="hljs-keyword">if</span> (aRoot === <span class="hljs-string">""</span>) {
      aRoot = <span class="hljs-string">"."</span>;
    }

    aRoot = aRoot.replace(<span class="hljs-regexp">/\/$/</span>, <span class="hljs-string">''</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-217">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-217">&#182;</a>
              </div>
              <p>XXX: It is possible to remove this block, and the tests still pass!</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> url = urlParse(aRoot);
    <span class="hljs-keyword">if</span> (aPath.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">"/"</span> &amp;&amp; url &amp;&amp; url.path == <span class="hljs-string">"/"</span>) {
      <span class="hljs-keyword">return</span> aPath.slice(<span class="hljs-number">1</span>);
    }

    <span class="hljs-keyword">return</span> aPath.indexOf(aRoot + <span class="hljs-string">'/'</span>) === <span class="hljs-number">0</span>
      ? aPath.substr(aRoot.length + <span class="hljs-number">1</span>)
      : aPath;
  }
  exports.relative = relative;

  <span class="hljs-comment">/**
   * Because behavior goes wacky when you set `__proto__` on objects, we
   * have to prefix all the strings in our set with an arbitrary character.
   *
   * See https://github.com/mozilla/source-map/pull/31 and
   * https://github.com/mozilla/source-map/issues/30
   *
   * @param String aStr
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toSetString</span>(<span class="hljs-params">aStr</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">'$'</span> + aStr;
  }
  exports.toSetString = toSetString;

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fromSetString</span>(<span class="hljs-params">aStr</span>) </span>{
    <span class="hljs-keyword">return</span> aStr.substr(<span class="hljs-number">1</span>);
  }
  exports.fromSetString = fromSetString;

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">strcmp</span>(<span class="hljs-params">aStr1, aStr2</span>) </span>{
    <span class="hljs-keyword">var</span> s1 = aStr1 || <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> s2 = aStr2 || <span class="hljs-string">""</span>;
    <span class="hljs-keyword">return</span> (s1 &gt; s2) - (s1 &lt; s2);
  }

  <span class="hljs-comment">/**
   * Comparator between two mappings where the original positions are compared.
   *
   * Optionally pass in `true` as `onlyCompareGenerated` to consider two
   * mappings with the same original source/line/column, but different generated
   * line and column the same. Useful when searching for a mapping with a
   * stubbed out mapping.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareByOriginalPositions</span>(<span class="hljs-params">mappingA, mappingB, onlyCompareOriginal</span>) </span>{
    <span class="hljs-keyword">var</span> cmp;

    cmp = strcmp(mappingA.source, mappingB.source);
    <span class="hljs-keyword">if</span> (cmp) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.originalLine - mappingB.originalLine;
    <span class="hljs-keyword">if</span> (cmp) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.originalColumn - mappingB.originalColumn;
    <span class="hljs-keyword">if</span> (cmp || onlyCompareOriginal) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = strcmp(mappingA.name, mappingB.name);
    <span class="hljs-keyword">if</span> (cmp) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.generatedLine - mappingB.generatedLine;
    <span class="hljs-keyword">if</span> (cmp) {
      <span class="hljs-keyword">return</span> cmp;
    }

    <span class="hljs-keyword">return</span> mappingA.generatedColumn - mappingB.generatedColumn;
  };
  exports.compareByOriginalPositions = compareByOriginalPositions;

  <span class="hljs-comment">/**
   * Comparator between two mappings where the generated positions are
   * compared.
   *
   * Optionally pass in `true` as `onlyCompareGenerated` to consider two
   * mappings with the same generated line and column, but different
   * source/name/original line and column the same. Useful when searching for a
   * mapping with a stubbed out mapping.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareByGeneratedPositions</span>(<span class="hljs-params">mappingA, mappingB, onlyCompareGenerated</span>) </span>{
    <span class="hljs-keyword">var</span> cmp;

    cmp = mappingA.generatedLine - mappingB.generatedLine;
    <span class="hljs-keyword">if</span> (cmp) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.generatedColumn - mappingB.generatedColumn;
    <span class="hljs-keyword">if</span> (cmp || onlyCompareGenerated) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = strcmp(mappingA.source, mappingB.source);
    <span class="hljs-keyword">if</span> (cmp) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.originalLine - mappingB.originalLine;
    <span class="hljs-keyword">if</span> (cmp) {
      <span class="hljs-keyword">return</span> cmp;
    }

    cmp = mappingA.originalColumn - mappingB.originalColumn;
    <span class="hljs-keyword">if</span> (cmp) {
      <span class="hljs-keyword">return</span> cmp;
    }

    <span class="hljs-keyword">return</span> strcmp(mappingA.name, mappingB.name);
  };
  exports.compareByGeneratedPositions = compareByGeneratedPositions;

});

},{<span class="hljs-string">"amdefine"</span>:<span class="hljs-number">2</span>}],<span class="hljs-number">18</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-built_in">module</span>.exports={
  <span class="hljs-string">"_args"</span>: [
    [
      <span class="hljs-string">"escodegen@1.3.x"</span>,
      <span class="hljs-string">"/Users/micaelaestabillo/Google_Drive/COMP_SCI_4TB3/pureJS_Project/node_modules/jison"</span>
    ]
  ],
  <span class="hljs-string">"_from"</span>: <span class="hljs-string">"escodegen@&gt;=1.3.0 &lt;1.4.0"</span>,
  <span class="hljs-string">"_id"</span>: <span class="hljs-string">"escodegen@1.3.3"</span>,
  <span class="hljs-string">"_inCache"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">"_installable"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">"_location"</span>: <span class="hljs-string">"/escodegen"</span>,
  <span class="hljs-string">"_npmUser"</span>: {
    <span class="hljs-string">"email"</span>: <span class="hljs-string">"utatane.tea@gmail.com"</span>,
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"constellation"</span>
  },
  <span class="hljs-string">"_npmVersion"</span>: <span class="hljs-string">"1.4.3"</span>,
  <span class="hljs-string">"_phantomChildren"</span>: {},
  <span class="hljs-string">"_requested"</span>: {
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"escodegen"</span>,
    <span class="hljs-string">"raw"</span>: <span class="hljs-string">"escodegen@1.3.x"</span>,
    <span class="hljs-string">"rawSpec"</span>: <span class="hljs-string">"1.3.x"</span>,
    <span class="hljs-string">"scope"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-string">"spec"</span>: <span class="hljs-string">"&gt;=1.3.0 &lt;1.4.0"</span>,
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"range"</span>
  },
  <span class="hljs-string">"_requiredBy"</span>: [
    <span class="hljs-string">"/jison"</span>
  ],
  <span class="hljs-string">"_resolved"</span>: <span class="hljs-string">"https://registry.npmjs.org/escodegen/-/escodegen-1.3.3.tgz"</span>,
  <span class="hljs-string">"_shasum"</span>: <span class="hljs-string">"f024016f5a88e046fd12005055e939802e6c5f23"</span>,
  <span class="hljs-string">"_shrinkwrap"</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-string">"_spec"</span>: <span class="hljs-string">"escodegen@1.3.x"</span>,
  <span class="hljs-string">"_where"</span>: <span class="hljs-string">"/Users/micaelaestabillo/Google_Drive/COMP_SCI_4TB3/pureJS_Project/node_modules/jison"</span>,
  <span class="hljs-string">"bin"</span>: {
    <span class="hljs-string">"escodegen"</span>: <span class="hljs-string">"./bin/escodegen.js"</span>,
    <span class="hljs-string">"esgenerate"</span>: <span class="hljs-string">"./bin/esgenerate.js"</span>
  },
  <span class="hljs-string">"bugs"</span>: {
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://github.com/Constellation/escodegen/issues"</span>
  },
  <span class="hljs-string">"dependencies"</span>: {
    <span class="hljs-string">"esprima"</span>: <span class="hljs-string">"~1.1.1"</span>,
    <span class="hljs-string">"estraverse"</span>: <span class="hljs-string">"~1.5.0"</span>,
    <span class="hljs-string">"esutils"</span>: <span class="hljs-string">"~1.0.0"</span>,
    <span class="hljs-string">"source-map"</span>: <span class="hljs-string">"~0.1.33"</span>
  },
  <span class="hljs-string">"description"</span>: <span class="hljs-string">"ECMAScript code generator"</span>,
  <span class="hljs-string">"devDependencies"</span>: {
    <span class="hljs-string">"bluebird"</span>: <span class="hljs-string">"~1.2.0"</span>,
    <span class="hljs-string">"bower-registry-client"</span>: <span class="hljs-string">"~0.2.0"</span>,
    <span class="hljs-string">"chai"</span>: <span class="hljs-string">"~1.7.2"</span>,
    <span class="hljs-string">"commonjs-everywhere"</span>: <span class="hljs-string">"~0.9.6"</span>,
    <span class="hljs-string">"esprima-moz"</span>: <span class="hljs-string">"*"</span>,
    <span class="hljs-string">"gulp"</span>: <span class="hljs-string">"~3.5.0"</span>,
    <span class="hljs-string">"gulp-eslint"</span>: <span class="hljs-string">"~0.1.2"</span>,
    <span class="hljs-string">"gulp-jshint"</span>: <span class="hljs-string">"~1.4.0"</span>,
    <span class="hljs-string">"gulp-mocha"</span>: <span class="hljs-string">"~0.4.1"</span>,
    <span class="hljs-string">"jshint-stylish"</span>: <span class="hljs-string">"~0.1.5"</span>,
    <span class="hljs-string">"semver"</span>: <span class="hljs-string">"*"</span>
  },
  <span class="hljs-string">"directories"</span>: {},
  <span class="hljs-string">"dist"</span>: {
    <span class="hljs-string">"shasum"</span>: <span class="hljs-string">"f024016f5a88e046fd12005055e939802e6c5f23"</span>,
    <span class="hljs-string">"tarball"</span>: <span class="hljs-string">"http://registry.npmjs.org/escodegen/-/escodegen-1.3.3.tgz"</span>
  },
  <span class="hljs-string">"engines"</span>: {
    <span class="hljs-string">"node"</span>: <span class="hljs-string">"&gt;=0.10.0"</span>
  },
  <span class="hljs-string">"homepage"</span>: <span class="hljs-string">"http://github.com/Constellation/escodegen"</span>,
  <span class="hljs-string">"licenses"</span>: [
    {
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"BSD"</span>,
      <span class="hljs-string">"url"</span>: <span class="hljs-string">"http://github.com/Constellation/escodegen/raw/master/LICENSE.BSD"</span>
    }
  ],
  <span class="hljs-string">"main"</span>: <span class="hljs-string">"escodegen.js"</span>,
  <span class="hljs-string">"maintainers"</span>: [
    {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"constellation"</span>,
      <span class="hljs-string">"email"</span>: <span class="hljs-string">"utatane.tea@gmail.com"</span>
    }
  ],
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"escodegen"</span>,
  <span class="hljs-string">"optionalDependencies"</span>: {
    <span class="hljs-string">"source-map"</span>: <span class="hljs-string">"~0.1.33"</span>
  },
  <span class="hljs-string">"readme"</span>: <span class="hljs-string">"ERROR: No README data found!"</span>,
  <span class="hljs-string">"repository"</span>: {
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"git"</span>,
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"git+ssh://git@github.com/Constellation/escodegen.git"</span>
  },
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"build"</span>: <span class="hljs-string">"cjsify -a path: tools/entry-point.js &gt; escodegen.browser.js"</span>,
    <span class="hljs-string">"build-min"</span>: <span class="hljs-string">"cjsify -ma path: tools/entry-point.js &gt; escodegen.browser.min.js"</span>,
    <span class="hljs-string">"lint"</span>: <span class="hljs-string">"gulp lint"</span>,
    <span class="hljs-string">"release"</span>: <span class="hljs-string">"node tools/release.js"</span>,
    <span class="hljs-string">"test"</span>: <span class="hljs-string">"gulp travis"</span>,
    <span class="hljs-string">"unit-test"</span>: <span class="hljs-string">"gulp test"</span>
  },
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.3.3"</span>
}

},{}],<span class="hljs-number">19</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/*
  Copyright (C) 2013 Ariya Hidayat &lt;ariya.hidayat@gmail.com&gt;
  Copyright (C) 2013 Thaddee Tyl &lt;thaddee.tyl@gmail.com&gt;
  Copyright (C) 2013 Mathias Bynens &lt;mathias@qiwi.be&gt;
  Copyright (C) 2012 Ariya Hidayat &lt;ariya.hidayat@gmail.com&gt;
  Copyright (C) 2012 Mathias Bynens &lt;mathias@qiwi.be&gt;
  Copyright (C) 2012 Joost-Wim Boekesteijn &lt;joost-wim@boekesteijn.nl&gt;
  Copyright (C) 2012 Kris Kowal &lt;kris.kowal@cixar.com&gt;
  Copyright (C) 2012 Yusuke Suzuki &lt;utatane.tea@gmail.com&gt;
  Copyright (C) 2012 Arpad Borsos &lt;arpad.borsos@googlemail.com&gt;
  Copyright (C) 2011 Ariya Hidayat &lt;ariya.hidayat@gmail.com&gt;

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL &lt;COPYRIGHT HOLDER&gt; BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/</span>

<span class="hljs-comment">/*jslint bitwise:true plusplus:true */</span>
<span class="hljs-comment">/*global esprima:true, define:true, exports:true, window: true,
createLocationMarker: true,
throwError: true, generateStatement: true, peek: true,
parseAssignmentExpression: true, parseBlock: true, parseExpression: true,
parseFunctionDeclaration: true, parseFunctionExpression: true,
parseFunctionSourceElements: true, parseVariableIdentifier: true,
parseLeftHandSideExpression: true,
parseUnaryExpression: true,
parseStatement: true, parseSourceElement: true */</span>

(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">root, factory</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-218">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-218">&#182;</a>
              </div>
              <p>Universal Module Definition (UMD) to support AMD, CommonJS/Node.js,
Rhino, and plain browser loading.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define === <span class="hljs-string">'function'</span> &amp;&amp; define.amd) {
        define([<span class="hljs-string">'exports'</span>], factory);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> exports !== <span class="hljs-string">'undefined'</span>) {
        factory(exports);
    } <span class="hljs-keyword">else</span> {
        factory((root.esprima = {}));
    }
}(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">exports</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;

    <span class="hljs-keyword">var</span> Token,
        TokenName,
        FnExprTokens,
        Syntax,
        PropertyKind,
        Messages,
        Regex,
        SyntaxTreeDelegate,
        source,
        strict,
        index,
        lineNumber,
        lineStart,
        length,
        delegate,
        lookahead,
        state,
        extra;

    Token = {
        BooleanLiteral: <span class="hljs-number">1</span>,
        EOF: <span class="hljs-number">2</span>,
        Identifier: <span class="hljs-number">3</span>,
        Keyword: <span class="hljs-number">4</span>,
        NullLiteral: <span class="hljs-number">5</span>,
        NumericLiteral: <span class="hljs-number">6</span>,
        Punctuator: <span class="hljs-number">7</span>,
        StringLiteral: <span class="hljs-number">8</span>,
        RegularExpression: <span class="hljs-number">9</span>
    };

    TokenName = {};
    TokenName[Token.BooleanLiteral] = <span class="hljs-string">'Boolean'</span>;
    TokenName[Token.EOF] = <span class="hljs-string">'&lt;end&gt;'</span>;
    TokenName[Token.Identifier] = <span class="hljs-string">'Identifier'</span>;
    TokenName[Token.Keyword] = <span class="hljs-string">'Keyword'</span>;
    TokenName[Token.NullLiteral] = <span class="hljs-string">'Null'</span>;
    TokenName[Token.NumericLiteral] = <span class="hljs-string">'Numeric'</span>;
    TokenName[Token.Punctuator] = <span class="hljs-string">'Punctuator'</span>;
    TokenName[Token.StringLiteral] = <span class="hljs-string">'String'</span>;
    TokenName[Token.RegularExpression] = <span class="hljs-string">'RegularExpression'</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-219">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-219">&#182;</a>
              </div>
              <p>A function following one of those tokens is an expression.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    FnExprTokens = [<span class="hljs-string">'('</span>, <span class="hljs-string">'{'</span>, <span class="hljs-string">'['</span>, <span class="hljs-string">'in'</span>, <span class="hljs-string">'typeof'</span>, <span class="hljs-string">'instanceof'</span>, <span class="hljs-string">'new'</span>,
                    <span class="hljs-string">'return'</span>, <span class="hljs-string">'case'</span>, <span class="hljs-string">'delete'</span>, <span class="hljs-string">'throw'</span>, <span class="hljs-string">'void'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-220">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-220">&#182;</a>
              </div>
              <p>assignment operators</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    <span class="hljs-string">'='</span>, <span class="hljs-string">'+='</span>, <span class="hljs-string">'-='</span>, <span class="hljs-string">'*='</span>, <span class="hljs-string">'/='</span>, <span class="hljs-string">'%='</span>, <span class="hljs-string">'&lt;&lt;='</span>, <span class="hljs-string">'&gt;&gt;='</span>, <span class="hljs-string">'&gt;&gt;&gt;='</span>,
                    <span class="hljs-string">'&amp;='</span>, <span class="hljs-string">'|='</span>, <span class="hljs-string">'^='</span>, <span class="hljs-string">','</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-221">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-221">&#182;</a>
              </div>
              <p>binary/unary operators</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    <span class="hljs-string">'+'</span>, <span class="hljs-string">'-'</span>, <span class="hljs-string">'*'</span>, <span class="hljs-string">'/'</span>, <span class="hljs-string">'%'</span>, <span class="hljs-string">'++'</span>, <span class="hljs-string">'--'</span>, <span class="hljs-string">'&lt;&lt;'</span>, <span class="hljs-string">'&gt;&gt;'</span>, <span class="hljs-string">'&gt;&gt;&gt;'</span>, <span class="hljs-string">'&amp;'</span>,
                    <span class="hljs-string">'|'</span>, <span class="hljs-string">'^'</span>, <span class="hljs-string">'!'</span>, <span class="hljs-string">'~'</span>, <span class="hljs-string">'&amp;&amp;'</span>, <span class="hljs-string">'||'</span>, <span class="hljs-string">'?'</span>, <span class="hljs-string">':'</span>, <span class="hljs-string">'==='</span>, <span class="hljs-string">'=='</span>, <span class="hljs-string">'&gt;='</span>,
                    <span class="hljs-string">'&lt;='</span>, <span class="hljs-string">'&lt;'</span>, <span class="hljs-string">'&gt;'</span>, <span class="hljs-string">'!='</span>, <span class="hljs-string">'!=='</span>];

    Syntax = {
        AssignmentExpression: <span class="hljs-string">'AssignmentExpression'</span>,
        ArrayExpression: <span class="hljs-string">'ArrayExpression'</span>,
        BlockStatement: <span class="hljs-string">'BlockStatement'</span>,
        BinaryExpression: <span class="hljs-string">'BinaryExpression'</span>,
        BreakStatement: <span class="hljs-string">'BreakStatement'</span>,
        CallExpression: <span class="hljs-string">'CallExpression'</span>,
        CatchClause: <span class="hljs-string">'CatchClause'</span>,
        ConditionalExpression: <span class="hljs-string">'ConditionalExpression'</span>,
        ContinueStatement: <span class="hljs-string">'ContinueStatement'</span>,
        DoWhileStatement: <span class="hljs-string">'DoWhileStatement'</span>,
        DebuggerStatement: <span class="hljs-string">'DebuggerStatement'</span>,
        EmptyStatement: <span class="hljs-string">'EmptyStatement'</span>,
        ExpressionStatement: <span class="hljs-string">'ExpressionStatement'</span>,
        ForStatement: <span class="hljs-string">'ForStatement'</span>,
        ForInStatement: <span class="hljs-string">'ForInStatement'</span>,
        FunctionDeclaration: <span class="hljs-string">'FunctionDeclaration'</span>,
        FunctionExpression: <span class="hljs-string">'FunctionExpression'</span>,
        Identifier: <span class="hljs-string">'Identifier'</span>,
        IfStatement: <span class="hljs-string">'IfStatement'</span>,
        Literal: <span class="hljs-string">'Literal'</span>,
        LabeledStatement: <span class="hljs-string">'LabeledStatement'</span>,
        LogicalExpression: <span class="hljs-string">'LogicalExpression'</span>,
        MemberExpression: <span class="hljs-string">'MemberExpression'</span>,
        NewExpression: <span class="hljs-string">'NewExpression'</span>,
        ObjectExpression: <span class="hljs-string">'ObjectExpression'</span>,
        Program: <span class="hljs-string">'Program'</span>,
        Property: <span class="hljs-string">'Property'</span>,
        ReturnStatement: <span class="hljs-string">'ReturnStatement'</span>,
        SequenceExpression: <span class="hljs-string">'SequenceExpression'</span>,
        SwitchStatement: <span class="hljs-string">'SwitchStatement'</span>,
        SwitchCase: <span class="hljs-string">'SwitchCase'</span>,
        ThisExpression: <span class="hljs-string">'ThisExpression'</span>,
        ThrowStatement: <span class="hljs-string">'ThrowStatement'</span>,
        TryStatement: <span class="hljs-string">'TryStatement'</span>,
        UnaryExpression: <span class="hljs-string">'UnaryExpression'</span>,
        UpdateExpression: <span class="hljs-string">'UpdateExpression'</span>,
        VariableDeclaration: <span class="hljs-string">'VariableDeclaration'</span>,
        VariableDeclarator: <span class="hljs-string">'VariableDeclarator'</span>,
        WhileStatement: <span class="hljs-string">'WhileStatement'</span>,
        WithStatement: <span class="hljs-string">'WithStatement'</span>
    };

    PropertyKind = {
        Data: <span class="hljs-number">1</span>,
        Get: <span class="hljs-number">2</span>,
        <span class="hljs-built_in">Set</span>: <span class="hljs-number">4</span>
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-222">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-222">&#182;</a>
              </div>
              <p>Error messages should be identical to V8.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Messages = {
        UnexpectedToken:  <span class="hljs-string">'Unexpected token %0'</span>,
        UnexpectedNumber:  <span class="hljs-string">'Unexpected number'</span>,
        UnexpectedString:  <span class="hljs-string">'Unexpected string'</span>,
        UnexpectedIdentifier:  <span class="hljs-string">'Unexpected identifier'</span>,
        UnexpectedReserved:  <span class="hljs-string">'Unexpected reserved word'</span>,
        UnexpectedEOS:  <span class="hljs-string">'Unexpected end of input'</span>,
        NewlineAfterThrow:  <span class="hljs-string">'Illegal newline after throw'</span>,
        InvalidRegExp: <span class="hljs-string">'Invalid regular expression'</span>,
        UnterminatedRegExp:  <span class="hljs-string">'Invalid regular expression: missing /'</span>,
        InvalidLHSInAssignment:  <span class="hljs-string">'Invalid left-hand side in assignment'</span>,
        InvalidLHSInForIn:  <span class="hljs-string">'Invalid left-hand side in for-in'</span>,
        MultipleDefaultsInSwitch: <span class="hljs-string">'More than one default clause in switch statement'</span>,
        NoCatchOrFinally:  <span class="hljs-string">'Missing catch or finally after try'</span>,
        UnknownLabel: <span class="hljs-string">'Undefined label \'%0\''</span>,
        Redeclaration: <span class="hljs-string">'%0 \'%1\' has already been declared'</span>,
        IllegalContinue: <span class="hljs-string">'Illegal continue statement'</span>,
        IllegalBreak: <span class="hljs-string">'Illegal break statement'</span>,
        IllegalReturn: <span class="hljs-string">'Illegal return statement'</span>,
        StrictModeWith:  <span class="hljs-string">'Strict mode code may not include a with statement'</span>,
        StrictCatchVariable:  <span class="hljs-string">'Catch variable may not be eval or arguments in strict mode'</span>,
        StrictVarName:  <span class="hljs-string">'Variable name may not be eval or arguments in strict mode'</span>,
        StrictParamName:  <span class="hljs-string">'Parameter name eval or arguments is not allowed in strict mode'</span>,
        StrictParamDupe: <span class="hljs-string">'Strict mode function may not have duplicate parameter names'</span>,
        StrictFunctionName:  <span class="hljs-string">'Function name may not be eval or arguments in strict mode'</span>,
        StrictOctalLiteral:  <span class="hljs-string">'Octal literals are not allowed in strict mode.'</span>,
        StrictDelete:  <span class="hljs-string">'Delete of an unqualified identifier in strict mode.'</span>,
        StrictDuplicateProperty:  <span class="hljs-string">'Duplicate data property in object literal not allowed in strict mode'</span>,
        AccessorDataProperty:  <span class="hljs-string">'Object literal may not have data and accessor property with the same name'</span>,
        AccessorGetSet:  <span class="hljs-string">'Object literal may not have multiple get/set accessors with the same name'</span>,
        StrictLHSAssignment:  <span class="hljs-string">'Assignment to eval or arguments is not allowed in strict mode'</span>,
        StrictLHSPostfix:  <span class="hljs-string">'Postfix increment/decrement may not have eval or arguments operand in strict mode'</span>,
        StrictLHSPrefix:  <span class="hljs-string">'Prefix increment/decrement may not have eval or arguments operand in strict mode'</span>,
        StrictReservedWord:  <span class="hljs-string">'Use of future reserved word in strict mode'</span>
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-223">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-223">&#182;</a>
              </div>
              <p>See also tools/generate-unicode-regex.py.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Regex = {
        NonAsciiIdentifierStart: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]'</span>),
        NonAsciiIdentifierPart: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0\u08A2-\u08AC\u08E4-\u08FE\u0900-\u0963\u0966-\u096F\u0971-\u0977\u0979-\u097F\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1D00-\u1DE6\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA697\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7B\uAA80-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]'</span>)
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-224">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-224">&#182;</a>
              </div>
              <p>Ensure the condition is true, otherwise throw an error.
This is only to have a better contract semantic, i.e. another safety net
to catch a logic error. The condition shall be fulfilled in normal case.
Do NOT use this to enforce a certain condition on any user input.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">assert</span>(<span class="hljs-params">condition, message</span>) </span>{
        <span class="hljs-keyword">if</span> (!condition) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'ASSERT: '</span> + message);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDecimalDigit</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> (ch &gt;= <span class="hljs-number">48</span> &amp;&amp; ch &lt;= <span class="hljs-number">57</span>);   <span class="hljs-comment">// 0..9</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isHexDigit</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'0123456789abcdefABCDEF'</span>.indexOf(ch) &gt;= <span class="hljs-number">0</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isOctalDigit</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'01234567'</span>.indexOf(ch) &gt;= <span class="hljs-number">0</span>;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-225">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-225">&#182;</a>
              </div>
              <p>7.2 White Space</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isWhiteSpace</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> (ch === <span class="hljs-number">0x20</span>) || (ch === <span class="hljs-number">0x09</span>) || (ch === <span class="hljs-number">0x0B</span>) || (ch === <span class="hljs-number">0x0C</span>) || (ch === <span class="hljs-number">0xA0</span>) ||
            (ch &gt;= <span class="hljs-number">0x1680</span> &amp;&amp; [<span class="hljs-number">0x1680</span>, <span class="hljs-number">0x180E</span>, <span class="hljs-number">0x2000</span>, <span class="hljs-number">0x2001</span>, <span class="hljs-number">0x2002</span>, <span class="hljs-number">0x2003</span>, <span class="hljs-number">0x2004</span>, <span class="hljs-number">0x2005</span>, <span class="hljs-number">0x2006</span>, <span class="hljs-number">0x2007</span>, <span class="hljs-number">0x2008</span>, <span class="hljs-number">0x2009</span>, <span class="hljs-number">0x200A</span>, <span class="hljs-number">0x202F</span>, <span class="hljs-number">0x205F</span>, <span class="hljs-number">0x3000</span>, <span class="hljs-number">0xFEFF</span>].indexOf(ch) &gt;= <span class="hljs-number">0</span>);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-226">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-226">&#182;</a>
              </div>
              <p>7.3 Line Terminators</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isLineTerminator</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> (ch === <span class="hljs-number">0x0A</span>) || (ch === <span class="hljs-number">0x0D</span>) || (ch === <span class="hljs-number">0x2028</span>) || (ch === <span class="hljs-number">0x2029</span>);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-227">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-227">&#182;</a>
              </div>
              <p>7.6 Identifier Names and Identifiers</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isIdentifierStart</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> (ch === <span class="hljs-number">0x24</span>) || (ch === <span class="hljs-number">0x5F</span>) ||  <span class="hljs-comment">// $ (dollar) and _ (underscore)</span>
            (ch &gt;= <span class="hljs-number">0x41</span> &amp;&amp; ch &lt;= <span class="hljs-number">0x5A</span>) ||         <span class="hljs-comment">// A..Z</span>
            (ch &gt;= <span class="hljs-number">0x61</span> &amp;&amp; ch &lt;= <span class="hljs-number">0x7A</span>) ||         <span class="hljs-comment">// a..z</span>
            (ch === <span class="hljs-number">0x5C</span>) ||                      <span class="hljs-comment">// \ (backslash)</span>
            ((ch &gt;= <span class="hljs-number">0x80</span>) &amp;&amp; Regex.NonAsciiIdentifierStart.test(<span class="hljs-built_in">String</span>.fromCharCode(ch)));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isIdentifierPart</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> (ch === <span class="hljs-number">0x24</span>) || (ch === <span class="hljs-number">0x5F</span>) ||  <span class="hljs-comment">// $ (dollar) and _ (underscore)</span>
            (ch &gt;= <span class="hljs-number">0x41</span> &amp;&amp; ch &lt;= <span class="hljs-number">0x5A</span>) ||         <span class="hljs-comment">// A..Z</span>
            (ch &gt;= <span class="hljs-number">0x61</span> &amp;&amp; ch &lt;= <span class="hljs-number">0x7A</span>) ||         <span class="hljs-comment">// a..z</span>
            (ch &gt;= <span class="hljs-number">0x30</span> &amp;&amp; ch &lt;= <span class="hljs-number">0x39</span>) ||         <span class="hljs-comment">// 0..9</span>
            (ch === <span class="hljs-number">0x5C</span>) ||                      <span class="hljs-comment">// \ (backslash)</span>
            ((ch &gt;= <span class="hljs-number">0x80</span>) &amp;&amp; Regex.NonAsciiIdentifierPart.test(<span class="hljs-built_in">String</span>.fromCharCode(ch)));
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-228">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-228">&#182;</a>
              </div>
              <p>7.6.1.2 Future Reserved Words</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isFutureReservedWord</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">switch</span> (id) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'class'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'enum'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'export'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'extends'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'import'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'super'</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isStrictModeReservedWord</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">switch</span> (id) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'implements'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'interface'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'package'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'private'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'protected'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'public'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'static'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'yield'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'let'</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isRestrictedWord</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">return</span> id === <span class="hljs-string">'eval'</span> || id === <span class="hljs-string">'arguments'</span>;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-229">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-229">&#182;</a>
              </div>
              <p>7.6.1.1 Keywords</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isKeyword</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">if</span> (strict &amp;&amp; isStrictModeReservedWord(id)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-230">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-230">&#182;</a>
              </div>
              <p>‘const’ is specialized as Keyword in V8.
‘yield’ and ‘let’ are for compatiblity with SpiderMonkey and ES.next.
Some others are from future reserved words.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        <span class="hljs-keyword">switch</span> (id.length) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'if'</span>) || (id === <span class="hljs-string">'in'</span>) || (id === <span class="hljs-string">'do'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'var'</span>) || (id === <span class="hljs-string">'for'</span>) || (id === <span class="hljs-string">'new'</span>) ||
                (id === <span class="hljs-string">'try'</span>) || (id === <span class="hljs-string">'let'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'this'</span>) || (id === <span class="hljs-string">'else'</span>) || (id === <span class="hljs-string">'case'</span>) ||
                (id === <span class="hljs-string">'void'</span>) || (id === <span class="hljs-string">'with'</span>) || (id === <span class="hljs-string">'enum'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'while'</span>) || (id === <span class="hljs-string">'break'</span>) || (id === <span class="hljs-string">'catch'</span>) ||
                (id === <span class="hljs-string">'throw'</span>) || (id === <span class="hljs-string">'const'</span>) || (id === <span class="hljs-string">'yield'</span>) ||
                (id === <span class="hljs-string">'class'</span>) || (id === <span class="hljs-string">'super'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'return'</span>) || (id === <span class="hljs-string">'typeof'</span>) || (id === <span class="hljs-string">'delete'</span>) ||
                (id === <span class="hljs-string">'switch'</span>) || (id === <span class="hljs-string">'export'</span>) || (id === <span class="hljs-string">'import'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'default'</span>) || (id === <span class="hljs-string">'finally'</span>) || (id === <span class="hljs-string">'extends'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'function'</span>) || (id === <span class="hljs-string">'continue'</span>) || (id === <span class="hljs-string">'debugger'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'instanceof'</span>);
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-231">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-231">&#182;</a>
              </div>
              <p>7.4 Comments</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addComment</span>(<span class="hljs-params">type, value, start, end, loc</span>) </span>{
        <span class="hljs-keyword">var</span> comment, attacher;

        assert(<span class="hljs-keyword">typeof</span> start === <span class="hljs-string">'number'</span>, <span class="hljs-string">'Comment must have valid position'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-232">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-232">&#182;</a>
              </div>
              <p>Because the way the actual token is scanned, often the comments
(if any) are skipped twice during the lexical analysis.
Thus, we need to skip adding a comment if the comment array already
handled it.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (state.lastCommentStart &gt;= start) {
            <span class="hljs-keyword">return</span>;
        }
        state.lastCommentStart = start;

        comment = {
            type: type,
            value: value
        };
        <span class="hljs-keyword">if</span> (extra.range) {
            comment.range = [start, end];
        }
        <span class="hljs-keyword">if</span> (extra.loc) {
            comment.loc = loc;
        }
        extra.comments.push(comment);

        <span class="hljs-keyword">if</span> (extra.attachComment) {
            attacher = {
                comment: comment,
                leading: <span class="hljs-literal">null</span>,
                trailing: <span class="hljs-literal">null</span>,
                range: [start, end]
            };
            extra.pendingComments.push(attacher);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">skipSingleLineComment</span>(<span class="hljs-params">offset</span>) </span>{
        <span class="hljs-keyword">var</span> start, loc, ch, comment;

        start = index - offset;
        loc = {
            start: {
                line: lineNumber,
                column: index - lineStart - offset
            }
        };

        <span class="hljs-keyword">while</span> (index &lt; length) {
            ch = source.charCodeAt(index);
            ++index;
            <span class="hljs-keyword">if</span> (isLineTerminator(ch)) {
                <span class="hljs-keyword">if</span> (extra.comments) {
                    comment = source.slice(start + offset, index - <span class="hljs-number">1</span>);
                    loc.end = {
                        line: lineNumber,
                        column: index - lineStart - <span class="hljs-number">1</span>
                    };
                    addComment(<span class="hljs-string">'Line'</span>, comment, start, index - <span class="hljs-number">1</span>, loc);
                }
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">13</span> &amp;&amp; source.charCodeAt(index) === <span class="hljs-number">10</span>) {
                    ++index;
                }
                ++lineNumber;
                lineStart = index;
                <span class="hljs-keyword">return</span>;
            }
        }

        <span class="hljs-keyword">if</span> (extra.comments) {
            comment = source.slice(start + offset, index);
            loc.end = {
                line: lineNumber,
                column: index - lineStart
            };
            addComment(<span class="hljs-string">'Line'</span>, comment, start, index, loc);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">skipMultiLineComment</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> start, loc, ch, comment;

        <span class="hljs-keyword">if</span> (extra.comments) {
            start = index - <span class="hljs-number">2</span>;
            loc = {
                start: {
                    line: lineNumber,
                    column: index - lineStart - <span class="hljs-number">2</span>
                }
            };
        }

        <span class="hljs-keyword">while</span> (index &lt; length) {
            ch = source.charCodeAt(index);
            <span class="hljs-keyword">if</span> (isLineTerminator(ch)) {
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">0x0D</span> &amp;&amp; source.charCodeAt(index + <span class="hljs-number">1</span>) === <span class="hljs-number">0x0A</span>) {
                    ++index;
                }
                ++lineNumber;
                ++index;
                lineStart = index;
                <span class="hljs-keyword">if</span> (index &gt;= length) {
                    throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">0x2A</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-233">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-233">&#182;</a>
              </div>
              <p>Block comment ends with ‘*/‘.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (source.charCodeAt(index + <span class="hljs-number">1</span>) === <span class="hljs-number">0x2F</span>) {
                    ++index;
                    ++index;
                    <span class="hljs-keyword">if</span> (extra.comments) {
                        comment = source.slice(start + <span class="hljs-number">2</span>, index - <span class="hljs-number">2</span>);
                        loc.end = {
                            line: lineNumber,
                            column: index - lineStart
                        };
                        addComment(<span class="hljs-string">'Block'</span>, comment, start, index, loc);
                    }
                    <span class="hljs-keyword">return</span>;
                }
                ++index;
            } <span class="hljs-keyword">else</span> {
                ++index;
            }
        }

        throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">skipComment</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ch, start;

        start = (index === <span class="hljs-number">0</span>);
        <span class="hljs-keyword">while</span> (index &lt; length) {
            ch = source.charCodeAt(index);

            <span class="hljs-keyword">if</span> (isWhiteSpace(ch)) {
                ++index;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isLineTerminator(ch)) {
                ++index;
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">0x0D</span> &amp;&amp; source.charCodeAt(index) === <span class="hljs-number">0x0A</span>) {
                    ++index;
                }
                ++lineNumber;
                lineStart = index;
                start = <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">0x2F</span>) { <span class="hljs-comment">// U+002F is '/'</span>
                ch = source.charCodeAt(index + <span class="hljs-number">1</span>);
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">0x2F</span>) {
                    ++index;
                    ++index;
                    skipSingleLineComment(<span class="hljs-number">2</span>);
                    start = <span class="hljs-literal">true</span>;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">0x2A</span>) {  <span class="hljs-comment">// U+002A is '*'</span>
                    ++index;
                    ++index;
                    skipMultiLineComment();
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">break</span>;
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (start &amp;&amp; ch === <span class="hljs-number">0x2D</span>) { <span class="hljs-comment">// U+002D is '-'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-234">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-234">&#182;</a>
              </div>
              <p>U+003E is ‘&gt;’</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> ((source.charCodeAt(index + <span class="hljs-number">1</span>) === <span class="hljs-number">0x2D</span>) &amp;&amp; (source.charCodeAt(index + <span class="hljs-number">2</span>) === <span class="hljs-number">0x3E</span>)) {</pre></div></div>
            
        </li>
        
        
        <li id="section-235">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-235">&#182;</a>
              </div>
              <p>‘–&gt;’ is a single-line comment</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    index += <span class="hljs-number">3</span>;
                    skipSingleLineComment(<span class="hljs-number">3</span>);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">break</span>;
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">0x3C</span>) { <span class="hljs-comment">// U+003C is '&lt;'</span>
                <span class="hljs-keyword">if</span> (source.slice(index + <span class="hljs-number">1</span>, index + <span class="hljs-number">4</span>) === <span class="hljs-string">'!--'</span>) {
                    ++index; <span class="hljs-comment">// `&lt;`</span>
                    ++index; <span class="hljs-comment">// `!`</span>
                    ++index; <span class="hljs-comment">// `-`</span>
                    ++index; <span class="hljs-comment">// `-`</span>
                    skipSingleLineComment(<span class="hljs-number">4</span>);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">break</span>;
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">break</span>;
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scanHexEscape</span>(<span class="hljs-params">prefix</span>) </span>{
        <span class="hljs-keyword">var</span> i, len, ch, code = <span class="hljs-number">0</span>;

        len = (prefix === <span class="hljs-string">'u'</span>) ? <span class="hljs-number">4</span> : <span class="hljs-number">2</span>;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; len; ++i) {
            <span class="hljs-keyword">if</span> (index &lt; length &amp;&amp; isHexDigit(source[index])) {
                ch = source[index++];
                code = code * <span class="hljs-number">16</span> + <span class="hljs-string">'0123456789abcdef'</span>.indexOf(ch.toLowerCase());
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>.fromCharCode(code);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEscapedIdentifier</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ch, id;

        ch = source.charCodeAt(index++);
        id = <span class="hljs-built_in">String</span>.fromCharCode(ch);</pre></div></div>
            
        </li>
        
        
        <li id="section-236">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-236">&#182;</a>
              </div>
              <p>‘\u’ (U+005C, U+0075) denotes an escaped character.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">0x5C</span>) {
            <span class="hljs-keyword">if</span> (source.charCodeAt(index) !== <span class="hljs-number">0x75</span>) {
                throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
            }
            ++index;
            ch = scanHexEscape(<span class="hljs-string">'u'</span>);
            <span class="hljs-keyword">if</span> (!ch || ch === <span class="hljs-string">'\\'</span> || !isIdentifierStart(ch.charCodeAt(<span class="hljs-number">0</span>))) {
                throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
            }
            id = ch;
        }

        <span class="hljs-keyword">while</span> (index &lt; length) {
            ch = source.charCodeAt(index);
            <span class="hljs-keyword">if</span> (!isIdentifierPart(ch)) {
                <span class="hljs-keyword">break</span>;
            }
            ++index;
            id += <span class="hljs-built_in">String</span>.fromCharCode(ch);</pre></div></div>
            
        </li>
        
        
        <li id="section-237">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-237">&#182;</a>
              </div>
              <p>‘\u’ (U+005C, U+0075) denotes an escaped character.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">0x5C</span>) {
                id = id.substr(<span class="hljs-number">0</span>, id.length - <span class="hljs-number">1</span>);
                <span class="hljs-keyword">if</span> (source.charCodeAt(index) !== <span class="hljs-number">0x75</span>) {
                    throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
                }
                ++index;
                ch = scanHexEscape(<span class="hljs-string">'u'</span>);
                <span class="hljs-keyword">if</span> (!ch || ch === <span class="hljs-string">'\\'</span> || !isIdentifierPart(ch.charCodeAt(<span class="hljs-number">0</span>))) {
                    throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
                }
                id += ch;
            }
        }

        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getIdentifier</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> start, ch;

        start = index++;
        <span class="hljs-keyword">while</span> (index &lt; length) {
            ch = source.charCodeAt(index);
            <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">0x5C</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-238">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-238">&#182;</a>
              </div>
              <p>Blackslash (U+005C) marks Unicode escape sequence.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                index = start;
                <span class="hljs-keyword">return</span> getEscapedIdentifier();
            }
            <span class="hljs-keyword">if</span> (isIdentifierPart(ch)) {
                ++index;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">break</span>;
            }
        }

        <span class="hljs-keyword">return</span> source.slice(start, index);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scanIdentifier</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> start, id, type;

        start = index;</pre></div></div>
            
        </li>
        
        
        <li id="section-239">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-239">&#182;</a>
              </div>
              <p>Backslash (U+005C) starts an escaped character.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        id = (source.charCodeAt(index) === <span class="hljs-number">0x5C</span>) ? getEscapedIdentifier() : getIdentifier();</pre></div></div>
            
        </li>
        
        
        <li id="section-240">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-240">&#182;</a>
              </div>
              <p>There is no keyword or literal with only one character.
Thus, it must be an identifier.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (id.length === <span class="hljs-number">1</span>) {
            type = Token.Identifier;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isKeyword(id)) {
            type = Token.Keyword;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (id === <span class="hljs-string">'null'</span>) {
            type = Token.NullLiteral;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (id === <span class="hljs-string">'true'</span> || id === <span class="hljs-string">'false'</span>) {
            type = Token.BooleanLiteral;
        } <span class="hljs-keyword">else</span> {
            type = Token.Identifier;
        }

        <span class="hljs-keyword">return</span> {
            type: type,
            value: id,
            lineNumber: lineNumber,
            lineStart: lineStart,
            range: [start, index]
        };
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-241">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-241">&#182;</a>
              </div>
              <p>7.7 Punctuators</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scanPunctuator</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> start = index,
            code = source.charCodeAt(index),
            code2,
            ch1 = source[index],
            ch2,
            ch3,
            ch4;

        <span class="hljs-keyword">switch</span> (code) {</pre></div></div>
            
        </li>
        
        
        <li id="section-242">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-242">&#182;</a>
              </div>
              <p>Check for most common single-character punctuators.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">case</span> <span class="hljs-number">0x2E</span>:  <span class="hljs-comment">// . dot</span>
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x28</span>:  <span class="hljs-comment">// ( open bracket</span>
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x29</span>:  <span class="hljs-comment">// ) close bracket</span>
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x3B</span>:  <span class="hljs-comment">// ; semicolon</span>
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x2C</span>:  <span class="hljs-comment">// , comma</span>
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x7B</span>:  <span class="hljs-comment">// { open curly brace</span>
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x7D</span>:  <span class="hljs-comment">// } close curly brace</span>
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x5B</span>:  <span class="hljs-comment">// [</span>
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x5D</span>:  <span class="hljs-comment">// ]</span>
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x3A</span>:  <span class="hljs-comment">// :</span>
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x3F</span>:  <span class="hljs-comment">// ?</span>
        <span class="hljs-keyword">case</span> <span class="hljs-number">0x7E</span>:  <span class="hljs-comment">// ~</span>
            ++index;
            <span class="hljs-keyword">if</span> (extra.tokenize) {
                <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x28</span>) {
                    extra.openParenToken = extra.tokens.length;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x7B</span>) {
                    extra.openCurlyToken = extra.tokens.length;
                }
            }
            <span class="hljs-keyword">return</span> {
                type: Token.Punctuator,
                value: <span class="hljs-built_in">String</span>.fromCharCode(code),
                lineNumber: lineNumber,
                lineStart: lineStart,
                range: [start, index]
            };

        <span class="hljs-keyword">default</span>:
            code2 = source.charCodeAt(index + <span class="hljs-number">1</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-243">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-243">&#182;</a>
              </div>
              <p>‘=’ (U+003D) marks an assignment or comparison operator.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (code2 === <span class="hljs-number">0x3D</span>) {
                <span class="hljs-keyword">switch</span> (code) {
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x25</span>:  <span class="hljs-comment">// %</span>
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x26</span>:  <span class="hljs-comment">// &amp;</span>
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x2A</span>:  <span class="hljs-comment">// *:</span>
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x2B</span>:  <span class="hljs-comment">// +</span>
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x2D</span>:  <span class="hljs-comment">// -</span>
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x2F</span>:  <span class="hljs-comment">// /</span>
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x3C</span>:  <span class="hljs-comment">// &lt;</span>
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x3E</span>:  <span class="hljs-comment">// &gt;</span>
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x5E</span>:  <span class="hljs-comment">// ^</span>
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x7C</span>:  <span class="hljs-comment">// |</span>
                    index += <span class="hljs-number">2</span>;
                    <span class="hljs-keyword">return</span> {
                        type: Token.Punctuator,
                        value: <span class="hljs-built_in">String</span>.fromCharCode(code) + <span class="hljs-built_in">String</span>.fromCharCode(code2),
                        lineNumber: lineNumber,
                        lineStart: lineStart,
                        range: [start, index]
                    };

                <span class="hljs-keyword">case</span> <span class="hljs-number">0x21</span>: <span class="hljs-comment">// !</span>
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x3D</span>: <span class="hljs-comment">// =</span>
                    index += <span class="hljs-number">2</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-244">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-244">&#182;</a>
              </div>
              <p>!== and ===</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    <span class="hljs-keyword">if</span> (source.charCodeAt(index) === <span class="hljs-number">0x3D</span>) {
                        ++index;
                    }
                    <span class="hljs-keyword">return</span> {
                        type: Token.Punctuator,
                        value: source.slice(start, index),
                        lineNumber: lineNumber,
                        lineStart: lineStart,
                        range: [start, index]
                    };
                <span class="hljs-keyword">default</span>:
                    <span class="hljs-keyword">break</span>;
                }
            }
            <span class="hljs-keyword">break</span>;
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-245">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-245">&#182;</a>
              </div>
              <p>Peek more characters.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        ch2 = source[index + <span class="hljs-number">1</span>];
        ch3 = source[index + <span class="hljs-number">2</span>];
        ch4 = source[index + <span class="hljs-number">3</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-246">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-246">&#182;</a>
              </div>
              <p>4-character punctuator: &gt;&gt;&gt;=</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        <span class="hljs-keyword">if</span> (ch1 === <span class="hljs-string">'&gt;'</span> &amp;&amp; ch2 === <span class="hljs-string">'&gt;'</span> &amp;&amp; ch3 === <span class="hljs-string">'&gt;'</span>) {
            <span class="hljs-keyword">if</span> (ch4 === <span class="hljs-string">'='</span>) {
                index += <span class="hljs-number">4</span>;
                <span class="hljs-keyword">return</span> {
                    type: Token.Punctuator,
                    value: <span class="hljs-string">'&gt;&gt;&gt;='</span>,
                    lineNumber: lineNumber,
                    lineStart: lineStart,
                    range: [start, index]
                };
            }
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-247">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-247">&#182;</a>
              </div>
              <p>3-character punctuators: === !== &gt;&gt;&gt; &lt;&lt;= &gt;&gt;=</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        <span class="hljs-keyword">if</span> (ch1 === <span class="hljs-string">'&gt;'</span> &amp;&amp; ch2 === <span class="hljs-string">'&gt;'</span> &amp;&amp; ch3 === <span class="hljs-string">'&gt;'</span>) {
            index += <span class="hljs-number">3</span>;
            <span class="hljs-keyword">return</span> {
                type: Token.Punctuator,
                value: <span class="hljs-string">'&gt;&gt;&gt;'</span>,
                lineNumber: lineNumber,
                lineStart: lineStart,
                range: [start, index]
            };
        }

        <span class="hljs-keyword">if</span> (ch1 === <span class="hljs-string">'&lt;'</span> &amp;&amp; ch2 === <span class="hljs-string">'&lt;'</span> &amp;&amp; ch3 === <span class="hljs-string">'='</span>) {
            index += <span class="hljs-number">3</span>;
            <span class="hljs-keyword">return</span> {
                type: Token.Punctuator,
                value: <span class="hljs-string">'&lt;&lt;='</span>,
                lineNumber: lineNumber,
                lineStart: lineStart,
                range: [start, index]
            };
        }

        <span class="hljs-keyword">if</span> (ch1 === <span class="hljs-string">'&gt;'</span> &amp;&amp; ch2 === <span class="hljs-string">'&gt;'</span> &amp;&amp; ch3 === <span class="hljs-string">'='</span>) {
            index += <span class="hljs-number">3</span>;
            <span class="hljs-keyword">return</span> {
                type: Token.Punctuator,
                value: <span class="hljs-string">'&gt;&gt;='</span>,
                lineNumber: lineNumber,
                lineStart: lineStart,
                range: [start, index]
            };
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-248">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-248">&#182;</a>
              </div>
              <p>Other 2-character punctuators: ++ – &lt;&lt; &gt;&gt; &amp;&amp; ||</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        <span class="hljs-keyword">if</span> (ch1 === ch2 &amp;&amp; (<span class="hljs-string">'+-&lt;&gt;&amp;|'</span>.indexOf(ch1) &gt;= <span class="hljs-number">0</span>)) {
            index += <span class="hljs-number">2</span>;
            <span class="hljs-keyword">return</span> {
                type: Token.Punctuator,
                value: ch1 + ch2,
                lineNumber: lineNumber,
                lineStart: lineStart,
                range: [start, index]
            };
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-string">'&lt;&gt;=!+-*%&amp;|^/'</span>.indexOf(ch1) &gt;= <span class="hljs-number">0</span>) {
            ++index;
            <span class="hljs-keyword">return</span> {
                type: Token.Punctuator,
                value: ch1,
                lineNumber: lineNumber,
                lineStart: lineStart,
                range: [start, index]
            };
        }

        throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-249">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-249">&#182;</a>
              </div>
              <p>7.8.3 Numeric Literals</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scanHexLiteral</span>(<span class="hljs-params">start</span>) </span>{
        <span class="hljs-keyword">var</span> number = <span class="hljs-string">''</span>;

        <span class="hljs-keyword">while</span> (index &lt; length) {
            <span class="hljs-keyword">if</span> (!isHexDigit(source[index])) {
                <span class="hljs-keyword">break</span>;
            }
            number += source[index++];
        }

        <span class="hljs-keyword">if</span> (number.length === <span class="hljs-number">0</span>) {
            throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
        }

        <span class="hljs-keyword">if</span> (isIdentifierStart(source.charCodeAt(index))) {
            throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
        }

        <span class="hljs-keyword">return</span> {
            type: Token.NumericLiteral,
            value: <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">'0x'</span> + number, <span class="hljs-number">16</span>),
            lineNumber: lineNumber,
            lineStart: lineStart,
            range: [start, index]
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scanOctalLiteral</span>(<span class="hljs-params">start</span>) </span>{
        <span class="hljs-keyword">var</span> number = <span class="hljs-string">'0'</span> + source[index++];
        <span class="hljs-keyword">while</span> (index &lt; length) {
            <span class="hljs-keyword">if</span> (!isOctalDigit(source[index])) {
                <span class="hljs-keyword">break</span>;
            }
            number += source[index++];
        }

        <span class="hljs-keyword">if</span> (isIdentifierStart(source.charCodeAt(index)) || isDecimalDigit(source.charCodeAt(index))) {
            throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
        }

        <span class="hljs-keyword">return</span> {
            type: Token.NumericLiteral,
            value: <span class="hljs-built_in">parseInt</span>(number, <span class="hljs-number">8</span>),
            octal: <span class="hljs-literal">true</span>,
            lineNumber: lineNumber,
            lineStart: lineStart,
            range: [start, index]
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scanNumericLiteral</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> number, start, ch;

        ch = source[index];
        assert(isDecimalDigit(ch.charCodeAt(<span class="hljs-number">0</span>)) || (ch === <span class="hljs-string">'.'</span>),
            <span class="hljs-string">'Numeric literal must start with a decimal digit or a decimal point'</span>);

        start = index;
        number = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (ch !== <span class="hljs-string">'.'</span>) {
            number = source[index++];
            ch = source[index];</pre></div></div>
            
        </li>
        
        
        <li id="section-250">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-250">&#182;</a>
              </div>
              <p>Hex number starts with ‘0x’.
Octal number starts with ‘0’.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (number === <span class="hljs-string">'0'</span>) {
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">'x'</span> || ch === <span class="hljs-string">'X'</span>) {
                    ++index;
                    <span class="hljs-keyword">return</span> scanHexLiteral(start);
                }
                <span class="hljs-keyword">if</span> (isOctalDigit(ch)) {
                    <span class="hljs-keyword">return</span> scanOctalLiteral(start);
                }</pre></div></div>
            
        </li>
        
        
        <li id="section-251">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-251">&#182;</a>
              </div>
              <p>decimal number starts with ‘0’ such as ‘09’ is illegal.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (ch &amp;&amp; isDecimalDigit(ch.charCodeAt(<span class="hljs-number">0</span>))) {
                    throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
                }
            }

            <span class="hljs-keyword">while</span> (isDecimalDigit(source.charCodeAt(index))) {
                number += source[index++];
            }
            ch = source[index];
        }

        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">'.'</span>) {
            number += source[index++];
            <span class="hljs-keyword">while</span> (isDecimalDigit(source.charCodeAt(index))) {
                number += source[index++];
            }
            ch = source[index];
        }

        <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">'e'</span> || ch === <span class="hljs-string">'E'</span>) {
            number += source[index++];

            ch = source[index];
            <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">'+'</span> || ch === <span class="hljs-string">'-'</span>) {
                number += source[index++];
            }
            <span class="hljs-keyword">if</span> (isDecimalDigit(source.charCodeAt(index))) {
                <span class="hljs-keyword">while</span> (isDecimalDigit(source.charCodeAt(index))) {
                    number += source[index++];
                }
            } <span class="hljs-keyword">else</span> {
                throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
            }
        }

        <span class="hljs-keyword">if</span> (isIdentifierStart(source.charCodeAt(index))) {
            throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
        }

        <span class="hljs-keyword">return</span> {
            type: Token.NumericLiteral,
            value: <span class="hljs-built_in">parseFloat</span>(number),
            lineNumber: lineNumber,
            lineStart: lineStart,
            range: [start, index]
        };
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-252">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-252">&#182;</a>
              </div>
              <p>7.8.4 String Literals</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scanStringLiteral</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> str = <span class="hljs-string">''</span>, quote, start, ch, code, unescaped, restore, octal = <span class="hljs-literal">false</span>;

        quote = source[index];
        assert((quote === <span class="hljs-string">'\''</span> || quote === <span class="hljs-string">'"'</span>),
            <span class="hljs-string">'String literal must starts with a quote'</span>);

        start = index;
        ++index;

        <span class="hljs-keyword">while</span> (index &lt; length) {
            ch = source[index++];

            <span class="hljs-keyword">if</span> (ch === quote) {
                quote = <span class="hljs-string">''</span>;
                <span class="hljs-keyword">break</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">'\\'</span>) {
                ch = source[index++];
                <span class="hljs-keyword">if</span> (!ch || !isLineTerminator(ch.charCodeAt(<span class="hljs-number">0</span>))) {
                    <span class="hljs-keyword">switch</span> (ch) {
                    <span class="hljs-keyword">case</span> <span class="hljs-string">'n'</span>:
                        str += <span class="hljs-string">'\n'</span>;
                        <span class="hljs-keyword">break</span>;
                    <span class="hljs-keyword">case</span> <span class="hljs-string">'r'</span>:
                        str += <span class="hljs-string">'\r'</span>;
                        <span class="hljs-keyword">break</span>;
                    <span class="hljs-keyword">case</span> <span class="hljs-string">'t'</span>:
                        str += <span class="hljs-string">'\t'</span>;
                        <span class="hljs-keyword">break</span>;
                    <span class="hljs-keyword">case</span> <span class="hljs-string">'u'</span>:
                    <span class="hljs-keyword">case</span> <span class="hljs-string">'x'</span>:
                        restore = index;
                        unescaped = scanHexEscape(ch);
                        <span class="hljs-keyword">if</span> (unescaped) {
                            str += unescaped;
                        } <span class="hljs-keyword">else</span> {
                            index = restore;
                            str += ch;
                        }
                        <span class="hljs-keyword">break</span>;
                    <span class="hljs-keyword">case</span> <span class="hljs-string">'b'</span>:
                        str += <span class="hljs-string">'\b'</span>;
                        <span class="hljs-keyword">break</span>;
                    <span class="hljs-keyword">case</span> <span class="hljs-string">'f'</span>:
                        str += <span class="hljs-string">'\f'</span>;
                        <span class="hljs-keyword">break</span>;
                    <span class="hljs-keyword">case</span> <span class="hljs-string">'v'</span>:
                        str += <span class="hljs-string">'\x0B'</span>;
                        <span class="hljs-keyword">break</span>;

                    <span class="hljs-keyword">default</span>:
                        <span class="hljs-keyword">if</span> (isOctalDigit(ch)) {
                            code = <span class="hljs-string">'01234567'</span>.indexOf(ch);</pre></div></div>
            
        </li>
        
        
        <li id="section-253">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-253">&#182;</a>
              </div>
              <p>\0 is not octal escape sequence</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                            <span class="hljs-keyword">if</span> (code !== <span class="hljs-number">0</span>) {
                                octal = <span class="hljs-literal">true</span>;
                            }

                            <span class="hljs-keyword">if</span> (index &lt; length &amp;&amp; isOctalDigit(source[index])) {
                                octal = <span class="hljs-literal">true</span>;
                                code = code * <span class="hljs-number">8</span> + <span class="hljs-string">'01234567'</span>.indexOf(source[index++]);</pre></div></div>
            
        </li>
        
        
        <li id="section-254">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-254">&#182;</a>
              </div>
              <p>3 digits are only allowed when string starts
with 0, 1, 2, 3</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                                <span class="hljs-keyword">if</span> (<span class="hljs-string">'0123'</span>.indexOf(ch) &gt;= <span class="hljs-number">0</span> &amp;&amp;
                                        index &lt; length &amp;&amp;
                                        isOctalDigit(source[index])) {
                                    code = code * <span class="hljs-number">8</span> + <span class="hljs-string">'01234567'</span>.indexOf(source[index++]);
                                }
                            }
                            str += <span class="hljs-built_in">String</span>.fromCharCode(code);
                        } <span class="hljs-keyword">else</span> {
                            str += ch;
                        }
                        <span class="hljs-keyword">break</span>;
                    }
                } <span class="hljs-keyword">else</span> {
                    ++lineNumber;
                    <span class="hljs-keyword">if</span> (ch ===  <span class="hljs-string">'\r'</span> &amp;&amp; source[index] === <span class="hljs-string">'\n'</span>) {
                        ++index;
                    }
                    lineStart = index;
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isLineTerminator(ch.charCodeAt(<span class="hljs-number">0</span>))) {
                <span class="hljs-keyword">break</span>;
            } <span class="hljs-keyword">else</span> {
                str += ch;
            }
        }

        <span class="hljs-keyword">if</span> (quote !== <span class="hljs-string">''</span>) {
            throwError({}, Messages.UnexpectedToken, <span class="hljs-string">'ILLEGAL'</span>);
        }

        <span class="hljs-keyword">return</span> {
            type: Token.StringLiteral,
            value: str,
            octal: octal,
            lineNumber: lineNumber,
            lineStart: lineStart,
            range: [start, index]
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scanRegExp</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> str, ch, start, pattern, flags, value, classMarker = <span class="hljs-literal">false</span>, restore, terminated = <span class="hljs-literal">false</span>;

        lookahead = <span class="hljs-literal">null</span>;
        skipComment();

        start = index;
        ch = source[index];
        assert(ch === <span class="hljs-string">'/'</span>, <span class="hljs-string">'Regular expression literal must start with a slash'</span>);
        str = source[index++];

        <span class="hljs-keyword">while</span> (index &lt; length) {
            ch = source[index++];
            str += ch;
            <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">'\\'</span>) {
                ch = source[index++];</pre></div></div>
            
        </li>
        
        
        <li id="section-255">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-255">&#182;</a>
              </div>
              <p>ECMA-262 7.8.5</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (isLineTerminator(ch.charCodeAt(<span class="hljs-number">0</span>))) {
                    throwError({}, Messages.UnterminatedRegExp);
                }
                str += ch;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isLineTerminator(ch.charCodeAt(<span class="hljs-number">0</span>))) {
                throwError({}, Messages.UnterminatedRegExp);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (classMarker) {
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">']'</span>) {
                    classMarker = <span class="hljs-literal">false</span>;
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">'/'</span>) {
                    terminated = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">break</span>;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">'['</span>) {
                    classMarker = <span class="hljs-literal">true</span>;
                }
            }
        }

        <span class="hljs-keyword">if</span> (!terminated) {
            throwError({}, Messages.UnterminatedRegExp);
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-256">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-256">&#182;</a>
              </div>
              <p>Exclude leading and trailing slash.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        pattern = str.substr(<span class="hljs-number">1</span>, str.length - <span class="hljs-number">2</span>);

        flags = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">while</span> (index &lt; length) {
            ch = source[index];
            <span class="hljs-keyword">if</span> (!isIdentifierPart(ch.charCodeAt(<span class="hljs-number">0</span>))) {
                <span class="hljs-keyword">break</span>;
            }

            ++index;
            <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">'\\'</span> &amp;&amp; index &lt; length) {
                ch = source[index];
                <span class="hljs-keyword">if</span> (ch === <span class="hljs-string">'u'</span>) {
                    ++index;
                    restore = index;
                    ch = scanHexEscape(<span class="hljs-string">'u'</span>);
                    <span class="hljs-keyword">if</span> (ch) {
                        flags += ch;
                        <span class="hljs-keyword">for</span> (str += <span class="hljs-string">'\\u'</span>; restore &lt; index; ++restore) {
                            str += source[restore];
                        }
                    } <span class="hljs-keyword">else</span> {
                        index = restore;
                        flags += <span class="hljs-string">'u'</span>;
                        str += <span class="hljs-string">'\\u'</span>;
                    }
                } <span class="hljs-keyword">else</span> {
                    str += <span class="hljs-string">'\\'</span>;
                }
            } <span class="hljs-keyword">else</span> {
                flags += ch;
                str += ch;
            }
        }

        <span class="hljs-keyword">try</span> {
            value = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(pattern, flags);
        } <span class="hljs-keyword">catch</span> (e) {
            throwError({}, Messages.InvalidRegExp);
        }



        <span class="hljs-keyword">if</span> (extra.tokenize) {
            <span class="hljs-keyword">return</span> {
                type: Token.RegularExpression,
                value: value,
                lineNumber: lineNumber,
                lineStart: lineStart,
                range: [start, index]
            };
        }
        <span class="hljs-keyword">return</span> {
            literal: str,
            value: value,
            range: [start, index]
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">collectRegex</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> pos, loc, regex, token;

        skipComment();

        pos = index;
        loc = {
            start: {
                line: lineNumber,
                column: index - lineStart
            }
        };

        regex = scanRegExp();
        loc.end = {
            line: lineNumber,
            column: index - lineStart
        };

        <span class="hljs-keyword">if</span> (!extra.tokenize) {</pre></div></div>
            
        </li>
        
        
        <li id="section-257">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-257">&#182;</a>
              </div>
              <p>Pop the previous token, which is likely ‘/‘ or ‘/=’</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (extra.tokens.length &gt; <span class="hljs-number">0</span>) {
                token = extra.tokens[extra.tokens.length - <span class="hljs-number">1</span>];
                <span class="hljs-keyword">if</span> (token.range[<span class="hljs-number">0</span>] === pos &amp;&amp; token.type === <span class="hljs-string">'Punctuator'</span>) {
                    <span class="hljs-keyword">if</span> (token.value === <span class="hljs-string">'/'</span> || token.value === <span class="hljs-string">'/='</span>) {
                        extra.tokens.pop();
                    }
                }
            }

            extra.tokens.push({
                type: <span class="hljs-string">'RegularExpression'</span>,
                value: regex.literal,
                range: [pos, index],
                loc: loc
            });
        }

        <span class="hljs-keyword">return</span> regex;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isIdentifierName</span>(<span class="hljs-params">token</span>) </span>{
        <span class="hljs-keyword">return</span> token.type === Token.Identifier ||
            token.type === Token.Keyword ||
            token.type === Token.BooleanLiteral ||
            token.type === Token.NullLiteral;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">advanceSlash</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> prevToken,
            checkToken;</pre></div></div>
            
        </li>
        
        
        <li id="section-258">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-258">&#182;</a>
              </div>
              <p>Using the following algorithm:
<a href="https://github.com/mozilla/sweet.js/wiki/design">https://github.com/mozilla/sweet.js/wiki/design</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        prevToken = extra.tokens[extra.tokens.length - <span class="hljs-number">1</span>];
        <span class="hljs-keyword">if</span> (!prevToken) {</pre></div></div>
            
        </li>
        
        
        <li id="section-259">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-259">&#182;</a>
              </div>
              <p>Nothing before that: it cannot be a division.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">return</span> collectRegex();
        }
        <span class="hljs-keyword">if</span> (prevToken.type === <span class="hljs-string">'Punctuator'</span>) {
            <span class="hljs-keyword">if</span> (prevToken.value === <span class="hljs-string">']'</span>) {
                <span class="hljs-keyword">return</span> scanPunctuator();
            }
            <span class="hljs-keyword">if</span> (prevToken.value === <span class="hljs-string">')'</span>) {
                checkToken = extra.tokens[extra.openParenToken - <span class="hljs-number">1</span>];
                <span class="hljs-keyword">if</span> (checkToken &amp;&amp;
                        checkToken.type === <span class="hljs-string">'Keyword'</span> &amp;&amp;
                        (checkToken.value === <span class="hljs-string">'if'</span> ||
                         checkToken.value === <span class="hljs-string">'while'</span> ||
                         checkToken.value === <span class="hljs-string">'for'</span> ||
                         checkToken.value === <span class="hljs-string">'with'</span>)) {
                    <span class="hljs-keyword">return</span> collectRegex();
                }
                <span class="hljs-keyword">return</span> scanPunctuator();
            }
            <span class="hljs-keyword">if</span> (prevToken.value === <span class="hljs-string">'}'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-260">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-260">&#182;</a>
              </div>
              <p>Dividing a function by anything makes little sense,
but we have to check for that.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (extra.tokens[extra.openCurlyToken - <span class="hljs-number">3</span>] &amp;&amp;
                        extra.tokens[extra.openCurlyToken - <span class="hljs-number">3</span>].type === <span class="hljs-string">'Keyword'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-261">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-261">&#182;</a>
              </div>
              <p>Anonymous function.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    checkToken = extra.tokens[extra.openCurlyToken - <span class="hljs-number">4</span>];
                    <span class="hljs-keyword">if</span> (!checkToken) {
                        <span class="hljs-keyword">return</span> scanPunctuator();
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (extra.tokens[extra.openCurlyToken - <span class="hljs-number">4</span>] &amp;&amp;
                        extra.tokens[extra.openCurlyToken - <span class="hljs-number">4</span>].type === <span class="hljs-string">'Keyword'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-262">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-262">&#182;</a>
              </div>
              <p>Named function.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    checkToken = extra.tokens[extra.openCurlyToken - <span class="hljs-number">5</span>];
                    <span class="hljs-keyword">if</span> (!checkToken) {
                        <span class="hljs-keyword">return</span> collectRegex();
                    }
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> scanPunctuator();
                }</pre></div></div>
            
        </li>
        
        
        <li id="section-263">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-263">&#182;</a>
              </div>
              <p>checkToken determines whether the function is
a declaration or an expression.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (FnExprTokens.indexOf(checkToken.value) &gt;= <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-264">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-264">&#182;</a>
              </div>
              <p>It is an expression.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    <span class="hljs-keyword">return</span> scanPunctuator();
                }</pre></div></div>
            
        </li>
        
        
        <li id="section-265">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-265">&#182;</a>
              </div>
              <p>It is a declaration.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">return</span> collectRegex();
            }
            <span class="hljs-keyword">return</span> collectRegex();
        }
        <span class="hljs-keyword">if</span> (prevToken.type === <span class="hljs-string">'Keyword'</span>) {
            <span class="hljs-keyword">return</span> collectRegex();
        }
        <span class="hljs-keyword">return</span> scanPunctuator();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">advance</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ch;

        skipComment();

        <span class="hljs-keyword">if</span> (index &gt;= length) {
            <span class="hljs-keyword">return</span> {
                type: Token.EOF,
                lineNumber: lineNumber,
                lineStart: lineStart,
                range: [index, index]
            };
        }

        ch = source.charCodeAt(index);</pre></div></div>
            
        </li>
        
        
        <li id="section-266">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-266">&#182;</a>
              </div>
              <p>Very common: ( and ) and ;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">0x28</span> || ch === <span class="hljs-number">0x29</span> || ch === <span class="hljs-number">0x3A</span>) {
            <span class="hljs-keyword">return</span> scanPunctuator();
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-267">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-267">&#182;</a>
              </div>
              <p>String literal starts with single quote (U+0027) or double quote (U+0022).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">0x27</span> || ch === <span class="hljs-number">0x22</span>) {
            <span class="hljs-keyword">return</span> scanStringLiteral();
        }

        <span class="hljs-keyword">if</span> (isIdentifierStart(ch)) {
            <span class="hljs-keyword">return</span> scanIdentifier();
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-268">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-268">&#182;</a>
              </div>
              <p>Dot (.) U+002E can also start a floating-point number, hence the need
to check the next character.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">0x2E</span>) {
            <span class="hljs-keyword">if</span> (isDecimalDigit(source.charCodeAt(index + <span class="hljs-number">1</span>))) {
                <span class="hljs-keyword">return</span> scanNumericLiteral();
            }
            <span class="hljs-keyword">return</span> scanPunctuator();
        }

        <span class="hljs-keyword">if</span> (isDecimalDigit(ch)) {
            <span class="hljs-keyword">return</span> scanNumericLiteral();
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-269">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-269">&#182;</a>
              </div>
              <p>Slash (/) U+002F can also start a regex.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (extra.tokenize &amp;&amp; ch === <span class="hljs-number">0x2F</span>) {
            <span class="hljs-keyword">return</span> advanceSlash();
        }

        <span class="hljs-keyword">return</span> scanPunctuator();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">collectToken</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> start, loc, token, range, value;

        skipComment();
        start = index;
        loc = {
            start: {
                line: lineNumber,
                column: index - lineStart
            }
        };

        token = advance();
        loc.end = {
            line: lineNumber,
            column: index - lineStart
        };

        <span class="hljs-keyword">if</span> (token.type !== Token.EOF) {
            range = [token.range[<span class="hljs-number">0</span>], token.range[<span class="hljs-number">1</span>]];
            value = source.slice(token.range[<span class="hljs-number">0</span>], token.range[<span class="hljs-number">1</span>]);
            extra.tokens.push({
                type: TokenName[token.type],
                value: value,
                range: range,
                loc: loc
            });
        }

        <span class="hljs-keyword">return</span> token;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lex</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> token;

        token = lookahead;
        index = token.range[<span class="hljs-number">1</span>];
        lineNumber = token.lineNumber;
        lineStart = token.lineStart;

        lookahead = (<span class="hljs-keyword">typeof</span> extra.tokens !== <span class="hljs-string">'undefined'</span>) ? collectToken() : advance();

        index = token.range[<span class="hljs-number">1</span>];
        lineNumber = token.lineNumber;
        lineStart = token.lineStart;

        <span class="hljs-keyword">return</span> token;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">peek</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> pos, line, start;

        pos = index;
        line = lineNumber;
        start = lineStart;
        lookahead = (<span class="hljs-keyword">typeof</span> extra.tokens !== <span class="hljs-string">'undefined'</span>) ? collectToken() : advance();
        index = pos;
        lineNumber = line;
        lineStart = start;
    }

    SyntaxTreeDelegate = {

        name: <span class="hljs-string">'SyntaxTree'</span>,

        markStart: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            skipComment();
            <span class="hljs-keyword">if</span> (extra.loc) {
                state.markerStack.push(index - lineStart);
                state.markerStack.push(lineNumber);
            }
            <span class="hljs-keyword">if</span> (extra.range) {
                state.markerStack.push(index);
            }
        },

        processComment: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) </span>{
            <span class="hljs-keyword">var</span> i, attacher, pos, len, candidate;

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> node.type === <span class="hljs-string">'undefined'</span> || node.type === Syntax.Program) {
                <span class="hljs-keyword">return</span>;
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-270">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-270">&#182;</a>
              </div>
              <p>Check for possible additional trailing comments.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            peek();

            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; extra.pendingComments.length; ++i) {
                attacher = extra.pendingComments[i];
                <span class="hljs-keyword">if</span> (node.range[<span class="hljs-number">0</span>] &gt;= attacher.comment.range[<span class="hljs-number">1</span>]) {
                    candidate = attacher.leading;
                    <span class="hljs-keyword">if</span> (candidate) {
                        pos = candidate.range[<span class="hljs-number">0</span>];
                        len = candidate.range[<span class="hljs-number">1</span>] - pos;
                        <span class="hljs-keyword">if</span> (node.range[<span class="hljs-number">0</span>] &lt;= pos &amp;&amp; (node.range[<span class="hljs-number">1</span>] - node.range[<span class="hljs-number">0</span>] &gt;= len)) {
                            attacher.leading = node;
                        }
                    } <span class="hljs-keyword">else</span> {
                        attacher.leading = node;
                    }
                }
                <span class="hljs-keyword">if</span> (node.range[<span class="hljs-number">1</span>] &lt;= attacher.comment.range[<span class="hljs-number">0</span>]) {
                    candidate = attacher.trailing;
                    <span class="hljs-keyword">if</span> (candidate) {
                        pos = candidate.range[<span class="hljs-number">0</span>];
                        len = candidate.range[<span class="hljs-number">1</span>] - pos;
                        <span class="hljs-keyword">if</span> (node.range[<span class="hljs-number">0</span>] &lt;= pos &amp;&amp; (node.range[<span class="hljs-number">1</span>] - node.range[<span class="hljs-number">0</span>] &gt;= len)) {
                            attacher.trailing = node;
                        }
                    } <span class="hljs-keyword">else</span> {
                        attacher.trailing = node;
                    }
                }
            }
        },

        markEnd: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) </span>{
            <span class="hljs-keyword">if</span> (extra.range) {
                node.range = [state.markerStack.pop(), index];
            }
            <span class="hljs-keyword">if</span> (extra.loc) {
                node.loc = {
                    start: {
                        line: state.markerStack.pop(),
                        column: state.markerStack.pop()
                    },
                    end: {
                        line: lineNumber,
                        column: index - lineStart
                    }
                };
                <span class="hljs-keyword">this</span>.postProcess(node);
            }
            <span class="hljs-keyword">if</span> (extra.attachComment) {
                <span class="hljs-keyword">this</span>.processComment(node);
            }
            <span class="hljs-keyword">return</span> node;
        },

        markEndIf: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) </span>{
            <span class="hljs-keyword">if</span> (node.range || node.loc) {
                <span class="hljs-keyword">if</span> (extra.loc) {
                    state.markerStack.pop();
                    state.markerStack.pop();
                }
                <span class="hljs-keyword">if</span> (extra.range) {
                    state.markerStack.pop();
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>.markEnd(node);
            }
            <span class="hljs-keyword">return</span> node;
        },

        postProcess: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) </span>{
            <span class="hljs-keyword">if</span> (extra.source) {
                node.loc.source = extra.source;
            }
            <span class="hljs-keyword">return</span> node;
        },

        createArrayExpression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">elements</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.ArrayExpression,
                elements: elements
            };
        },

        createAssignmentExpression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">operator, left, right</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.AssignmentExpression,
                operator: operator,
                left: left,
                right: right
            };
        },

        createBinaryExpression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">operator, left, right</span>) </span>{
            <span class="hljs-keyword">var</span> type = (operator === <span class="hljs-string">'||'</span> || operator === <span class="hljs-string">'&amp;&amp;'</span>) ? Syntax.LogicalExpression :
                        Syntax.BinaryExpression;
            <span class="hljs-keyword">return</span> {
                type: type,
                operator: operator,
                left: left,
                right: right
            };
        },

        createBlockStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">body</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.BlockStatement,
                body: body
            };
        },

        createBreakStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">label</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.BreakStatement,
                label: label
            };
        },

        createCallExpression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">callee, args</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.CallExpression,
                callee: callee,
                <span class="hljs-string">'arguments'</span>: args
            };
        },

        createCatchClause: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">param, body</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.CatchClause,
                param: param,
                body: body
            };
        },

        createConditionalExpression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">test, consequent, alternate</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.ConditionalExpression,
                test: test,
                consequent: consequent,
                alternate: alternate
            };
        },

        createContinueStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">label</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.ContinueStatement,
                label: label
            };
        },

        createDebuggerStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.DebuggerStatement
            };
        },

        createDoWhileStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">body, test</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.DoWhileStatement,
                body: body,
                test: test
            };
        },

        createEmptyStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.EmptyStatement
            };
        },

        createExpressionStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expression</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.ExpressionStatement,
                expression: expression
            };
        },

        createForStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">init, test, update, body</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.ForStatement,
                init: init,
                test: test,
                update: update,
                body: body
            };
        },

        createForInStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">left, right, body</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.ForInStatement,
                left: left,
                right: right,
                body: body,
                each: <span class="hljs-literal">false</span>
            };
        },

        createFunctionDeclaration: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id, params, defaults, body</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.FunctionDeclaration,
                id: id,
                params: params,
                defaults: defaults,
                body: body,
                rest: <span class="hljs-literal">null</span>,
                generator: <span class="hljs-literal">false</span>,
                expression: <span class="hljs-literal">false</span>
            };
        },

        createFunctionExpression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id, params, defaults, body</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.FunctionExpression,
                id: id,
                params: params,
                defaults: defaults,
                body: body,
                rest: <span class="hljs-literal">null</span>,
                generator: <span class="hljs-literal">false</span>,
                expression: <span class="hljs-literal">false</span>
            };
        },

        createIdentifier: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.Identifier,
                name: name
            };
        },

        createIfStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">test, consequent, alternate</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.IfStatement,
                test: test,
                consequent: consequent,
                alternate: alternate
            };
        },

        createLabeledStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">label, body</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.LabeledStatement,
                label: label,
                body: body
            };
        },

        createLiteral: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">token</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.Literal,
                value: token.value,
                raw: source.slice(token.range[<span class="hljs-number">0</span>], token.range[<span class="hljs-number">1</span>])
            };
        },

        createMemberExpression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">accessor, object, property</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.MemberExpression,
                computed: accessor === <span class="hljs-string">'['</span>,
                object: object,
                property: property
            };
        },

        createNewExpression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">callee, args</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.NewExpression,
                callee: callee,
                <span class="hljs-string">'arguments'</span>: args
            };
        },

        createObjectExpression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">properties</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.ObjectExpression,
                properties: properties
            };
        },

        createPostfixExpression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">operator, argument</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.UpdateExpression,
                operator: operator,
                argument: argument,
                prefix: <span class="hljs-literal">false</span>
            };
        },

        createProgram: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">body</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.Program,
                body: body
            };
        },

        createProperty: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">kind, key, value</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.Property,
                key: key,
                value: value,
                kind: kind
            };
        },

        createReturnStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">argument</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.ReturnStatement,
                argument: argument
            };
        },

        createSequenceExpression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expressions</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.SequenceExpression,
                expressions: expressions
            };
        },

        createSwitchCase: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">test, consequent</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.SwitchCase,
                test: test,
                consequent: consequent
            };
        },

        createSwitchStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">discriminant, cases</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.SwitchStatement,
                discriminant: discriminant,
                cases: cases
            };
        },

        createThisExpression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.ThisExpression
            };
        },

        createThrowStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">argument</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.ThrowStatement,
                argument: argument
            };
        },

        createTryStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">block, guardedHandlers, handlers, finalizer</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.TryStatement,
                block: block,
                guardedHandlers: guardedHandlers,
                handlers: handlers,
                finalizer: finalizer
            };
        },

        createUnaryExpression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">operator, argument</span>) </span>{
            <span class="hljs-keyword">if</span> (operator === <span class="hljs-string">'++'</span> || operator === <span class="hljs-string">'--'</span>) {
                <span class="hljs-keyword">return</span> {
                    type: Syntax.UpdateExpression,
                    operator: operator,
                    argument: argument,
                    prefix: <span class="hljs-literal">true</span>
                };
            }
            <span class="hljs-keyword">return</span> {
                type: Syntax.UnaryExpression,
                operator: operator,
                argument: argument,
                prefix: <span class="hljs-literal">true</span>
            };
        },

        createVariableDeclaration: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">declarations, kind</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.VariableDeclaration,
                declarations: declarations,
                kind: kind
            };
        },

        createVariableDeclarator: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id, init</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.VariableDeclarator,
                id: id,
                init: init
            };
        },

        createWhileStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">test, body</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.WhileStatement,
                test: test,
                body: body
            };
        },

        createWithStatement: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">object, body</span>) </span>{
            <span class="hljs-keyword">return</span> {
                type: Syntax.WithStatement,
                object: object,
                body: body
            };
        }
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-271">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-271">&#182;</a>
              </div>
              <p>Return true if there is a line terminator before the next token.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">peekLineTerminator</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> pos, line, start, found;

        pos = index;
        line = lineNumber;
        start = lineStart;
        skipComment();
        found = lineNumber !== line;
        index = pos;
        lineNumber = line;
        lineStart = start;

        <span class="hljs-keyword">return</span> found;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-272">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-272">&#182;</a>
              </div>
              <p>Throw an exception</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">throwError</span>(<span class="hljs-params">token, messageFormat</span>) </span>{
        <span class="hljs-keyword">var</span> error,
            args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">2</span>),
            msg = messageFormat.replace(
                <span class="hljs-regexp">/%(\d)/g</span>,
                <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">whole, index</span>) </span>{
                    assert(index &lt; args.length, <span class="hljs-string">'Message reference must be in range'</span>);
                    <span class="hljs-keyword">return</span> args[index];
                }
            );

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> token.lineNumber === <span class="hljs-string">'number'</span>) {
            error = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Line '</span> + token.lineNumber + <span class="hljs-string">': '</span> + msg);
            error.index = token.range[<span class="hljs-number">0</span>];
            error.lineNumber = token.lineNumber;
            error.column = token.range[<span class="hljs-number">0</span>] - lineStart + <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> {
            error = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Line '</span> + lineNumber + <span class="hljs-string">': '</span> + msg);
            error.index = index;
            error.lineNumber = lineNumber;
            error.column = index - lineStart + <span class="hljs-number">1</span>;
        }

        error.description = msg;
        <span class="hljs-keyword">throw</span> error;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">throwErrorTolerant</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            throwError.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>);
        } <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-keyword">if</span> (extra.errors) {
                extra.errors.push(e);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">throw</span> e;
            }
        }
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-273">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-273">&#182;</a>
              </div>
              <p>Throw an exception because of the token.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">throwUnexpected</span>(<span class="hljs-params">token</span>) </span>{
        <span class="hljs-keyword">if</span> (token.type === Token.EOF) {
            throwError(token, Messages.UnexpectedEOS);
        }

        <span class="hljs-keyword">if</span> (token.type === Token.NumericLiteral) {
            throwError(token, Messages.UnexpectedNumber);
        }

        <span class="hljs-keyword">if</span> (token.type === Token.StringLiteral) {
            throwError(token, Messages.UnexpectedString);
        }

        <span class="hljs-keyword">if</span> (token.type === Token.Identifier) {
            throwError(token, Messages.UnexpectedIdentifier);
        }

        <span class="hljs-keyword">if</span> (token.type === Token.Keyword) {
            <span class="hljs-keyword">if</span> (isFutureReservedWord(token.value)) {
                throwError(token, Messages.UnexpectedReserved);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (strict &amp;&amp; isStrictModeReservedWord(token.value)) {
                throwErrorTolerant(token, Messages.StrictReservedWord);
                <span class="hljs-keyword">return</span>;
            }
            throwError(token, Messages.UnexpectedToken, token.value);
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-274">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-274">&#182;</a>
              </div>
              <p>BooleanLiteral, NullLiteral, or Punctuator.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        throwError(token, Messages.UnexpectedToken, token.value);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-275">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-275">&#182;</a>
              </div>
              <p>Expect the next token to match the specified punctuator.
If not, an exception will be thrown.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">expect</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">var</span> token = lex();
        <span class="hljs-keyword">if</span> (token.type !== Token.Punctuator || token.value !== value) {
            throwUnexpected(token);
        }
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-276">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-276">&#182;</a>
              </div>
              <p>Expect the next token to match the specified keyword.
If not, an exception will be thrown.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">expectKeyword</span>(<span class="hljs-params">keyword</span>) </span>{
        <span class="hljs-keyword">var</span> token = lex();
        <span class="hljs-keyword">if</span> (token.type !== Token.Keyword || token.value !== keyword) {
            throwUnexpected(token);
        }
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-277">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-277">&#182;</a>
              </div>
              <p>Return true if the next token matches the specified punctuator.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">match</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">return</span> lookahead.type === Token.Punctuator &amp;&amp; lookahead.value === value;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-278">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-278">&#182;</a>
              </div>
              <p>Return true if the next token matches the specified keyword</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">matchKeyword</span>(<span class="hljs-params">keyword</span>) </span>{
        <span class="hljs-keyword">return</span> lookahead.type === Token.Keyword &amp;&amp; lookahead.value === keyword;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-279">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-279">&#182;</a>
              </div>
              <p>Return true if the next token is an assignment operator</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">matchAssign</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> op;

        <span class="hljs-keyword">if</span> (lookahead.type !== Token.Punctuator) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        op = lookahead.value;
        <span class="hljs-keyword">return</span> op === <span class="hljs-string">'='</span> ||
            op === <span class="hljs-string">'*='</span> ||
            op === <span class="hljs-string">'/='</span> ||
            op === <span class="hljs-string">'%='</span> ||
            op === <span class="hljs-string">'+='</span> ||
            op === <span class="hljs-string">'-='</span> ||
            op === <span class="hljs-string">'&lt;&lt;='</span> ||
            op === <span class="hljs-string">'&gt;&gt;='</span> ||
            op === <span class="hljs-string">'&gt;&gt;&gt;='</span> ||
            op === <span class="hljs-string">'&amp;='</span> ||
            op === <span class="hljs-string">'^='</span> ||
            op === <span class="hljs-string">'|='</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">consumeSemicolon</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> line;</pre></div></div>
            
        </li>
        
        
        <li id="section-280">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-280">&#182;</a>
              </div>
              <p>Catch the very common case first: immediately a semicolon (U+003B).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (source.charCodeAt(index) === <span class="hljs-number">0x3B</span>) {
            lex();
            <span class="hljs-keyword">return</span>;
        }

        line = lineNumber;
        skipComment();
        <span class="hljs-keyword">if</span> (lineNumber !== line) {
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">if</span> (match(<span class="hljs-string">';'</span>)) {
            lex();
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">if</span> (lookahead.type !== Token.EOF &amp;&amp; !match(<span class="hljs-string">'}'</span>)) {
            throwUnexpected(lookahead);
        }
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-281">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-281">&#182;</a>
              </div>
              <p>Return true if provided expression is LeftHandSideExpression</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isLeftHandSide</span>(<span class="hljs-params">expr</span>) </span>{
        <span class="hljs-keyword">return</span> expr.type === Syntax.Identifier || expr.type === Syntax.MemberExpression;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-282">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-282">&#182;</a>
              </div>
              <p>11.1.4 Array Initialiser</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseArrayInitialiser</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> elements = [];

        expect(<span class="hljs-string">'['</span>);

        <span class="hljs-keyword">while</span> (!match(<span class="hljs-string">']'</span>)) {
            <span class="hljs-keyword">if</span> (match(<span class="hljs-string">','</span>)) {
                lex();
                elements.push(<span class="hljs-literal">null</span>);
            } <span class="hljs-keyword">else</span> {
                elements.push(parseAssignmentExpression());

                <span class="hljs-keyword">if</span> (!match(<span class="hljs-string">']'</span>)) {
                    expect(<span class="hljs-string">','</span>);
                }
            }
        }

        expect(<span class="hljs-string">']'</span>);

        <span class="hljs-keyword">return</span> delegate.createArrayExpression(elements);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-283">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-283">&#182;</a>
              </div>
              <p>11.1.5 Object Initialiser</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parsePropertyFunction</span>(<span class="hljs-params">param, first</span>) </span>{
        <span class="hljs-keyword">var</span> previousStrict, body;

        previousStrict = strict;
        delegate.markStart();
        body = parseFunctionSourceElements();
        <span class="hljs-keyword">if</span> (first &amp;&amp; strict &amp;&amp; isRestrictedWord(param[<span class="hljs-number">0</span>].name)) {
            throwErrorTolerant(first, Messages.StrictParamName);
        }
        strict = previousStrict;
        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createFunctionExpression(<span class="hljs-literal">null</span>, param, [], body));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseObjectPropertyKey</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> token;

        delegate.markStart();
        token = lex();</pre></div></div>
            
        </li>
        
        
        <li id="section-284">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-284">&#182;</a>
              </div>
              <p>Note: This function is called only from parseObjectProperty(), where
EOF and Punctuator tokens are already filtered out.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        <span class="hljs-keyword">if</span> (token.type === Token.StringLiteral || token.type === Token.NumericLiteral) {
            <span class="hljs-keyword">if</span> (strict &amp;&amp; token.octal) {
                throwErrorTolerant(token, Messages.StrictOctalLiteral);
            }
            <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createLiteral(token));
        }

        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createIdentifier(token.value));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseObjectProperty</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> token, key, id, value, param;

        token = lookahead;
        delegate.markStart();

        <span class="hljs-keyword">if</span> (token.type === Token.Identifier) {

            id = parseObjectPropertyKey();</pre></div></div>
            
        </li>
        
        
        <li id="section-285">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-285">&#182;</a>
              </div>
              <p>Property Assignment: Getter and Setter.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
            <span class="hljs-keyword">if</span> (token.value === <span class="hljs-string">'get'</span> &amp;&amp; !match(<span class="hljs-string">':'</span>)) {
                key = parseObjectPropertyKey();
                expect(<span class="hljs-string">'('</span>);
                expect(<span class="hljs-string">')'</span>);
                value = parsePropertyFunction([]);
                <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createProperty(<span class="hljs-string">'get'</span>, key, value));
            }
            <span class="hljs-keyword">if</span> (token.value === <span class="hljs-string">'set'</span> &amp;&amp; !match(<span class="hljs-string">':'</span>)) {
                key = parseObjectPropertyKey();
                expect(<span class="hljs-string">'('</span>);
                token = lookahead;
                <span class="hljs-keyword">if</span> (token.type !== Token.Identifier) {
                    expect(<span class="hljs-string">')'</span>);
                    throwErrorTolerant(token, Messages.UnexpectedToken, token.value);
                    value = parsePropertyFunction([]);
                } <span class="hljs-keyword">else</span> {
                    param = [ parseVariableIdentifier() ];
                    expect(<span class="hljs-string">')'</span>);
                    value = parsePropertyFunction(param, token);
                }
                <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createProperty(<span class="hljs-string">'set'</span>, key, value));
            }
            expect(<span class="hljs-string">':'</span>);
            value = parseAssignmentExpression();
            <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createProperty(<span class="hljs-string">'init'</span>, id, value));
        }
        <span class="hljs-keyword">if</span> (token.type === Token.EOF || token.type === Token.Punctuator) {
            throwUnexpected(token);
        } <span class="hljs-keyword">else</span> {
            key = parseObjectPropertyKey();
            expect(<span class="hljs-string">':'</span>);
            value = parseAssignmentExpression();
            <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createProperty(<span class="hljs-string">'init'</span>, key, value));
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseObjectInitialiser</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> properties = [], property, name, key, kind, map = {}, toString = <span class="hljs-built_in">String</span>;

        expect(<span class="hljs-string">'{'</span>);

        <span class="hljs-keyword">while</span> (!match(<span class="hljs-string">'}'</span>)) {
            property = parseObjectProperty();

            <span class="hljs-keyword">if</span> (property.key.type === Syntax.Identifier) {
                name = property.key.name;
            } <span class="hljs-keyword">else</span> {
                name = toString(property.key.value);
            }
            kind = (property.kind === <span class="hljs-string">'init'</span>) ? PropertyKind.Data : (property.kind === <span class="hljs-string">'get'</span>) ? PropertyKind.Get : PropertyKind.Set;

            key = <span class="hljs-string">'$'</span> + name;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(map, key)) {
                <span class="hljs-keyword">if</span> (map[key] === PropertyKind.Data) {
                    <span class="hljs-keyword">if</span> (strict &amp;&amp; kind === PropertyKind.Data) {
                        throwErrorTolerant({}, Messages.StrictDuplicateProperty);
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (kind !== PropertyKind.Data) {
                        throwErrorTolerant({}, Messages.AccessorDataProperty);
                    }
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (kind === PropertyKind.Data) {
                        throwErrorTolerant({}, Messages.AccessorDataProperty);
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (map[key] &amp; kind) {
                        throwErrorTolerant({}, Messages.AccessorGetSet);
                    }
                }
                map[key] |= kind;
            } <span class="hljs-keyword">else</span> {
                map[key] = kind;
            }

            properties.push(property);

            <span class="hljs-keyword">if</span> (!match(<span class="hljs-string">'}'</span>)) {
                expect(<span class="hljs-string">','</span>);
            }
        }

        expect(<span class="hljs-string">'}'</span>);

        <span class="hljs-keyword">return</span> delegate.createObjectExpression(properties);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-286">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-286">&#182;</a>
              </div>
              <p>11.1.6 The Grouping Operator</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseGroupExpression</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> expr;

        expect(<span class="hljs-string">'('</span>);

        expr = parseExpression();

        expect(<span class="hljs-string">')'</span>);

        <span class="hljs-keyword">return</span> expr;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-287">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-287">&#182;</a>
              </div>
              <p>11.1 Primary Expressions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parsePrimaryExpression</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> type, token, expr;

        <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'('</span>)) {
            <span class="hljs-keyword">return</span> parseGroupExpression();
        }

        type = lookahead.type;
        delegate.markStart();

        <span class="hljs-keyword">if</span> (type === Token.Identifier) {
            expr =  delegate.createIdentifier(lex().value);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === Token.StringLiteral || type === Token.NumericLiteral) {
            <span class="hljs-keyword">if</span> (strict &amp;&amp; lookahead.octal) {
                throwErrorTolerant(lookahead, Messages.StrictOctalLiteral);
            }
            expr = delegate.createLiteral(lex());
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === Token.Keyword) {
            <span class="hljs-keyword">if</span> (matchKeyword(<span class="hljs-string">'this'</span>)) {
                lex();
                expr = delegate.createThisExpression();
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (matchKeyword(<span class="hljs-string">'function'</span>)) {
                expr = parseFunctionExpression();
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === Token.BooleanLiteral) {
            token = lex();
            token.value = (token.value === <span class="hljs-string">'true'</span>);
            expr = delegate.createLiteral(token);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === Token.NullLiteral) {
            token = lex();
            token.value = <span class="hljs-literal">null</span>;
            expr = delegate.createLiteral(token);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'['</span>)) {
            expr = parseArrayInitialiser();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'{'</span>)) {
            expr = parseObjectInitialiser();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'/'</span>) || match(<span class="hljs-string">'/='</span>)) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> extra.tokens !== <span class="hljs-string">'undefined'</span>) {
                expr = delegate.createLiteral(collectRegex());
            } <span class="hljs-keyword">else</span> {
                expr = delegate.createLiteral(scanRegExp());
            }
            peek();
        }

        <span class="hljs-keyword">if</span> (expr) {
            <span class="hljs-keyword">return</span> delegate.markEnd(expr);
        }

        throwUnexpected(lex());
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-288">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-288">&#182;</a>
              </div>
              <p>11.2 Left-Hand-Side Expressions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseArguments</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> args = [];

        expect(<span class="hljs-string">'('</span>);

        <span class="hljs-keyword">if</span> (!match(<span class="hljs-string">')'</span>)) {
            <span class="hljs-keyword">while</span> (index &lt; length) {
                args.push(parseAssignmentExpression());
                <span class="hljs-keyword">if</span> (match(<span class="hljs-string">')'</span>)) {
                    <span class="hljs-keyword">break</span>;
                }
                expect(<span class="hljs-string">','</span>);
            }
        }

        expect(<span class="hljs-string">')'</span>);

        <span class="hljs-keyword">return</span> args;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseNonComputedProperty</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> token;

        delegate.markStart();
        token = lex();

        <span class="hljs-keyword">if</span> (!isIdentifierName(token)) {
            throwUnexpected(token);
        }

        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createIdentifier(token.value));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseNonComputedMember</span>(<span class="hljs-params"></span>) </span>{
        expect(<span class="hljs-string">'.'</span>);

        <span class="hljs-keyword">return</span> parseNonComputedProperty();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseComputedMember</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> expr;

        expect(<span class="hljs-string">'['</span>);

        expr = parseExpression();

        expect(<span class="hljs-string">']'</span>);

        <span class="hljs-keyword">return</span> expr;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseNewExpression</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> callee, args;

        delegate.markStart();
        expectKeyword(<span class="hljs-string">'new'</span>);
        callee = parseLeftHandSideExpression();
        args = match(<span class="hljs-string">'('</span>) ? parseArguments() : [];

        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createNewExpression(callee, args));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseLeftHandSideExpressionAllowCall</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> marker, previousAllowIn, expr, args, property;

        marker = createLocationMarker();

        previousAllowIn = state.allowIn;
        state.allowIn = <span class="hljs-literal">true</span>;
        expr = matchKeyword(<span class="hljs-string">'new'</span>) ? parseNewExpression() : parsePrimaryExpression();
        state.allowIn = previousAllowIn;

        <span class="hljs-keyword">while</span> (match(<span class="hljs-string">'.'</span>) || match(<span class="hljs-string">'['</span>) || match(<span class="hljs-string">'('</span>)) {
            <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'('</span>)) {
                args = parseArguments();
                expr = delegate.createCallExpression(expr, args);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'['</span>)) {
                property = parseComputedMember();
                expr = delegate.createMemberExpression(<span class="hljs-string">'['</span>, expr, property);
            } <span class="hljs-keyword">else</span> {
                property = parseNonComputedMember();
                expr = delegate.createMemberExpression(<span class="hljs-string">'.'</span>, expr, property);
            }
            <span class="hljs-keyword">if</span> (marker) {
                marker.apply(expr);
            }
        }

        <span class="hljs-keyword">return</span> expr;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseLeftHandSideExpression</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> marker, previousAllowIn, expr, property;

        marker = createLocationMarker();

        previousAllowIn = state.allowIn;
        expr = matchKeyword(<span class="hljs-string">'new'</span>) ? parseNewExpression() : parsePrimaryExpression();
        state.allowIn = previousAllowIn;

        <span class="hljs-keyword">while</span> (match(<span class="hljs-string">'.'</span>) || match(<span class="hljs-string">'['</span>)) {
            <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'['</span>)) {
                property = parseComputedMember();
                expr = delegate.createMemberExpression(<span class="hljs-string">'['</span>, expr, property);
            } <span class="hljs-keyword">else</span> {
                property = parseNonComputedMember();
                expr = delegate.createMemberExpression(<span class="hljs-string">'.'</span>, expr, property);
            }
            <span class="hljs-keyword">if</span> (marker) {
                marker.apply(expr);
            }
        }

        <span class="hljs-keyword">return</span> expr;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-289">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-289">&#182;</a>
              </div>
              <p>11.3 Postfix Expressions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parsePostfixExpression</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> expr, token;

        delegate.markStart();
        expr = parseLeftHandSideExpressionAllowCall();

        <span class="hljs-keyword">if</span> (lookahead.type === Token.Punctuator) {
            <span class="hljs-keyword">if</span> ((match(<span class="hljs-string">'++'</span>) || match(<span class="hljs-string">'--'</span>)) &amp;&amp; !peekLineTerminator()) {</pre></div></div>
            
        </li>
        
        
        <li id="section-290">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-290">&#182;</a>
              </div>
              <p>11.3.1, 11.3.2</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (strict &amp;&amp; expr.type === Syntax.Identifier &amp;&amp; isRestrictedWord(expr.name)) {
                    throwErrorTolerant({}, Messages.StrictLHSPostfix);
                }

                <span class="hljs-keyword">if</span> (!isLeftHandSide(expr)) {
                    throwErrorTolerant({}, Messages.InvalidLHSInAssignment);
                }

                token = lex();
                expr = delegate.createPostfixExpression(token.value, expr);
            }
        }

        <span class="hljs-keyword">return</span> delegate.markEndIf(expr);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-291">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-291">&#182;</a>
              </div>
              <p>11.4 Unary Operators</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseUnaryExpression</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> token, expr;

        delegate.markStart();

        <span class="hljs-keyword">if</span> (lookahead.type !== Token.Punctuator &amp;&amp; lookahead.type !== Token.Keyword) {
            expr = parsePostfixExpression();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'++'</span>) || match(<span class="hljs-string">'--'</span>)) {
            token = lex();
            expr = parseUnaryExpression();</pre></div></div>
            
        </li>
        
        
        <li id="section-292">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-292">&#182;</a>
              </div>
              <p>11.4.4, 11.4.5</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (strict &amp;&amp; expr.type === Syntax.Identifier &amp;&amp; isRestrictedWord(expr.name)) {
                throwErrorTolerant({}, Messages.StrictLHSPrefix);
            }

            <span class="hljs-keyword">if</span> (!isLeftHandSide(expr)) {
                throwErrorTolerant({}, Messages.InvalidLHSInAssignment);
            }

            expr = delegate.createUnaryExpression(token.value, expr);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'+'</span>) || match(<span class="hljs-string">'-'</span>) || match(<span class="hljs-string">'~'</span>) || match(<span class="hljs-string">'!'</span>)) {
            token = lex();
            expr = parseUnaryExpression();
            expr = delegate.createUnaryExpression(token.value, expr);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (matchKeyword(<span class="hljs-string">'delete'</span>) || matchKeyword(<span class="hljs-string">'void'</span>) || matchKeyword(<span class="hljs-string">'typeof'</span>)) {
            token = lex();
            expr = parseUnaryExpression();
            expr = delegate.createUnaryExpression(token.value, expr);
            <span class="hljs-keyword">if</span> (strict &amp;&amp; expr.operator === <span class="hljs-string">'delete'</span> &amp;&amp; expr.argument.type === Syntax.Identifier) {
                throwErrorTolerant({}, Messages.StrictDelete);
            }
        } <span class="hljs-keyword">else</span> {
            expr = parsePostfixExpression();
        }

        <span class="hljs-keyword">return</span> delegate.markEndIf(expr);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">binaryPrecedence</span>(<span class="hljs-params">token, allowIn</span>) </span>{
        <span class="hljs-keyword">var</span> prec = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">if</span> (token.type !== Token.Punctuator &amp;&amp; token.type !== Token.Keyword) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }

        <span class="hljs-keyword">switch</span> (token.value) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'||'</span>:
            prec = <span class="hljs-number">1</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> <span class="hljs-string">'&amp;&amp;'</span>:
            prec = <span class="hljs-number">2</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> <span class="hljs-string">'|'</span>:
            prec = <span class="hljs-number">3</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> <span class="hljs-string">'^'</span>:
            prec = <span class="hljs-number">4</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> <span class="hljs-string">'&amp;'</span>:
            prec = <span class="hljs-number">5</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> <span class="hljs-string">'=='</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'!='</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'==='</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'!=='</span>:
            prec = <span class="hljs-number">6</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> <span class="hljs-string">'&lt;'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'&gt;'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'&lt;='</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'&gt;='</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'instanceof'</span>:
            prec = <span class="hljs-number">7</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> <span class="hljs-string">'in'</span>:
            prec = allowIn ? <span class="hljs-number">7</span> : <span class="hljs-number">0</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> <span class="hljs-string">'&lt;&lt;'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'&gt;&gt;'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'&gt;&gt;&gt;'</span>:
            prec = <span class="hljs-number">8</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> <span class="hljs-string">'+'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'-'</span>:
            prec = <span class="hljs-number">9</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> <span class="hljs-string">'*'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'/'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'%'</span>:
            prec = <span class="hljs-number">11</span>;
            <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">break</span>;
        }

        <span class="hljs-keyword">return</span> prec;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-293">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-293">&#182;</a>
              </div>
              <p>11.5 Multiplicative Operators
11.6 Additive Operators
11.7 Bitwise Shift Operators
11.8 Relational Operators
11.9 Equality Operators
11.10 Binary Bitwise Operators
11.11 Binary Logical Operators</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseBinaryExpression</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> marker, markers, expr, token, prec, stack, right, operator, left, i;

        marker = createLocationMarker();
        left = parseUnaryExpression();

        token = lookahead;
        prec = binaryPrecedence(token, state.allowIn);
        <span class="hljs-keyword">if</span> (prec === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> left;
        }
        token.prec = prec;
        lex();

        markers = [marker, createLocationMarker()];
        right = parseUnaryExpression();

        stack = [left, token, right];

        <span class="hljs-keyword">while</span> ((prec = binaryPrecedence(lookahead, state.allowIn)) &gt; <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-294">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-294">&#182;</a>
              </div>
              <p>Reduce: make a binary expression from the three topmost entries.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">while</span> ((stack.length &gt; <span class="hljs-number">2</span>) &amp;&amp; (prec &lt;= stack[stack.length - <span class="hljs-number">2</span>].prec)) {
                right = stack.pop();
                operator = stack.pop().value;
                left = stack.pop();
                expr = delegate.createBinaryExpression(operator, left, right);
                markers.pop();
                marker = markers.pop();
                <span class="hljs-keyword">if</span> (marker) {
                    marker.apply(expr);
                }
                stack.push(expr);
                markers.push(marker);
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-295">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-295">&#182;</a>
              </div>
              <p>Shift.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            token = lex();
            token.prec = prec;
            stack.push(token);
            markers.push(createLocationMarker());
            expr = parseUnaryExpression();
            stack.push(expr);
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-296">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-296">&#182;</a>
              </div>
              <p>Final reduce to clean-up the stack.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        i = stack.length - <span class="hljs-number">1</span>;
        expr = stack[i];
        markers.pop();
        <span class="hljs-keyword">while</span> (i &gt; <span class="hljs-number">1</span>) {
            expr = delegate.createBinaryExpression(stack[i - <span class="hljs-number">1</span>].value, stack[i - <span class="hljs-number">2</span>], expr);
            i -= <span class="hljs-number">2</span>;
            marker = markers.pop();
            <span class="hljs-keyword">if</span> (marker) {
                marker.apply(expr);
            }
        }

        <span class="hljs-keyword">return</span> expr;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-297">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-297">&#182;</a>
              </div>
              <p>11.12 Conditional Operator</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseConditionalExpression</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> expr, previousAllowIn, consequent, alternate;

        delegate.markStart();
        expr = parseBinaryExpression();

        <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'?'</span>)) {
            lex();
            previousAllowIn = state.allowIn;
            state.allowIn = <span class="hljs-literal">true</span>;
            consequent = parseAssignmentExpression();
            state.allowIn = previousAllowIn;
            expect(<span class="hljs-string">':'</span>);
            alternate = parseAssignmentExpression();

            expr = delegate.markEnd(delegate.createConditionalExpression(expr, consequent, alternate));
        } <span class="hljs-keyword">else</span> {
            delegate.markEnd({});
        }

        <span class="hljs-keyword">return</span> expr;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-298">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-298">&#182;</a>
              </div>
              <p>11.13 Assignment Operators</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseAssignmentExpression</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> token, left, right, node;

        token = lookahead;
        delegate.markStart();
        node = left = parseConditionalExpression();

        <span class="hljs-keyword">if</span> (matchAssign()) {</pre></div></div>
            
        </li>
        
        
        <li id="section-299">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-299">&#182;</a>
              </div>
              <p>LeftHandSideExpression</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (!isLeftHandSide(left)) {
                throwErrorTolerant({}, Messages.InvalidLHSInAssignment);
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-300">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-300">&#182;</a>
              </div>
              <p>11.13.1</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (strict &amp;&amp; left.type === Syntax.Identifier &amp;&amp; isRestrictedWord(left.name)) {
                throwErrorTolerant(token, Messages.StrictLHSAssignment);
            }

            token = lex();
            right = parseAssignmentExpression();
            node = delegate.createAssignmentExpression(token.value, left, right);
        }

        <span class="hljs-keyword">return</span> delegate.markEndIf(node);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-301">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-301">&#182;</a>
              </div>
              <p>11.14 Comma Operator</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseExpression</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> expr;

        delegate.markStart();
        expr = parseAssignmentExpression();

        <span class="hljs-keyword">if</span> (match(<span class="hljs-string">','</span>)) {
            expr = delegate.createSequenceExpression([ expr ]);

            <span class="hljs-keyword">while</span> (index &lt; length) {
                <span class="hljs-keyword">if</span> (!match(<span class="hljs-string">','</span>)) {
                    <span class="hljs-keyword">break</span>;
                }
                lex();
                expr.expressions.push(parseAssignmentExpression());
            }
        }

        <span class="hljs-keyword">return</span> delegate.markEndIf(expr);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-302">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-302">&#182;</a>
              </div>
              <p>12.1 Block</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseStatementList</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> list = [],
            statement;

        <span class="hljs-keyword">while</span> (index &lt; length) {
            <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'}'</span>)) {
                <span class="hljs-keyword">break</span>;
            }
            statement = parseSourceElement();
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> statement === <span class="hljs-string">'undefined'</span>) {
                <span class="hljs-keyword">break</span>;
            }
            list.push(statement);
        }

        <span class="hljs-keyword">return</span> list;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseBlock</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> block;

        delegate.markStart();
        expect(<span class="hljs-string">'{'</span>);

        block = parseStatementList();

        expect(<span class="hljs-string">'}'</span>);

        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createBlockStatement(block));
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-303">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-303">&#182;</a>
              </div>
              <p>12.2 Variable Statement</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseVariableIdentifier</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> token;

        delegate.markStart();
        token = lex();

        <span class="hljs-keyword">if</span> (token.type !== Token.Identifier) {
            throwUnexpected(token);
        }

        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createIdentifier(token.value));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseVariableDeclaration</span>(<span class="hljs-params">kind</span>) </span>{
        <span class="hljs-keyword">var</span> init = <span class="hljs-literal">null</span>, id;

        delegate.markStart();
        id = parseVariableIdentifier();</pre></div></div>
            
        </li>
        
        
        <li id="section-304">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-304">&#182;</a>
              </div>
              <p>12.2.1</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (strict &amp;&amp; isRestrictedWord(id.name)) {
            throwErrorTolerant({}, Messages.StrictVarName);
        }

        <span class="hljs-keyword">if</span> (kind === <span class="hljs-string">'const'</span>) {
            expect(<span class="hljs-string">'='</span>);
            init = parseAssignmentExpression();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'='</span>)) {
            lex();
            init = parseAssignmentExpression();
        }

        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createVariableDeclarator(id, init));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseVariableDeclarationList</span>(<span class="hljs-params">kind</span>) </span>{
        <span class="hljs-keyword">var</span> list = [];

        <span class="hljs-keyword">do</span> {
            list.push(parseVariableDeclaration(kind));
            <span class="hljs-keyword">if</span> (!match(<span class="hljs-string">','</span>)) {
                <span class="hljs-keyword">break</span>;
            }
            lex();
        } <span class="hljs-keyword">while</span> (index &lt; length);

        <span class="hljs-keyword">return</span> list;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseVariableStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> declarations;

        expectKeyword(<span class="hljs-string">'var'</span>);

        declarations = parseVariableDeclarationList();

        consumeSemicolon();

        <span class="hljs-keyword">return</span> delegate.createVariableDeclaration(declarations, <span class="hljs-string">'var'</span>);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-305">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-305">&#182;</a>
              </div>
              <p>kind may be <code>const</code> or <code>let</code>
Both are experimental and not in the specification yet.
see <a href="http://wiki.ecmascript.org/doku.php?id=harmony:const">http://wiki.ecmascript.org/doku.php?id=harmony:const</a>
and <a href="http://wiki.ecmascript.org/doku.php?id=harmony:let">http://wiki.ecmascript.org/doku.php?id=harmony:let</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseConstLetDeclaration</span>(<span class="hljs-params">kind</span>) </span>{
        <span class="hljs-keyword">var</span> declarations;

        delegate.markStart();

        expectKeyword(kind);

        declarations = parseVariableDeclarationList(kind);

        consumeSemicolon();

        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createVariableDeclaration(declarations, kind));
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-306">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-306">&#182;</a>
              </div>
              <p>12.3 Empty Statement</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseEmptyStatement</span>(<span class="hljs-params"></span>) </span>{
        expect(<span class="hljs-string">';'</span>);
        <span class="hljs-keyword">return</span> delegate.createEmptyStatement();
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-307">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-307">&#182;</a>
              </div>
              <p>12.4 Expression Statement</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseExpressionStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> expr = parseExpression();
        consumeSemicolon();
        <span class="hljs-keyword">return</span> delegate.createExpressionStatement(expr);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-308">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-308">&#182;</a>
              </div>
              <p>12.5 If statement</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseIfStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> test, consequent, alternate;

        expectKeyword(<span class="hljs-string">'if'</span>);

        expect(<span class="hljs-string">'('</span>);

        test = parseExpression();

        expect(<span class="hljs-string">')'</span>);

        consequent = parseStatement();

        <span class="hljs-keyword">if</span> (matchKeyword(<span class="hljs-string">'else'</span>)) {
            lex();
            alternate = parseStatement();
        } <span class="hljs-keyword">else</span> {
            alternate = <span class="hljs-literal">null</span>;
        }

        <span class="hljs-keyword">return</span> delegate.createIfStatement(test, consequent, alternate);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-309">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-309">&#182;</a>
              </div>
              <p>12.6 Iteration Statements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseDoWhileStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> body, test, oldInIteration;

        expectKeyword(<span class="hljs-string">'do'</span>);

        oldInIteration = state.inIteration;
        state.inIteration = <span class="hljs-literal">true</span>;

        body = parseStatement();

        state.inIteration = oldInIteration;

        expectKeyword(<span class="hljs-string">'while'</span>);

        expect(<span class="hljs-string">'('</span>);

        test = parseExpression();

        expect(<span class="hljs-string">')'</span>);

        <span class="hljs-keyword">if</span> (match(<span class="hljs-string">';'</span>)) {
            lex();
        }

        <span class="hljs-keyword">return</span> delegate.createDoWhileStatement(body, test);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseWhileStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> test, body, oldInIteration;

        expectKeyword(<span class="hljs-string">'while'</span>);

        expect(<span class="hljs-string">'('</span>);

        test = parseExpression();

        expect(<span class="hljs-string">')'</span>);

        oldInIteration = state.inIteration;
        state.inIteration = <span class="hljs-literal">true</span>;

        body = parseStatement();

        state.inIteration = oldInIteration;

        <span class="hljs-keyword">return</span> delegate.createWhileStatement(test, body);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseForVariableDeclaration</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> token, declarations;

        delegate.markStart();
        token = lex();
        declarations = parseVariableDeclarationList();

        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createVariableDeclaration(declarations, token.value));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseForStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> init, test, update, left, right, body, oldInIteration;

        init = test = update = <span class="hljs-literal">null</span>;

        expectKeyword(<span class="hljs-string">'for'</span>);

        expect(<span class="hljs-string">'('</span>);

        <span class="hljs-keyword">if</span> (match(<span class="hljs-string">';'</span>)) {
            lex();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (matchKeyword(<span class="hljs-string">'var'</span>) || matchKeyword(<span class="hljs-string">'let'</span>)) {
                state.allowIn = <span class="hljs-literal">false</span>;
                init = parseForVariableDeclaration();
                state.allowIn = <span class="hljs-literal">true</span>;

                <span class="hljs-keyword">if</span> (init.declarations.length === <span class="hljs-number">1</span> &amp;&amp; matchKeyword(<span class="hljs-string">'in'</span>)) {
                    lex();
                    left = init;
                    right = parseExpression();
                    init = <span class="hljs-literal">null</span>;
                }
            } <span class="hljs-keyword">else</span> {
                state.allowIn = <span class="hljs-literal">false</span>;
                init = parseExpression();
                state.allowIn = <span class="hljs-literal">true</span>;

                <span class="hljs-keyword">if</span> (matchKeyword(<span class="hljs-string">'in'</span>)) {</pre></div></div>
            
        </li>
        
        
        <li id="section-310">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-310">&#182;</a>
              </div>
              <p>LeftHandSideExpression</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    <span class="hljs-keyword">if</span> (!isLeftHandSide(init)) {
                        throwErrorTolerant({}, Messages.InvalidLHSInForIn);
                    }

                    lex();
                    left = init;
                    right = parseExpression();
                    init = <span class="hljs-literal">null</span>;
                }
            }

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> left === <span class="hljs-string">'undefined'</span>) {
                expect(<span class="hljs-string">';'</span>);
            }
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> left === <span class="hljs-string">'undefined'</span>) {

            <span class="hljs-keyword">if</span> (!match(<span class="hljs-string">';'</span>)) {
                test = parseExpression();
            }
            expect(<span class="hljs-string">';'</span>);

            <span class="hljs-keyword">if</span> (!match(<span class="hljs-string">')'</span>)) {
                update = parseExpression();
            }
        }

        expect(<span class="hljs-string">')'</span>);

        oldInIteration = state.inIteration;
        state.inIteration = <span class="hljs-literal">true</span>;

        body = parseStatement();

        state.inIteration = oldInIteration;

        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">typeof</span> left === <span class="hljs-string">'undefined'</span>) ?
                delegate.createForStatement(init, test, update, body) :
                delegate.createForInStatement(left, right, body);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-311">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-311">&#182;</a>
              </div>
              <p>12.7 The continue statement</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseContinueStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> label = <span class="hljs-literal">null</span>, key;

        expectKeyword(<span class="hljs-string">'continue'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-312">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-312">&#182;</a>
              </div>
              <p>Optimize the most common form: ‘continue;’.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (source.charCodeAt(index) === <span class="hljs-number">0x3B</span>) {
            lex();

            <span class="hljs-keyword">if</span> (!state.inIteration) {
                throwError({}, Messages.IllegalContinue);
            }

            <span class="hljs-keyword">return</span> delegate.createContinueStatement(<span class="hljs-literal">null</span>);
        }

        <span class="hljs-keyword">if</span> (peekLineTerminator()) {
            <span class="hljs-keyword">if</span> (!state.inIteration) {
                throwError({}, Messages.IllegalContinue);
            }

            <span class="hljs-keyword">return</span> delegate.createContinueStatement(<span class="hljs-literal">null</span>);
        }

        <span class="hljs-keyword">if</span> (lookahead.type === Token.Identifier) {
            label = parseVariableIdentifier();

            key = <span class="hljs-string">'$'</span> + label.name;
            <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(state.labelSet, key)) {
                throwError({}, Messages.UnknownLabel, label.name);
            }
        }

        consumeSemicolon();

        <span class="hljs-keyword">if</span> (label === <span class="hljs-literal">null</span> &amp;&amp; !state.inIteration) {
            throwError({}, Messages.IllegalContinue);
        }

        <span class="hljs-keyword">return</span> delegate.createContinueStatement(label);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-313">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-313">&#182;</a>
              </div>
              <p>12.8 The break statement</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseBreakStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> label = <span class="hljs-literal">null</span>, key;

        expectKeyword(<span class="hljs-string">'break'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-314">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-314">&#182;</a>
              </div>
              <p>Catch the very common case first: immediately a semicolon (U+003B).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (source.charCodeAt(index) === <span class="hljs-number">0x3B</span>) {
            lex();

            <span class="hljs-keyword">if</span> (!(state.inIteration || state.inSwitch)) {
                throwError({}, Messages.IllegalBreak);
            }

            <span class="hljs-keyword">return</span> delegate.createBreakStatement(<span class="hljs-literal">null</span>);
        }

        <span class="hljs-keyword">if</span> (peekLineTerminator()) {
            <span class="hljs-keyword">if</span> (!(state.inIteration || state.inSwitch)) {
                throwError({}, Messages.IllegalBreak);
            }

            <span class="hljs-keyword">return</span> delegate.createBreakStatement(<span class="hljs-literal">null</span>);
        }

        <span class="hljs-keyword">if</span> (lookahead.type === Token.Identifier) {
            label = parseVariableIdentifier();

            key = <span class="hljs-string">'$'</span> + label.name;
            <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(state.labelSet, key)) {
                throwError({}, Messages.UnknownLabel, label.name);
            }
        }

        consumeSemicolon();

        <span class="hljs-keyword">if</span> (label === <span class="hljs-literal">null</span> &amp;&amp; !(state.inIteration || state.inSwitch)) {
            throwError({}, Messages.IllegalBreak);
        }

        <span class="hljs-keyword">return</span> delegate.createBreakStatement(label);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-315">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-315">&#182;</a>
              </div>
              <p>12.9 The return statement</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseReturnStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> argument = <span class="hljs-literal">null</span>;

        expectKeyword(<span class="hljs-string">'return'</span>);

        <span class="hljs-keyword">if</span> (!state.inFunctionBody) {
            throwErrorTolerant({}, Messages.IllegalReturn);
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-316">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-316">&#182;</a>
              </div>
              <p>‘return’ followed by a space and an identifier is very common.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (source.charCodeAt(index) === <span class="hljs-number">0x20</span>) {
            <span class="hljs-keyword">if</span> (isIdentifierStart(source.charCodeAt(index + <span class="hljs-number">1</span>))) {
                argument = parseExpression();
                consumeSemicolon();
                <span class="hljs-keyword">return</span> delegate.createReturnStatement(argument);
            }
        }

        <span class="hljs-keyword">if</span> (peekLineTerminator()) {
            <span class="hljs-keyword">return</span> delegate.createReturnStatement(<span class="hljs-literal">null</span>);
        }

        <span class="hljs-keyword">if</span> (!match(<span class="hljs-string">';'</span>)) {
            <span class="hljs-keyword">if</span> (!match(<span class="hljs-string">'}'</span>) &amp;&amp; lookahead.type !== Token.EOF) {
                argument = parseExpression();
            }
        }

        consumeSemicolon();

        <span class="hljs-keyword">return</span> delegate.createReturnStatement(argument);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-317">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-317">&#182;</a>
              </div>
              <p>12.10 The with statement</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseWithStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> object, body;

        <span class="hljs-keyword">if</span> (strict) {
            throwErrorTolerant({}, Messages.StrictModeWith);
        }

        expectKeyword(<span class="hljs-string">'with'</span>);

        expect(<span class="hljs-string">'('</span>);

        object = parseExpression();

        expect(<span class="hljs-string">')'</span>);

        body = parseStatement();

        <span class="hljs-keyword">return</span> delegate.createWithStatement(object, body);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-318">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-318">&#182;</a>
              </div>
              <p>12.10 The swith statement</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseSwitchCase</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> test,
            consequent = [],
            statement;

        delegate.markStart();
        <span class="hljs-keyword">if</span> (matchKeyword(<span class="hljs-string">'default'</span>)) {
            lex();
            test = <span class="hljs-literal">null</span>;
        } <span class="hljs-keyword">else</span> {
            expectKeyword(<span class="hljs-string">'case'</span>);
            test = parseExpression();
        }
        expect(<span class="hljs-string">':'</span>);

        <span class="hljs-keyword">while</span> (index &lt; length) {
            <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'}'</span>) || matchKeyword(<span class="hljs-string">'default'</span>) || matchKeyword(<span class="hljs-string">'case'</span>)) {
                <span class="hljs-keyword">break</span>;
            }
            statement = parseStatement();
            consequent.push(statement);
        }

        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createSwitchCase(test, consequent));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseSwitchStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> discriminant, cases, clause, oldInSwitch, defaultFound;

        expectKeyword(<span class="hljs-string">'switch'</span>);

        expect(<span class="hljs-string">'('</span>);

        discriminant = parseExpression();

        expect(<span class="hljs-string">')'</span>);

        expect(<span class="hljs-string">'{'</span>);

        cases = [];

        <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'}'</span>)) {
            lex();
            <span class="hljs-keyword">return</span> delegate.createSwitchStatement(discriminant, cases);
        }

        oldInSwitch = state.inSwitch;
        state.inSwitch = <span class="hljs-literal">true</span>;
        defaultFound = <span class="hljs-literal">false</span>;

        <span class="hljs-keyword">while</span> (index &lt; length) {
            <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'}'</span>)) {
                <span class="hljs-keyword">break</span>;
            }
            clause = parseSwitchCase();
            <span class="hljs-keyword">if</span> (clause.test === <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (defaultFound) {
                    throwError({}, Messages.MultipleDefaultsInSwitch);
                }
                defaultFound = <span class="hljs-literal">true</span>;
            }
            cases.push(clause);
        }

        state.inSwitch = oldInSwitch;

        expect(<span class="hljs-string">'}'</span>);

        <span class="hljs-keyword">return</span> delegate.createSwitchStatement(discriminant, cases);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-319">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-319">&#182;</a>
              </div>
              <p>12.13 The throw statement</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseThrowStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> argument;

        expectKeyword(<span class="hljs-string">'throw'</span>);

        <span class="hljs-keyword">if</span> (peekLineTerminator()) {
            throwError({}, Messages.NewlineAfterThrow);
        }

        argument = parseExpression();

        consumeSemicolon();

        <span class="hljs-keyword">return</span> delegate.createThrowStatement(argument);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-320">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-320">&#182;</a>
              </div>
              <p>12.14 The try statement</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseCatchClause</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> param, body;

        delegate.markStart();
        expectKeyword(<span class="hljs-string">'catch'</span>);

        expect(<span class="hljs-string">'('</span>);
        <span class="hljs-keyword">if</span> (match(<span class="hljs-string">')'</span>)) {
            throwUnexpected(lookahead);
        }

        param = parseVariableIdentifier();</pre></div></div>
            
        </li>
        
        
        <li id="section-321">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-321">&#182;</a>
              </div>
              <p>12.14.1</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (strict &amp;&amp; isRestrictedWord(param.name)) {
            throwErrorTolerant({}, Messages.StrictCatchVariable);
        }

        expect(<span class="hljs-string">')'</span>);
        body = parseBlock();
        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createCatchClause(param, body));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseTryStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> block, handlers = [], finalizer = <span class="hljs-literal">null</span>;

        expectKeyword(<span class="hljs-string">'try'</span>);

        block = parseBlock();

        <span class="hljs-keyword">if</span> (matchKeyword(<span class="hljs-string">'catch'</span>)) {
            handlers.push(parseCatchClause());
        }

        <span class="hljs-keyword">if</span> (matchKeyword(<span class="hljs-string">'finally'</span>)) {
            lex();
            finalizer = parseBlock();
        }

        <span class="hljs-keyword">if</span> (handlers.length === <span class="hljs-number">0</span> &amp;&amp; !finalizer) {
            throwError({}, Messages.NoCatchOrFinally);
        }

        <span class="hljs-keyword">return</span> delegate.createTryStatement(block, [], handlers, finalizer);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-322">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-322">&#182;</a>
              </div>
              <p>12.15 The debugger statement</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseDebuggerStatement</span>(<span class="hljs-params"></span>) </span>{
        expectKeyword(<span class="hljs-string">'debugger'</span>);

        consumeSemicolon();

        <span class="hljs-keyword">return</span> delegate.createDebuggerStatement();
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-323">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-323">&#182;</a>
              </div>
              <p>12 Statements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseStatement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> type = lookahead.type,
            expr,
            labeledBody,
            key;

        <span class="hljs-keyword">if</span> (type === Token.EOF) {
            throwUnexpected(lookahead);
        }

        delegate.markStart();

        <span class="hljs-keyword">if</span> (type === Token.Punctuator) {
            <span class="hljs-keyword">switch</span> (lookahead.value) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">';'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseEmptyStatement());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'{'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseBlock());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'('</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseExpressionStatement());
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">break</span>;
            }
        }

        <span class="hljs-keyword">if</span> (type === Token.Keyword) {
            <span class="hljs-keyword">switch</span> (lookahead.value) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'break'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseBreakStatement());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'continue'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseContinueStatement());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'debugger'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseDebuggerStatement());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'do'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseDoWhileStatement());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'for'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseForStatement());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'function'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseFunctionDeclaration());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'if'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseIfStatement());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'return'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseReturnStatement());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'switch'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseSwitchStatement());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'throw'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseThrowStatement());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'try'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseTryStatement());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'var'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseVariableStatement());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'while'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseWhileStatement());
            <span class="hljs-keyword">case</span> <span class="hljs-string">'with'</span>:
                <span class="hljs-keyword">return</span> delegate.markEnd(parseWithStatement());
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">break</span>;
            }
        }

        expr = parseExpression();</pre></div></div>
            
        </li>
        
        
        <li id="section-324">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-324">&#182;</a>
              </div>
              <p>12.12 Labelled Statements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> ((expr.type === Syntax.Identifier) &amp;&amp; match(<span class="hljs-string">':'</span>)) {
            lex();

            key = <span class="hljs-string">'$'</span> + expr.name;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(state.labelSet, key)) {
                throwError({}, Messages.Redeclaration, <span class="hljs-string">'Label'</span>, expr.name);
            }

            state.labelSet[key] = <span class="hljs-literal">true</span>;
            labeledBody = parseStatement();
            <span class="hljs-keyword">delete</span> state.labelSet[key];
            <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createLabeledStatement(expr, labeledBody));
        }

        consumeSemicolon();

        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createExpressionStatement(expr));
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-325">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-325">&#182;</a>
              </div>
              <p>13 Function Definition</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseFunctionSourceElements</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> sourceElement, sourceElements = [], token, directive, firstRestricted,
            oldLabelSet, oldInIteration, oldInSwitch, oldInFunctionBody;

        delegate.markStart();
        expect(<span class="hljs-string">'{'</span>);

        <span class="hljs-keyword">while</span> (index &lt; length) {
            <span class="hljs-keyword">if</span> (lookahead.type !== Token.StringLiteral) {
                <span class="hljs-keyword">break</span>;
            }
            token = lookahead;

            sourceElement = parseSourceElement();
            sourceElements.push(sourceElement);
            <span class="hljs-keyword">if</span> (sourceElement.expression.type !== Syntax.Literal) {</pre></div></div>
            
        </li>
        
        
        <li id="section-326">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-326">&#182;</a>
              </div>
              <p>this is not directive</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">break</span>;
            }
            directive = source.slice(token.range[<span class="hljs-number">0</span>] + <span class="hljs-number">1</span>, token.range[<span class="hljs-number">1</span>] - <span class="hljs-number">1</span>);
            <span class="hljs-keyword">if</span> (directive === <span class="hljs-string">'use strict'</span>) {
                strict = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span> (firstRestricted) {
                    throwErrorTolerant(firstRestricted, Messages.StrictOctalLiteral);
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (!firstRestricted &amp;&amp; token.octal) {
                    firstRestricted = token;
                }
            }
        }

        oldLabelSet = state.labelSet;
        oldInIteration = state.inIteration;
        oldInSwitch = state.inSwitch;
        oldInFunctionBody = state.inFunctionBody;

        state.labelSet = {};
        state.inIteration = <span class="hljs-literal">false</span>;
        state.inSwitch = <span class="hljs-literal">false</span>;
        state.inFunctionBody = <span class="hljs-literal">true</span>;

        <span class="hljs-keyword">while</span> (index &lt; length) {
            <span class="hljs-keyword">if</span> (match(<span class="hljs-string">'}'</span>)) {
                <span class="hljs-keyword">break</span>;
            }
            sourceElement = parseSourceElement();
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> sourceElement === <span class="hljs-string">'undefined'</span>) {
                <span class="hljs-keyword">break</span>;
            }
            sourceElements.push(sourceElement);
        }

        expect(<span class="hljs-string">'}'</span>);

        state.labelSet = oldLabelSet;
        state.inIteration = oldInIteration;
        state.inSwitch = oldInSwitch;
        state.inFunctionBody = oldInFunctionBody;

        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createBlockStatement(sourceElements));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseParams</span>(<span class="hljs-params">firstRestricted</span>) </span>{
        <span class="hljs-keyword">var</span> param, params = [], token, stricted, paramSet, key, message;
        expect(<span class="hljs-string">'('</span>);

        <span class="hljs-keyword">if</span> (!match(<span class="hljs-string">')'</span>)) {
            paramSet = {};
            <span class="hljs-keyword">while</span> (index &lt; length) {
                token = lookahead;
                param = parseVariableIdentifier();
                key = <span class="hljs-string">'$'</span> + token.value;
                <span class="hljs-keyword">if</span> (strict) {
                    <span class="hljs-keyword">if</span> (isRestrictedWord(token.value)) {
                        stricted = token;
                        message = Messages.StrictParamName;
                    }
                    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(paramSet, key)) {
                        stricted = token;
                        message = Messages.StrictParamDupe;
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!firstRestricted) {
                    <span class="hljs-keyword">if</span> (isRestrictedWord(token.value)) {
                        firstRestricted = token;
                        message = Messages.StrictParamName;
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isStrictModeReservedWord(token.value)) {
                        firstRestricted = token;
                        message = Messages.StrictReservedWord;
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(paramSet, key)) {
                        firstRestricted = token;
                        message = Messages.StrictParamDupe;
                    }
                }
                params.push(param);
                paramSet[key] = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span> (match(<span class="hljs-string">')'</span>)) {
                    <span class="hljs-keyword">break</span>;
                }
                expect(<span class="hljs-string">','</span>);
            }
        }

        expect(<span class="hljs-string">')'</span>);

        <span class="hljs-keyword">return</span> {
            params: params,
            stricted: stricted,
            firstRestricted: firstRestricted,
            message: message
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseFunctionDeclaration</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> id, params = [], body, token, stricted, tmp, firstRestricted, message, previousStrict;

        delegate.markStart();

        expectKeyword(<span class="hljs-string">'function'</span>);
        token = lookahead;
        id = parseVariableIdentifier();
        <span class="hljs-keyword">if</span> (strict) {
            <span class="hljs-keyword">if</span> (isRestrictedWord(token.value)) {
                throwErrorTolerant(token, Messages.StrictFunctionName);
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (isRestrictedWord(token.value)) {
                firstRestricted = token;
                message = Messages.StrictFunctionName;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isStrictModeReservedWord(token.value)) {
                firstRestricted = token;
                message = Messages.StrictReservedWord;
            }
        }

        tmp = parseParams(firstRestricted);
        params = tmp.params;
        stricted = tmp.stricted;
        firstRestricted = tmp.firstRestricted;
        <span class="hljs-keyword">if</span> (tmp.message) {
            message = tmp.message;
        }

        previousStrict = strict;
        body = parseFunctionSourceElements();
        <span class="hljs-keyword">if</span> (strict &amp;&amp; firstRestricted) {
            throwError(firstRestricted, message);
        }
        <span class="hljs-keyword">if</span> (strict &amp;&amp; stricted) {
            throwErrorTolerant(stricted, message);
        }
        strict = previousStrict;

        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createFunctionDeclaration(id, params, [], body));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseFunctionExpression</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> token, id = <span class="hljs-literal">null</span>, stricted, firstRestricted, message, tmp, params = [], body, previousStrict;

        delegate.markStart();
        expectKeyword(<span class="hljs-string">'function'</span>);

        <span class="hljs-keyword">if</span> (!match(<span class="hljs-string">'('</span>)) {
            token = lookahead;
            id = parseVariableIdentifier();
            <span class="hljs-keyword">if</span> (strict) {
                <span class="hljs-keyword">if</span> (isRestrictedWord(token.value)) {
                    throwErrorTolerant(token, Messages.StrictFunctionName);
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (isRestrictedWord(token.value)) {
                    firstRestricted = token;
                    message = Messages.StrictFunctionName;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isStrictModeReservedWord(token.value)) {
                    firstRestricted = token;
                    message = Messages.StrictReservedWord;
                }
            }
        }

        tmp = parseParams(firstRestricted);
        params = tmp.params;
        stricted = tmp.stricted;
        firstRestricted = tmp.firstRestricted;
        <span class="hljs-keyword">if</span> (tmp.message) {
            message = tmp.message;
        }

        previousStrict = strict;
        body = parseFunctionSourceElements();
        <span class="hljs-keyword">if</span> (strict &amp;&amp; firstRestricted) {
            throwError(firstRestricted, message);
        }
        <span class="hljs-keyword">if</span> (strict &amp;&amp; stricted) {
            throwErrorTolerant(stricted, message);
        }
        strict = previousStrict;

        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createFunctionExpression(id, params, [], body));
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-327">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-327">&#182;</a>
              </div>
              <p>14 Program</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseSourceElement</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (lookahead.type === Token.Keyword) {
            <span class="hljs-keyword">switch</span> (lookahead.value) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'const'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'let'</span>:
                <span class="hljs-keyword">return</span> parseConstLetDeclaration(lookahead.value);
            <span class="hljs-keyword">case</span> <span class="hljs-string">'function'</span>:
                <span class="hljs-keyword">return</span> parseFunctionDeclaration();
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">return</span> parseStatement();
            }
        }

        <span class="hljs-keyword">if</span> (lookahead.type !== Token.EOF) {
            <span class="hljs-keyword">return</span> parseStatement();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseSourceElements</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> sourceElement, sourceElements = [], token, directive, firstRestricted;

        <span class="hljs-keyword">while</span> (index &lt; length) {
            token = lookahead;
            <span class="hljs-keyword">if</span> (token.type !== Token.StringLiteral) {
                <span class="hljs-keyword">break</span>;
            }

            sourceElement = parseSourceElement();
            sourceElements.push(sourceElement);
            <span class="hljs-keyword">if</span> (sourceElement.expression.type !== Syntax.Literal) {</pre></div></div>
            
        </li>
        
        
        <li id="section-328">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-328">&#182;</a>
              </div>
              <p>this is not directive</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">break</span>;
            }
            directive = source.slice(token.range[<span class="hljs-number">0</span>] + <span class="hljs-number">1</span>, token.range[<span class="hljs-number">1</span>] - <span class="hljs-number">1</span>);
            <span class="hljs-keyword">if</span> (directive === <span class="hljs-string">'use strict'</span>) {
                strict = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span> (firstRestricted) {
                    throwErrorTolerant(firstRestricted, Messages.StrictOctalLiteral);
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (!firstRestricted &amp;&amp; token.octal) {
                    firstRestricted = token;
                }
            }
        }

        <span class="hljs-keyword">while</span> (index &lt; length) {
            sourceElement = parseSourceElement();
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> sourceElement === <span class="hljs-string">'undefined'</span>) {
                <span class="hljs-keyword">break</span>;
            }
            sourceElements.push(sourceElement);
        }
        <span class="hljs-keyword">return</span> sourceElements;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseProgram</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> body;

        delegate.markStart();
        strict = <span class="hljs-literal">false</span>;
        peek();
        body = parseSourceElements();
        <span class="hljs-keyword">return</span> delegate.markEnd(delegate.createProgram(body));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">attachComments</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> i, attacher, comment, leading, trailing;

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; extra.pendingComments.length; ++i) {
            attacher = extra.pendingComments[i];
            comment = attacher.comment;
            leading = attacher.leading;
            <span class="hljs-keyword">if</span> (leading) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> leading.leadingComments === <span class="hljs-string">'undefined'</span>) {
                    leading.leadingComments = [];
                }
                leading.leadingComments.push(attacher.comment);
            }
            trailing = attacher.trailing;
            <span class="hljs-keyword">if</span> (trailing) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> trailing.trailingComments === <span class="hljs-string">'undefined'</span>) {
                    trailing.trailingComments = [];
                }
                trailing.trailingComments.push(attacher.comment);
            }
        }
        extra.pendingComments = [];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">filterTokenLocation</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> i, entry, token, tokens = [];

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; extra.tokens.length; ++i) {
            entry = extra.tokens[i];
            token = {
                type: entry.type,
                value: entry.value
            };
            <span class="hljs-keyword">if</span> (extra.range) {
                token.range = entry.range;
            }
            <span class="hljs-keyword">if</span> (extra.loc) {
                token.loc = entry.loc;
            }
            tokens.push(token);
        }

        extra.tokens = tokens;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LocationMarker</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.startIndex = index;
        <span class="hljs-keyword">this</span>.startLine = lineNumber;
        <span class="hljs-keyword">this</span>.startColumn = index - lineStart;
    }

    LocationMarker.prototype = {
        <span class="hljs-keyword">constructor</span>: LocationMarker,

        apply: function (node) {
            <span class="hljs-keyword">if</span> (extra.range) {
                node.range = [<span class="hljs-keyword">this</span>.startIndex, index];
            }
            <span class="hljs-keyword">if</span> (extra.loc) {
                node.loc = {
                    start: {
                        line: <span class="hljs-keyword">this</span>.startLine,
                        column: <span class="hljs-keyword">this</span>.startColumn
                    },
                    end: {
                        line: lineNumber,
                        column: index - lineStart
                    }
                };
                node = delegate.postProcess(node);
            }
            <span class="hljs-keyword">if</span> (extra.attachComment) {
                delegate.processComment(node);
            }
        }
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createLocationMarker</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!extra.loc &amp;&amp; !extra.range) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }

        skipComment();

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> LocationMarker();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tokenize</span>(<span class="hljs-params">code, options</span>) </span>{
        <span class="hljs-keyword">var</span> toString,
            token,
            tokens;

        toString = <span class="hljs-built_in">String</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> code !== <span class="hljs-string">'string'</span> &amp;&amp; !(code <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">String</span>)) {
            code = toString(code);
        }

        delegate = SyntaxTreeDelegate;
        source = code;
        index = <span class="hljs-number">0</span>;
        lineNumber = (source.length &gt; <span class="hljs-number">0</span>) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;
        lineStart = <span class="hljs-number">0</span>;
        length = source.length;
        lookahead = <span class="hljs-literal">null</span>;
        state = {
            allowIn: <span class="hljs-literal">true</span>,
            labelSet: {},
            inFunctionBody: <span class="hljs-literal">false</span>,
            inIteration: <span class="hljs-literal">false</span>,
            inSwitch: <span class="hljs-literal">false</span>,
            lastCommentStart: <span class="hljs-number">-1</span>
        };

        extra = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-329">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-329">&#182;</a>
              </div>
              <p>Options matching.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        options = options || {};</pre></div></div>
            
        </li>
        
        
        <li id="section-330">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-330">&#182;</a>
              </div>
              <p>Of course we collect tokens here.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        options.tokens = <span class="hljs-literal">true</span>;
        extra.tokens = [];
        extra.tokenize = <span class="hljs-literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-331">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-331">&#182;</a>
              </div>
              <p>The following two fields are necessary to compute the Regex tokens.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        extra.openParenToken = <span class="hljs-number">-1</span>;
        extra.openCurlyToken = <span class="hljs-number">-1</span>;

        extra.range = (<span class="hljs-keyword">typeof</span> options.range === <span class="hljs-string">'boolean'</span>) &amp;&amp; options.range;
        extra.loc = (<span class="hljs-keyword">typeof</span> options.loc === <span class="hljs-string">'boolean'</span>) &amp;&amp; options.loc;

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.comment === <span class="hljs-string">'boolean'</span> &amp;&amp; options.comment) {
            extra.comments = [];
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.tolerant === <span class="hljs-string">'boolean'</span> &amp;&amp; options.tolerant) {
            extra.errors = [];
        }

        <span class="hljs-keyword">if</span> (length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> source[<span class="hljs-number">0</span>] === <span class="hljs-string">'undefined'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-332">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-332">&#182;</a>
              </div>
              <p>Try first to convert to a string. This is good as fast path
for old IE which understands string indexing for string
literals only and not for string object.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (code <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">String</span>) {
                    source = code.valueOf();
                }
            }
        }

        <span class="hljs-keyword">try</span> {
            peek();
            <span class="hljs-keyword">if</span> (lookahead.type === Token.EOF) {
                <span class="hljs-keyword">return</span> extra.tokens;
            }

            token = lex();
            <span class="hljs-keyword">while</span> (lookahead.type !== Token.EOF) {
                <span class="hljs-keyword">try</span> {
                    token = lex();
                } <span class="hljs-keyword">catch</span> (lexError) {
                    token = lookahead;
                    <span class="hljs-keyword">if</span> (extra.errors) {
                        extra.errors.push(lexError);</pre></div></div>
            
        </li>
        
        
        <li id="section-333">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-333">&#182;</a>
              </div>
              <p>We have to break on the first error
to avoid infinite loops.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                        <span class="hljs-keyword">break</span>;
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">throw</span> lexError;
                    }
                }
            }

            filterTokenLocation();
            tokens = extra.tokens;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> extra.comments !== <span class="hljs-string">'undefined'</span>) {
                tokens.comments = extra.comments;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> extra.errors !== <span class="hljs-string">'undefined'</span>) {
                tokens.errors = extra.errors;
            }
        } <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-keyword">throw</span> e;
        } <span class="hljs-keyword">finally</span> {
            extra = {};
        }
        <span class="hljs-keyword">return</span> tokens;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span>(<span class="hljs-params">code, options</span>) </span>{
        <span class="hljs-keyword">var</span> program, toString;

        toString = <span class="hljs-built_in">String</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> code !== <span class="hljs-string">'string'</span> &amp;&amp; !(code <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">String</span>)) {
            code = toString(code);
        }

        delegate = SyntaxTreeDelegate;
        source = code;
        index = <span class="hljs-number">0</span>;
        lineNumber = (source.length &gt; <span class="hljs-number">0</span>) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;
        lineStart = <span class="hljs-number">0</span>;
        length = source.length;
        lookahead = <span class="hljs-literal">null</span>;
        state = {
            allowIn: <span class="hljs-literal">true</span>,
            labelSet: {},
            inFunctionBody: <span class="hljs-literal">false</span>,
            inIteration: <span class="hljs-literal">false</span>,
            inSwitch: <span class="hljs-literal">false</span>,
            lastCommentStart: <span class="hljs-number">-1</span>,
            markerStack: []
        };

        extra = {};
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options !== <span class="hljs-string">'undefined'</span>) {
            extra.range = (<span class="hljs-keyword">typeof</span> options.range === <span class="hljs-string">'boolean'</span>) &amp;&amp; options.range;
            extra.loc = (<span class="hljs-keyword">typeof</span> options.loc === <span class="hljs-string">'boolean'</span>) &amp;&amp; options.loc;
            extra.attachComment = (<span class="hljs-keyword">typeof</span> options.attachComment === <span class="hljs-string">'boolean'</span>) &amp;&amp; options.attachComment;

            <span class="hljs-keyword">if</span> (extra.loc &amp;&amp; options.source !== <span class="hljs-literal">null</span> &amp;&amp; options.source !== <span class="hljs-literal">undefined</span>) {
                extra.source = toString(options.source);
            }

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.tokens === <span class="hljs-string">'boolean'</span> &amp;&amp; options.tokens) {
                extra.tokens = [];
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.comment === <span class="hljs-string">'boolean'</span> &amp;&amp; options.comment) {
                extra.comments = [];
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.tolerant === <span class="hljs-string">'boolean'</span> &amp;&amp; options.tolerant) {
                extra.errors = [];
            }
            <span class="hljs-keyword">if</span> (extra.attachComment) {
                extra.range = <span class="hljs-literal">true</span>;
                extra.pendingComments = [];
                extra.comments = [];
            }
        }

        <span class="hljs-keyword">if</span> (length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> source[<span class="hljs-number">0</span>] === <span class="hljs-string">'undefined'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-334">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-334">&#182;</a>
              </div>
              <p>Try first to convert to a string. This is good as fast path
for old IE which understands string indexing for string
literals only and not for string object.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (code <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">String</span>) {
                    source = code.valueOf();
                }
            }
        }

        <span class="hljs-keyword">try</span> {
            program = parseProgram();
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> extra.comments !== <span class="hljs-string">'undefined'</span>) {
                program.comments = extra.comments;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> extra.tokens !== <span class="hljs-string">'undefined'</span>) {
                filterTokenLocation();
                program.tokens = extra.tokens;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> extra.errors !== <span class="hljs-string">'undefined'</span>) {
                program.errors = extra.errors;
            }
            <span class="hljs-keyword">if</span> (extra.attachComment) {
                attachComments();
            }
        } <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-keyword">throw</span> e;
        } <span class="hljs-keyword">finally</span> {
            extra = {};
        }

        <span class="hljs-keyword">return</span> program;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-335">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-335">&#182;</a>
              </div>
              <p>Sync with *.json manifests.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    exports.version = <span class="hljs-string">'1.1.1'</span>;

    exports.tokenize = tokenize;

    exports.parse = parse;</pre></div></div>
            
        </li>
        
        
        <li id="section-336">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-336">&#182;</a>
              </div>
              <p>Deep copy.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    exports.Syntax = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> name, types = {};

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Object</span>.create === <span class="hljs-string">'function'</span>) {
            types = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>);
        }

        <span class="hljs-keyword">for</span> (name <span class="hljs-keyword">in</span> Syntax) {
            <span class="hljs-keyword">if</span> (Syntax.hasOwnProperty(name)) {
                types[name] = Syntax[name];
            }
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Object</span>.freeze === <span class="hljs-string">'function'</span>) {
            <span class="hljs-built_in">Object</span>.freeze(types);
        }

        <span class="hljs-keyword">return</span> types;
    }());

}));
<span class="hljs-comment">/* vim: set sw=4 ts=4 et tw=80 : */</span>

},{}],<span class="hljs-number">20</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/*
  Copyright (C) 2012-2013 Yusuke Suzuki &lt;utatane.tea@gmail.com&gt;
  Copyright (C) 2012 Ariya Hidayat &lt;ariya.hidayat@gmail.com&gt;

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL &lt;COPYRIGHT HOLDER&gt; BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/</span>
<span class="hljs-comment">/*jslint vars:false, bitwise:true*/</span>
<span class="hljs-comment">/*jshint indent:4*/</span>
<span class="hljs-comment">/*global exports:true, define:true*/</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">root, factory</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-337">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-337">&#182;</a>
              </div>
              <p>Universal Module Definition (UMD) to support AMD, CommonJS/Node.js,
and plain browser loading,</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define === <span class="hljs-string">'function'</span> &amp;&amp; define.amd) {
        define([<span class="hljs-string">'exports'</span>], factory);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> exports !== <span class="hljs-string">'undefined'</span>) {
        factory(exports);
    } <span class="hljs-keyword">else</span> {
        factory((root.estraverse = {}));
    }
}(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">exports</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;

    <span class="hljs-keyword">var</span> Syntax,
        isArray,
        VisitorOption,
        VisitorKeys,
        BREAK,
        SKIP;

    Syntax = {
        AssignmentExpression: <span class="hljs-string">'AssignmentExpression'</span>,
        ArrayExpression: <span class="hljs-string">'ArrayExpression'</span>,
        ArrayPattern: <span class="hljs-string">'ArrayPattern'</span>,
        ArrowFunctionExpression: <span class="hljs-string">'ArrowFunctionExpression'</span>,
        BlockStatement: <span class="hljs-string">'BlockStatement'</span>,
        BinaryExpression: <span class="hljs-string">'BinaryExpression'</span>,
        BreakStatement: <span class="hljs-string">'BreakStatement'</span>,
        CallExpression: <span class="hljs-string">'CallExpression'</span>,
        CatchClause: <span class="hljs-string">'CatchClause'</span>,
        ClassBody: <span class="hljs-string">'ClassBody'</span>,
        ClassDeclaration: <span class="hljs-string">'ClassDeclaration'</span>,
        ClassExpression: <span class="hljs-string">'ClassExpression'</span>,
        ConditionalExpression: <span class="hljs-string">'ConditionalExpression'</span>,
        ContinueStatement: <span class="hljs-string">'ContinueStatement'</span>,
        DebuggerStatement: <span class="hljs-string">'DebuggerStatement'</span>,
        DirectiveStatement: <span class="hljs-string">'DirectiveStatement'</span>,
        DoWhileStatement: <span class="hljs-string">'DoWhileStatement'</span>,
        EmptyStatement: <span class="hljs-string">'EmptyStatement'</span>,
        ExpressionStatement: <span class="hljs-string">'ExpressionStatement'</span>,
        ForStatement: <span class="hljs-string">'ForStatement'</span>,
        ForInStatement: <span class="hljs-string">'ForInStatement'</span>,
        FunctionDeclaration: <span class="hljs-string">'FunctionDeclaration'</span>,
        FunctionExpression: <span class="hljs-string">'FunctionExpression'</span>,
        Identifier: <span class="hljs-string">'Identifier'</span>,
        IfStatement: <span class="hljs-string">'IfStatement'</span>,
        Literal: <span class="hljs-string">'Literal'</span>,
        LabeledStatement: <span class="hljs-string">'LabeledStatement'</span>,
        LogicalExpression: <span class="hljs-string">'LogicalExpression'</span>,
        MemberExpression: <span class="hljs-string">'MemberExpression'</span>,
        MethodDefinition: <span class="hljs-string">'MethodDefinition'</span>,
        NewExpression: <span class="hljs-string">'NewExpression'</span>,
        ObjectExpression: <span class="hljs-string">'ObjectExpression'</span>,
        ObjectPattern: <span class="hljs-string">'ObjectPattern'</span>,
        Program: <span class="hljs-string">'Program'</span>,
        Property: <span class="hljs-string">'Property'</span>,
        ReturnStatement: <span class="hljs-string">'ReturnStatement'</span>,
        SequenceExpression: <span class="hljs-string">'SequenceExpression'</span>,
        SwitchStatement: <span class="hljs-string">'SwitchStatement'</span>,
        SwitchCase: <span class="hljs-string">'SwitchCase'</span>,
        ThisExpression: <span class="hljs-string">'ThisExpression'</span>,
        ThrowStatement: <span class="hljs-string">'ThrowStatement'</span>,
        TryStatement: <span class="hljs-string">'TryStatement'</span>,
        UnaryExpression: <span class="hljs-string">'UnaryExpression'</span>,
        UpdateExpression: <span class="hljs-string">'UpdateExpression'</span>,
        VariableDeclaration: <span class="hljs-string">'VariableDeclaration'</span>,
        VariableDeclarator: <span class="hljs-string">'VariableDeclarator'</span>,
        WhileStatement: <span class="hljs-string">'WhileStatement'</span>,
        WithStatement: <span class="hljs-string">'WithStatement'</span>,
        YieldExpression: <span class="hljs-string">'YieldExpression'</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ignoreJSHintError</span>(<span class="hljs-params"></span>) </span>{ }

    isArray = <span class="hljs-built_in">Array</span>.isArray;
    <span class="hljs-keyword">if</span> (!isArray) {
        isArray = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isArray</span>(<span class="hljs-params">array</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(array) === <span class="hljs-string">'[object Array]'</span>;
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deepCopy</span>(<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">var</span> ret = {}, key, val;
        <span class="hljs-keyword">for</span> (key <span class="hljs-keyword">in</span> obj) {
            <span class="hljs-keyword">if</span> (obj.hasOwnProperty(key)) {
                val = obj[key];
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> val === <span class="hljs-string">'object'</span> &amp;&amp; val !== <span class="hljs-literal">null</span>) {
                    ret[key] = deepCopy(val);
                } <span class="hljs-keyword">else</span> {
                    ret[key] = val;
                }
            }
        }
        <span class="hljs-keyword">return</span> ret;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">shallowCopy</span>(<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">var</span> ret = {}, key;
        <span class="hljs-keyword">for</span> (key <span class="hljs-keyword">in</span> obj) {
            <span class="hljs-keyword">if</span> (obj.hasOwnProperty(key)) {
                ret[key] = obj[key];
            }
        }
        <span class="hljs-keyword">return</span> ret;
    }
    ignoreJSHintError(shallowCopy);</pre></div></div>
            
        </li>
        
        
        <li id="section-338">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-338">&#182;</a>
              </div>
              <p>based on LLVM libc++ upper_bound / lower_bound
MIT License</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">upperBound</span>(<span class="hljs-params">array, func</span>) </span>{
        <span class="hljs-keyword">var</span> diff, len, i, current;

        len = array.length;
        i = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">while</span> (len) {
            diff = len &gt;&gt;&gt; <span class="hljs-number">1</span>;
            current = i + diff;
            <span class="hljs-keyword">if</span> (func(array[current])) {
                len = diff;
            } <span class="hljs-keyword">else</span> {
                i = current + <span class="hljs-number">1</span>;
                len -= diff + <span class="hljs-number">1</span>;
            }
        }
        <span class="hljs-keyword">return</span> i;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lowerBound</span>(<span class="hljs-params">array, func</span>) </span>{
        <span class="hljs-keyword">var</span> diff, len, i, current;

        len = array.length;
        i = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">while</span> (len) {
            diff = len &gt;&gt;&gt; <span class="hljs-number">1</span>;
            current = i + diff;
            <span class="hljs-keyword">if</span> (func(array[current])) {
                i = current + <span class="hljs-number">1</span>;
                len -= diff + <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> {
                len = diff;
            }
        }
        <span class="hljs-keyword">return</span> i;
    }
    ignoreJSHintError(lowerBound);

    VisitorKeys = {
        AssignmentExpression: [<span class="hljs-string">'left'</span>, <span class="hljs-string">'right'</span>],
        ArrayExpression: [<span class="hljs-string">'elements'</span>],
        ArrayPattern: [<span class="hljs-string">'elements'</span>],
        ArrowFunctionExpression: [<span class="hljs-string">'params'</span>, <span class="hljs-string">'defaults'</span>, <span class="hljs-string">'rest'</span>, <span class="hljs-string">'body'</span>],
        BlockStatement: [<span class="hljs-string">'body'</span>],
        BinaryExpression: [<span class="hljs-string">'left'</span>, <span class="hljs-string">'right'</span>],
        BreakStatement: [<span class="hljs-string">'label'</span>],
        CallExpression: [<span class="hljs-string">'callee'</span>, <span class="hljs-string">'arguments'</span>],
        CatchClause: [<span class="hljs-string">'param'</span>, <span class="hljs-string">'body'</span>],
        ClassBody: [<span class="hljs-string">'body'</span>],
        ClassDeclaration: [<span class="hljs-string">'id'</span>, <span class="hljs-string">'body'</span>, <span class="hljs-string">'superClass'</span>],
        ClassExpression: [<span class="hljs-string">'id'</span>, <span class="hljs-string">'body'</span>, <span class="hljs-string">'superClass'</span>],
        ConditionalExpression: [<span class="hljs-string">'test'</span>, <span class="hljs-string">'consequent'</span>, <span class="hljs-string">'alternate'</span>],
        ContinueStatement: [<span class="hljs-string">'label'</span>],
        DebuggerStatement: [],
        DirectiveStatement: [],
        DoWhileStatement: [<span class="hljs-string">'body'</span>, <span class="hljs-string">'test'</span>],
        EmptyStatement: [],
        ExpressionStatement: [<span class="hljs-string">'expression'</span>],
        ForStatement: [<span class="hljs-string">'init'</span>, <span class="hljs-string">'test'</span>, <span class="hljs-string">'update'</span>, <span class="hljs-string">'body'</span>],
        ForInStatement: [<span class="hljs-string">'left'</span>, <span class="hljs-string">'right'</span>, <span class="hljs-string">'body'</span>],
        ForOfStatement: [<span class="hljs-string">'left'</span>, <span class="hljs-string">'right'</span>, <span class="hljs-string">'body'</span>],
        FunctionDeclaration: [<span class="hljs-string">'id'</span>, <span class="hljs-string">'params'</span>, <span class="hljs-string">'defaults'</span>, <span class="hljs-string">'rest'</span>, <span class="hljs-string">'body'</span>],
        FunctionExpression: [<span class="hljs-string">'id'</span>, <span class="hljs-string">'params'</span>, <span class="hljs-string">'defaults'</span>, <span class="hljs-string">'rest'</span>, <span class="hljs-string">'body'</span>],
        Identifier: [],
        IfStatement: [<span class="hljs-string">'test'</span>, <span class="hljs-string">'consequent'</span>, <span class="hljs-string">'alternate'</span>],
        Literal: [],
        LabeledStatement: [<span class="hljs-string">'label'</span>, <span class="hljs-string">'body'</span>],
        LogicalExpression: [<span class="hljs-string">'left'</span>, <span class="hljs-string">'right'</span>],
        MemberExpression: [<span class="hljs-string">'object'</span>, <span class="hljs-string">'property'</span>],
        MethodDefinition: [<span class="hljs-string">'key'</span>, <span class="hljs-string">'value'</span>],
        NewExpression: [<span class="hljs-string">'callee'</span>, <span class="hljs-string">'arguments'</span>],
        ObjectExpression: [<span class="hljs-string">'properties'</span>],
        ObjectPattern: [<span class="hljs-string">'properties'</span>],
        Program: [<span class="hljs-string">'body'</span>],
        Property: [<span class="hljs-string">'key'</span>, <span class="hljs-string">'value'</span>],
        ReturnStatement: [<span class="hljs-string">'argument'</span>],
        SequenceExpression: [<span class="hljs-string">'expressions'</span>],
        SwitchStatement: [<span class="hljs-string">'discriminant'</span>, <span class="hljs-string">'cases'</span>],
        SwitchCase: [<span class="hljs-string">'test'</span>, <span class="hljs-string">'consequent'</span>],
        ThisExpression: [],
        ThrowStatement: [<span class="hljs-string">'argument'</span>],
        TryStatement: [<span class="hljs-string">'block'</span>, <span class="hljs-string">'handlers'</span>, <span class="hljs-string">'handler'</span>, <span class="hljs-string">'guardedHandlers'</span>, <span class="hljs-string">'finalizer'</span>],
        UnaryExpression: [<span class="hljs-string">'argument'</span>],
        UpdateExpression: [<span class="hljs-string">'argument'</span>],
        VariableDeclaration: [<span class="hljs-string">'declarations'</span>],
        VariableDeclarator: [<span class="hljs-string">'id'</span>, <span class="hljs-string">'init'</span>],
        WhileStatement: [<span class="hljs-string">'test'</span>, <span class="hljs-string">'body'</span>],
        WithStatement: [<span class="hljs-string">'object'</span>, <span class="hljs-string">'body'</span>],
        YieldExpression: [<span class="hljs-string">'argument'</span>]
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-339">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-339">&#182;</a>
              </div>
              <p>unique id</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    BREAK = {};
    SKIP = {};

    VisitorOption = {
        Break: BREAK,
        Skip: SKIP
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Reference</span>(<span class="hljs-params">parent, key</span>) </span>{
        <span class="hljs-keyword">this</span>.parent = parent;
        <span class="hljs-keyword">this</span>.key = key;
    }

    Reference.prototype.replace = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">replace</span>(<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">this</span>.parent[<span class="hljs-keyword">this</span>.key] = node;
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Element</span>(<span class="hljs-params">node, path, wrap, ref</span>) </span>{
        <span class="hljs-keyword">this</span>.node = node;
        <span class="hljs-keyword">this</span>.path = path;
        <span class="hljs-keyword">this</span>.wrap = wrap;
        <span class="hljs-keyword">this</span>.ref = ref;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Controller</span>(<span class="hljs-params"></span>) </span>{ }</pre></div></div>
            
        </li>
        
        
        <li id="section-340">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-340">&#182;</a>
              </div>
              <p>API:
return property path array from root to current node</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Controller.prototype.path = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">path</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> i, iz, j, jz, result, element;

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addToPath</span>(<span class="hljs-params">result, path</span>) </span>{
            <span class="hljs-keyword">if</span> (isArray(path)) {
                <span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>, jz = path.length; j &lt; jz; ++j) {
                    result.push(path[j]);
                }
            } <span class="hljs-keyword">else</span> {
                result.push(path);
            }
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-341">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-341">&#182;</a>
              </div>
              <p>root node</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.__current.path) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-342">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-342">&#182;</a>
              </div>
              <p>first node is sentinel, second node is root element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        result = [];
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">2</span>, iz = <span class="hljs-keyword">this</span>.__leavelist.length; i &lt; iz; ++i) {
            element = <span class="hljs-keyword">this</span>.__leavelist[i];
            addToPath(result, element.path);
        }
        addToPath(result, <span class="hljs-keyword">this</span>.__current.path);
        <span class="hljs-keyword">return</span> result;
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-343">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-343">&#182;</a>
              </div>
              <p>API:
return array of parent elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Controller.prototype.parents = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parents</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> i, iz, result;</pre></div></div>
            
        </li>
        
        
        <li id="section-344">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-344">&#182;</a>
              </div>
              <p>first node is sentinel</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        result = [];
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, iz = <span class="hljs-keyword">this</span>.__leavelist.length; i &lt; iz; ++i) {
            result.push(<span class="hljs-keyword">this</span>.__leavelist[i].node);
        }

        <span class="hljs-keyword">return</span> result;
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-345">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-345">&#182;</a>
              </div>
              <p>API:
return current node</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Controller.prototype.current = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">current</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.__current.node;
    };

    Controller.prototype.__execute = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__execute</span>(<span class="hljs-params">callback, element</span>) </span>{
        <span class="hljs-keyword">var</span> previous, result;

        result = <span class="hljs-literal">undefined</span>;

        previous  = <span class="hljs-keyword">this</span>.__current;
        <span class="hljs-keyword">this</span>.__current = element;
        <span class="hljs-keyword">this</span>.__state = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (callback) {
            result = callback.call(<span class="hljs-keyword">this</span>, element.node, <span class="hljs-keyword">this</span>.__leavelist[<span class="hljs-keyword">this</span>.__leavelist.length - <span class="hljs-number">1</span>].node);
        }
        <span class="hljs-keyword">this</span>.__current = previous;

        <span class="hljs-keyword">return</span> result;
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-346">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-346">&#182;</a>
              </div>
              <p>API:
notify control skip / break</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Controller.prototype.notify = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">notify</span>(<span class="hljs-params">flag</span>) </span>{
        <span class="hljs-keyword">this</span>.__state = flag;
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-347">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-347">&#182;</a>
              </div>
              <p>API:
skip child nodes of current node</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Controller.prototype.skip = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.notify(SKIP);
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-348">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-348">&#182;</a>
              </div>
              <p>API:
break traversals</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Controller.prototype[<span class="hljs-string">'break'</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.notify(BREAK);
    };

    Controller.prototype.__initialize = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">root, visitor</span>) </span>{
        <span class="hljs-keyword">this</span>.visitor = visitor;
        <span class="hljs-keyword">this</span>.root = root;
        <span class="hljs-keyword">this</span>.__worklist = [];
        <span class="hljs-keyword">this</span>.__leavelist = [];
        <span class="hljs-keyword">this</span>.__current = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.__state = <span class="hljs-literal">null</span>;
    };

    Controller.prototype.traverse = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">traverse</span>(<span class="hljs-params">root, visitor</span>) </span>{
        <span class="hljs-keyword">var</span> worklist,
            leavelist,
            element,
            node,
            nodeType,
            ret,
            key,
            current,
            current2,
            candidates,
            candidate,
            sentinel;

        <span class="hljs-keyword">this</span>.__initialize(root, visitor);

        sentinel = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-349">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-349">&#182;</a>
              </div>
              <p>reference</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        worklist = <span class="hljs-keyword">this</span>.__worklist;
        leavelist = <span class="hljs-keyword">this</span>.__leavelist;</pre></div></div>
            
        </li>
        
        
        <li id="section-350">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-350">&#182;</a>
              </div>
              <p>initialize</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        worklist.push(<span class="hljs-keyword">new</span> Element(root, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>));
        leavelist.push(<span class="hljs-keyword">new</span> Element(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>));

        <span class="hljs-keyword">while</span> (worklist.length) {
            element = worklist.pop();

            <span class="hljs-keyword">if</span> (element === sentinel) {
                element = leavelist.pop();

                ret = <span class="hljs-keyword">this</span>.__execute(visitor.leave, element);

                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.__state === BREAK || ret === BREAK) {
                    <span class="hljs-keyword">return</span>;
                }
                <span class="hljs-keyword">continue</span>;
            }

            <span class="hljs-keyword">if</span> (element.node) {

                ret = <span class="hljs-keyword">this</span>.__execute(visitor.enter, element);

                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.__state === BREAK || ret === BREAK) {
                    <span class="hljs-keyword">return</span>;
                }

                worklist.push(sentinel);
                leavelist.push(element);

                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.__state === SKIP || ret === SKIP) {
                    <span class="hljs-keyword">continue</span>;
                }

                node = element.node;
                nodeType = element.wrap || node.type;
                candidates = VisitorKeys[nodeType];

                current = candidates.length;
                <span class="hljs-keyword">while</span> ((current -= <span class="hljs-number">1</span>) &gt;= <span class="hljs-number">0</span>) {
                    key = candidates[current];
                    candidate = node[key];
                    <span class="hljs-keyword">if</span> (!candidate) {
                        <span class="hljs-keyword">continue</span>;
                    }

                    <span class="hljs-keyword">if</span> (!isArray(candidate)) {
                        worklist.push(<span class="hljs-keyword">new</span> Element(candidate, key, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>));
                        <span class="hljs-keyword">continue</span>;
                    }

                    current2 = candidate.length;
                    <span class="hljs-keyword">while</span> ((current2 -= <span class="hljs-number">1</span>) &gt;= <span class="hljs-number">0</span>) {
                        <span class="hljs-keyword">if</span> (!candidate[current2]) {
                            <span class="hljs-keyword">continue</span>;
                        }
                        <span class="hljs-keyword">if</span> ((nodeType === Syntax.ObjectExpression || nodeType === Syntax.ObjectPattern) &amp;&amp; <span class="hljs-string">'properties'</span> === candidates[current]) {
                            element = <span class="hljs-keyword">new</span> Element(candidate[current2], [key, current2], <span class="hljs-string">'Property'</span>, <span class="hljs-literal">null</span>);
                        } <span class="hljs-keyword">else</span> {
                            element = <span class="hljs-keyword">new</span> Element(candidate[current2], [key, current2], <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);
                        }
                        worklist.push(element);
                    }
                }
            }
        }
    };

    Controller.prototype.replace = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">replace</span>(<span class="hljs-params">root, visitor</span>) </span>{
        <span class="hljs-keyword">var</span> worklist,
            leavelist,
            node,
            nodeType,
            target,
            element,
            current,
            current2,
            candidates,
            candidate,
            sentinel,
            outer,
            key;

        <span class="hljs-keyword">this</span>.__initialize(root, visitor);

        sentinel = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-351">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-351">&#182;</a>
              </div>
              <p>reference</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        worklist = <span class="hljs-keyword">this</span>.__worklist;
        leavelist = <span class="hljs-keyword">this</span>.__leavelist;</pre></div></div>
            
        </li>
        
        
        <li id="section-352">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-352">&#182;</a>
              </div>
              <p>initialize</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        outer = {
            root: root
        };
        element = <span class="hljs-keyword">new</span> Element(root, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, <span class="hljs-keyword">new</span> Reference(outer, <span class="hljs-string">'root'</span>));
        worklist.push(element);
        leavelist.push(element);

        <span class="hljs-keyword">while</span> (worklist.length) {
            element = worklist.pop();

            <span class="hljs-keyword">if</span> (element === sentinel) {
                element = leavelist.pop();

                target = <span class="hljs-keyword">this</span>.__execute(visitor.leave, element);</pre></div></div>
            
        </li>
        
        
        <li id="section-353">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-353">&#182;</a>
              </div>
              <p>node may be replaced with null,
so distinguish between undefined and null in this place</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (target !== <span class="hljs-literal">undefined</span> &amp;&amp; target !== BREAK &amp;&amp; target !== SKIP) {</pre></div></div>
            
        </li>
        
        
        <li id="section-354">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-354">&#182;</a>
              </div>
              <p>replace</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    element.ref.replace(target);
                }

                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.__state === BREAK || target === BREAK) {
                    <span class="hljs-keyword">return</span> outer.root;
                }
                <span class="hljs-keyword">continue</span>;
            }

            target = <span class="hljs-keyword">this</span>.__execute(visitor.enter, element);</pre></div></div>
            
        </li>
        
        
        <li id="section-355">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-355">&#182;</a>
              </div>
              <p>node may be replaced with null,
so distinguish between undefined and null in this place</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (target !== <span class="hljs-literal">undefined</span> &amp;&amp; target !== BREAK &amp;&amp; target !== SKIP) {</pre></div></div>
            
        </li>
        
        
        <li id="section-356">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-356">&#182;</a>
              </div>
              <p>replace</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                element.ref.replace(target);
                element.node = target;
            }

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.__state === BREAK || target === BREAK) {
                <span class="hljs-keyword">return</span> outer.root;
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-357">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-357">&#182;</a>
              </div>
              <p>node may be null</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            node = element.node;
            <span class="hljs-keyword">if</span> (!node) {
                <span class="hljs-keyword">continue</span>;
            }

            worklist.push(sentinel);
            leavelist.push(element);

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.__state === SKIP || target === SKIP) {
                <span class="hljs-keyword">continue</span>;
            }

            nodeType = element.wrap || node.type;
            candidates = VisitorKeys[nodeType];

            current = candidates.length;
            <span class="hljs-keyword">while</span> ((current -= <span class="hljs-number">1</span>) &gt;= <span class="hljs-number">0</span>) {
                key = candidates[current];
                candidate = node[key];
                <span class="hljs-keyword">if</span> (!candidate) {
                    <span class="hljs-keyword">continue</span>;
                }

                <span class="hljs-keyword">if</span> (!isArray(candidate)) {
                    worklist.push(<span class="hljs-keyword">new</span> Element(candidate, key, <span class="hljs-literal">null</span>, <span class="hljs-keyword">new</span> Reference(node, key)));
                    <span class="hljs-keyword">continue</span>;
                }

                current2 = candidate.length;
                <span class="hljs-keyword">while</span> ((current2 -= <span class="hljs-number">1</span>) &gt;= <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">if</span> (!candidate[current2]) {
                        <span class="hljs-keyword">continue</span>;
                    }
                    <span class="hljs-keyword">if</span> (nodeType === Syntax.ObjectExpression &amp;&amp; <span class="hljs-string">'properties'</span> === candidates[current]) {
                        element = <span class="hljs-keyword">new</span> Element(candidate[current2], [key, current2], <span class="hljs-string">'Property'</span>, <span class="hljs-keyword">new</span> Reference(candidate, current2));
                    } <span class="hljs-keyword">else</span> {
                        element = <span class="hljs-keyword">new</span> Element(candidate[current2], [key, current2], <span class="hljs-literal">null</span>, <span class="hljs-keyword">new</span> Reference(candidate, current2));
                    }
                    worklist.push(element);
                }
            }
        }

        <span class="hljs-keyword">return</span> outer.root;
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">traverse</span>(<span class="hljs-params">root, visitor</span>) </span>{
        <span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> Controller();
        <span class="hljs-keyword">return</span> controller.traverse(root, visitor);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">replace</span>(<span class="hljs-params">root, visitor</span>) </span>{
        <span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> Controller();
        <span class="hljs-keyword">return</span> controller.replace(root, visitor);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">extendCommentRange</span>(<span class="hljs-params">comment, tokens</span>) </span>{
        <span class="hljs-keyword">var</span> target;

        target = upperBound(tokens, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">search</span>(<span class="hljs-params">token</span>) </span>{
            <span class="hljs-keyword">return</span> token.range[<span class="hljs-number">0</span>] &gt; comment.range[<span class="hljs-number">0</span>];
        });

        comment.extendedRange = [comment.range[<span class="hljs-number">0</span>], comment.range[<span class="hljs-number">1</span>]];

        <span class="hljs-keyword">if</span> (target !== tokens.length) {
            comment.extendedRange[<span class="hljs-number">1</span>] = tokens[target].range[<span class="hljs-number">0</span>];
        }

        target -= <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (target &gt;= <span class="hljs-number">0</span>) {
            comment.extendedRange[<span class="hljs-number">0</span>] = tokens[target].range[<span class="hljs-number">1</span>];
        }

        <span class="hljs-keyword">return</span> comment;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">attachComments</span>(<span class="hljs-params">tree, providedComments, tokens</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-358">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-358">&#182;</a>
              </div>
              <p>At first, we should calculate extended comment ranges.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">var</span> comments = [], comment, len, i, cursor;

        <span class="hljs-keyword">if</span> (!tree.range) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'attachComments needs range information'</span>);
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-359">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-359">&#182;</a>
              </div>
              <p>tokens array is empty, we attach comments to tree as ‘leadingComments’</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (!tokens.length) {
            <span class="hljs-keyword">if</span> (providedComments.length) {
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = providedComments.length; i &lt; len; i += <span class="hljs-number">1</span>) {
                    comment = deepCopy(providedComments[i]);
                    comment.extendedRange = [<span class="hljs-number">0</span>, tree.range[<span class="hljs-number">0</span>]];
                    comments.push(comment);
                }
                tree.leadingComments = comments;
            }
            <span class="hljs-keyword">return</span> tree;
        }

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = providedComments.length; i &lt; len; i += <span class="hljs-number">1</span>) {
            comments.push(extendCommentRange(deepCopy(providedComments[i]), tokens));
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-360">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-360">&#182;</a>
              </div>
              <p>This is based on John Freeman’s implementation.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        cursor = <span class="hljs-number">0</span>;
        traverse(tree, {
            enter: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) </span>{
                <span class="hljs-keyword">var</span> comment;

                <span class="hljs-keyword">while</span> (cursor &lt; comments.length) {
                    comment = comments[cursor];
                    <span class="hljs-keyword">if</span> (comment.extendedRange[<span class="hljs-number">1</span>] &gt; node.range[<span class="hljs-number">0</span>]) {
                        <span class="hljs-keyword">break</span>;
                    }

                    <span class="hljs-keyword">if</span> (comment.extendedRange[<span class="hljs-number">1</span>] === node.range[<span class="hljs-number">0</span>]) {
                        <span class="hljs-keyword">if</span> (!node.leadingComments) {
                            node.leadingComments = [];
                        }
                        node.leadingComments.push(comment);
                        comments.splice(cursor, <span class="hljs-number">1</span>);
                    } <span class="hljs-keyword">else</span> {
                        cursor += <span class="hljs-number">1</span>;
                    }
                }</pre></div></div>
            
        </li>
        
        
        <li id="section-361">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-361">&#182;</a>
              </div>
              <p>already out of owned node</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (cursor === comments.length) {
                    <span class="hljs-keyword">return</span> VisitorOption.Break;
                }

                <span class="hljs-keyword">if</span> (comments[cursor].extendedRange[<span class="hljs-number">0</span>] &gt; node.range[<span class="hljs-number">1</span>]) {
                    <span class="hljs-keyword">return</span> VisitorOption.Skip;
                }
            }
        });

        cursor = <span class="hljs-number">0</span>;
        traverse(tree, {
            leave: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) </span>{
                <span class="hljs-keyword">var</span> comment;

                <span class="hljs-keyword">while</span> (cursor &lt; comments.length) {
                    comment = comments[cursor];
                    <span class="hljs-keyword">if</span> (node.range[<span class="hljs-number">1</span>] &lt; comment.extendedRange[<span class="hljs-number">0</span>]) {
                        <span class="hljs-keyword">break</span>;
                    }

                    <span class="hljs-keyword">if</span> (node.range[<span class="hljs-number">1</span>] === comment.extendedRange[<span class="hljs-number">0</span>]) {
                        <span class="hljs-keyword">if</span> (!node.trailingComments) {
                            node.trailingComments = [];
                        }
                        node.trailingComments.push(comment);
                        comments.splice(cursor, <span class="hljs-number">1</span>);
                    } <span class="hljs-keyword">else</span> {
                        cursor += <span class="hljs-number">1</span>;
                    }
                }</pre></div></div>
            
        </li>
        
        
        <li id="section-362">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-362">&#182;</a>
              </div>
              <p>already out of owned node</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (cursor === comments.length) {
                    <span class="hljs-keyword">return</span> VisitorOption.Break;
                }

                <span class="hljs-keyword">if</span> (comments[cursor].extendedRange[<span class="hljs-number">0</span>] &gt; node.range[<span class="hljs-number">1</span>]) {
                    <span class="hljs-keyword">return</span> VisitorOption.Skip;
                }
            }
        });

        <span class="hljs-keyword">return</span> tree;
    }

    exports.version = <span class="hljs-string">'1.5.1-dev'</span>;
    exports.Syntax = Syntax;
    exports.traverse = traverse;
    exports.replace = replace;
    exports.attachComments = attachComments;
    exports.VisitorKeys = VisitorKeys;
    exports.VisitorOption = VisitorOption;
    exports.Controller = Controller;
}));
<span class="hljs-comment">/* vim: set sw=4 ts=4 et tw=80 : */</span>

},{}],<span class="hljs-number">21</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/*
  Copyright (C) 2013 Yusuke Suzuki &lt;utatane.tea@gmail.com&gt;

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL &lt;COPYRIGHT HOLDER&gt; BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/</span>

(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">    'use strict'</span>;

    <span class="hljs-keyword">var</span> Regex;</pre></div></div>
            
        </li>
        
        
        <li id="section-363">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-363">&#182;</a>
              </div>
              <p>See also tools/generate-unicode-regex.py.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Regex = {
        NonAsciiIdentifierStart: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]'</span>),
        NonAsciiIdentifierPart: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0\u08A2-\u08AC\u08E4-\u08FE\u0900-\u0963\u0966-\u096F\u0971-\u0977\u0979-\u097F\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1D00-\u1DE6\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA697\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7B\uAA80-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]'</span>)
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDecimalDigit</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> (ch &gt;= <span class="hljs-number">48</span> &amp;&amp; ch &lt;= <span class="hljs-number">57</span>);   <span class="hljs-comment">// 0..9</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isHexDigit</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> isDecimalDigit(ch) || (<span class="hljs-number">97</span> &lt;= ch &amp;&amp; ch &lt;= <span class="hljs-number">102</span>) || (<span class="hljs-number">65</span> &lt;= ch &amp;&amp; ch &lt;= <span class="hljs-number">70</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isOctalDigit</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> (ch &gt;= <span class="hljs-number">48</span> &amp;&amp; ch &lt;= <span class="hljs-number">55</span>);   <span class="hljs-comment">// 0..7</span>
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-364">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-364">&#182;</a>
              </div>
              <p>7.2 White Space</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isWhiteSpace</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> (ch === <span class="hljs-number">0x20</span>) || (ch === <span class="hljs-number">0x09</span>) || (ch === <span class="hljs-number">0x0B</span>) || (ch === <span class="hljs-number">0x0C</span>) || (ch === <span class="hljs-number">0xA0</span>) ||
            (ch &gt;= <span class="hljs-number">0x1680</span> &amp;&amp; [<span class="hljs-number">0x1680</span>, <span class="hljs-number">0x180E</span>, <span class="hljs-number">0x2000</span>, <span class="hljs-number">0x2001</span>, <span class="hljs-number">0x2002</span>, <span class="hljs-number">0x2003</span>, <span class="hljs-number">0x2004</span>, <span class="hljs-number">0x2005</span>, <span class="hljs-number">0x2006</span>, <span class="hljs-number">0x2007</span>, <span class="hljs-number">0x2008</span>, <span class="hljs-number">0x2009</span>, <span class="hljs-number">0x200A</span>, <span class="hljs-number">0x202F</span>, <span class="hljs-number">0x205F</span>, <span class="hljs-number">0x3000</span>, <span class="hljs-number">0xFEFF</span>].indexOf(ch) &gt;= <span class="hljs-number">0</span>);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-365">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-365">&#182;</a>
              </div>
              <p>7.3 Line Terminators</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isLineTerminator</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> (ch === <span class="hljs-number">0x0A</span>) || (ch === <span class="hljs-number">0x0D</span>) || (ch === <span class="hljs-number">0x2028</span>) || (ch === <span class="hljs-number">0x2029</span>);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-366">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-366">&#182;</a>
              </div>
              <p>7.6 Identifier Names and Identifiers</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isIdentifierStart</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> (ch === <span class="hljs-number">36</span>) || (ch === <span class="hljs-number">95</span>) ||  <span class="hljs-comment">// $ (dollar) and _ (underscore)</span>
            (ch &gt;= <span class="hljs-number">65</span> &amp;&amp; ch &lt;= <span class="hljs-number">90</span>) ||         <span class="hljs-comment">// A..Z</span>
            (ch &gt;= <span class="hljs-number">97</span> &amp;&amp; ch &lt;= <span class="hljs-number">122</span>) ||        <span class="hljs-comment">// a..z</span>
            (ch === <span class="hljs-number">92</span>) ||                    <span class="hljs-comment">// \ (backslash)</span>
            ((ch &gt;= <span class="hljs-number">0x80</span>) &amp;&amp; Regex.NonAsciiIdentifierStart.test(<span class="hljs-built_in">String</span>.fromCharCode(ch)));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isIdentifierPart</span>(<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">return</span> (ch === <span class="hljs-number">36</span>) || (ch === <span class="hljs-number">95</span>) ||  <span class="hljs-comment">// $ (dollar) and _ (underscore)</span>
            (ch &gt;= <span class="hljs-number">65</span> &amp;&amp; ch &lt;= <span class="hljs-number">90</span>) ||         <span class="hljs-comment">// A..Z</span>
            (ch &gt;= <span class="hljs-number">97</span> &amp;&amp; ch &lt;= <span class="hljs-number">122</span>) ||        <span class="hljs-comment">// a..z</span>
            (ch &gt;= <span class="hljs-number">48</span> &amp;&amp; ch &lt;= <span class="hljs-number">57</span>) ||         <span class="hljs-comment">// 0..9</span>
            (ch === <span class="hljs-number">92</span>) ||                    <span class="hljs-comment">// \ (backslash)</span>
            ((ch &gt;= <span class="hljs-number">0x80</span>) &amp;&amp; Regex.NonAsciiIdentifierPart.test(<span class="hljs-built_in">String</span>.fromCharCode(ch)));
    }

    <span class="hljs-built_in">module</span>.exports = {
        isDecimalDigit: isDecimalDigit,
        isHexDigit: isHexDigit,
        isOctalDigit: isOctalDigit,
        isWhiteSpace: isWhiteSpace,
        isLineTerminator: isLineTerminator,
        isIdentifierStart: isIdentifierStart,
        isIdentifierPart: isIdentifierPart
    };
}());
<span class="hljs-comment">/* vim: set sw=4 ts=4 et tw=80 : */</span>

},{}],<span class="hljs-number">22</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/*
  Copyright (C) 2013 Yusuke Suzuki &lt;utatane.tea@gmail.com&gt;

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL &lt;COPYRIGHT HOLDER&gt; BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/</span>

(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">    'use strict'</span>;

    <span class="hljs-keyword">var</span> code = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./code'</span>);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isStrictModeReservedWordES6</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">switch</span> (id) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'implements'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'interface'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'package'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'private'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'protected'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'public'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'static'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'let'</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isKeywordES5</span>(<span class="hljs-params">id, strict</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-367">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-367">&#182;</a>
              </div>
              <p>yield should not be treated as keyword under non-strict mode.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (!strict &amp;&amp; id === <span class="hljs-string">'yield'</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> isKeywordES6(id, strict);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isKeywordES6</span>(<span class="hljs-params">id, strict</span>) </span>{
        <span class="hljs-keyword">if</span> (strict &amp;&amp; isStrictModeReservedWordES6(id)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }

        <span class="hljs-keyword">switch</span> (id.length) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'if'</span>) || (id === <span class="hljs-string">'in'</span>) || (id === <span class="hljs-string">'do'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'var'</span>) || (id === <span class="hljs-string">'for'</span>) || (id === <span class="hljs-string">'new'</span>) || (id === <span class="hljs-string">'try'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'this'</span>) || (id === <span class="hljs-string">'else'</span>) || (id === <span class="hljs-string">'case'</span>) ||
                (id === <span class="hljs-string">'void'</span>) || (id === <span class="hljs-string">'with'</span>) || (id === <span class="hljs-string">'enum'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'while'</span>) || (id === <span class="hljs-string">'break'</span>) || (id === <span class="hljs-string">'catch'</span>) ||
                (id === <span class="hljs-string">'throw'</span>) || (id === <span class="hljs-string">'const'</span>) || (id === <span class="hljs-string">'yield'</span>) ||
                (id === <span class="hljs-string">'class'</span>) || (id === <span class="hljs-string">'super'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'return'</span>) || (id === <span class="hljs-string">'typeof'</span>) || (id === <span class="hljs-string">'delete'</span>) ||
                (id === <span class="hljs-string">'switch'</span>) || (id === <span class="hljs-string">'export'</span>) || (id === <span class="hljs-string">'import'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'default'</span>) || (id === <span class="hljs-string">'finally'</span>) || (id === <span class="hljs-string">'extends'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'function'</span>) || (id === <span class="hljs-string">'continue'</span>) || (id === <span class="hljs-string">'debugger'</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:
            <span class="hljs-keyword">return</span> (id === <span class="hljs-string">'instanceof'</span>);
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isRestrictedWord</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">return</span> id === <span class="hljs-string">'eval'</span> || id === <span class="hljs-string">'arguments'</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isIdentifierName</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">var</span> i, iz, ch;

        <span class="hljs-keyword">if</span> (id.length === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        ch = id.charCodeAt(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">if</span> (!code.isIdentifierStart(ch) || ch === <span class="hljs-number">92</span>) {  <span class="hljs-comment">// \ (backslash)</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, iz = id.length; i &lt; iz; ++i) {
            ch = id.charCodeAt(i);
            <span class="hljs-keyword">if</span> (!code.isIdentifierPart(ch) || ch === <span class="hljs-number">92</span>) {  <span class="hljs-comment">// \ (backslash)</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-built_in">module</span>.exports = {
        isKeywordES5: isKeywordES5,
        isKeywordES6: isKeywordES6,
        isRestrictedWord: isRestrictedWord,
        isIdentifierName: isIdentifierName
    };
}());
<span class="hljs-comment">/* vim: set sw=4 ts=4 et tw=80 : */</span>

},{<span class="hljs-string">"./code"</span>:<span class="hljs-number">21</span>}],<span class="hljs-number">23</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/*
  Copyright (C) 2013 Yusuke Suzuki &lt;utatane.tea@gmail.com&gt;

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL &lt;COPYRIGHT HOLDER&gt; BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/</span>


(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">    'use strict'</span>;

    exports.code = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./code'</span>);
    exports.keyword = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./keyword'</span>);
}());
<span class="hljs-comment">/* vim: set sw=4 ts=4 et tw=80 : */</span>

},{<span class="hljs-string">"./code"</span>:<span class="hljs-number">21</span>,<span class="hljs-string">"./keyword"</span>:<span class="hljs-number">22</span>}],<span class="hljs-number">24</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-built_in">module</span>.exports={
  <span class="hljs-string">"_args"</span>: [
    [
      <span class="hljs-string">"jison-lex@0.3.x"</span>,
      <span class="hljs-string">"/Users/micaelaestabillo/Google_Drive/COMP_SCI_4TB3/pureJS_Project/node_modules/jison"</span>
    ]
  ],
  <span class="hljs-string">"_from"</span>: <span class="hljs-string">"jison-lex@&gt;=0.3.0 &lt;0.4.0"</span>,
  <span class="hljs-string">"_id"</span>: <span class="hljs-string">"jison-lex@0.3.4"</span>,
  <span class="hljs-string">"_inCache"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">"_installable"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">"_location"</span>: <span class="hljs-string">"/jison-lex"</span>,
  <span class="hljs-string">"_npmUser"</span>: {
    <span class="hljs-string">"email"</span>: <span class="hljs-string">"zack.carter@gmail.com"</span>,
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"zaach"</span>
  },
  <span class="hljs-string">"_npmVersion"</span>: <span class="hljs-string">"1.4.3"</span>,
  <span class="hljs-string">"_phantomChildren"</span>: {},
  <span class="hljs-string">"_requested"</span>: {
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"jison-lex"</span>,
    <span class="hljs-string">"raw"</span>: <span class="hljs-string">"jison-lex@0.3.x"</span>,
    <span class="hljs-string">"rawSpec"</span>: <span class="hljs-string">"0.3.x"</span>,
    <span class="hljs-string">"scope"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-string">"spec"</span>: <span class="hljs-string">"&gt;=0.3.0 &lt;0.4.0"</span>,
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"range"</span>
  },
  <span class="hljs-string">"_requiredBy"</span>: [
    <span class="hljs-string">"/jison"</span>
  ],
  <span class="hljs-string">"_resolved"</span>: <span class="hljs-string">"https://registry.npmjs.org/jison-lex/-/jison-lex-0.3.4.tgz"</span>,
  <span class="hljs-string">"_shasum"</span>: <span class="hljs-string">"81ca28d84f84499dfa8c594dcde3d8a3f26ec7a5"</span>,
  <span class="hljs-string">"_shrinkwrap"</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-string">"_spec"</span>: <span class="hljs-string">"jison-lex@0.3.x"</span>,
  <span class="hljs-string">"_where"</span>: <span class="hljs-string">"/Users/micaelaestabillo/Google_Drive/COMP_SCI_4TB3/pureJS_Project/node_modules/jison"</span>,
  <span class="hljs-string">"author"</span>: {
    <span class="hljs-string">"email"</span>: <span class="hljs-string">"zach@carter.name"</span>,
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"Zach Carter"</span>,
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"http://zaa.ch"</span>
  },
  <span class="hljs-string">"bin"</span>: {
    <span class="hljs-string">"jison-lex"</span>: <span class="hljs-string">"cli.js"</span>
  },
  <span class="hljs-string">"bugs"</span>: {
    <span class="hljs-string">"email"</span>: <span class="hljs-string">"jison@librelist.com"</span>,
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"http://github.com/zaach/jison-lex/issues"</span>
  },
  <span class="hljs-string">"dependencies"</span>: {
    <span class="hljs-string">"lex-parser"</span>: <span class="hljs-string">"0.1.x"</span>,
    <span class="hljs-string">"nomnom"</span>: <span class="hljs-string">"1.5.2"</span>
  },
  <span class="hljs-string">"description"</span>: <span class="hljs-string">"lexical analyzer generator used by jison"</span>,
  <span class="hljs-string">"devDependencies"</span>: {
    <span class="hljs-string">"test"</span>: <span class="hljs-string">"0.4.4"</span>
  },
  <span class="hljs-string">"directories"</span>: {
    <span class="hljs-string">"lib"</span>: <span class="hljs-string">"lib"</span>,
    <span class="hljs-string">"tests"</span>: <span class="hljs-string">"tests"</span>
  },
  <span class="hljs-string">"dist"</span>: {
    <span class="hljs-string">"shasum"</span>: <span class="hljs-string">"81ca28d84f84499dfa8c594dcde3d8a3f26ec7a5"</span>,
    <span class="hljs-string">"tarball"</span>: <span class="hljs-string">"http://registry.npmjs.org/jison-lex/-/jison-lex-0.3.4.tgz"</span>
  },
  <span class="hljs-string">"engines"</span>: {
    <span class="hljs-string">"node"</span>: <span class="hljs-string">"&gt;=0.4"</span>
  },
  <span class="hljs-string">"homepage"</span>: <span class="hljs-string">"http://jison.org"</span>,
  <span class="hljs-string">"keywords"</span>: [
    <span class="hljs-string">"flex"</span>,
    <span class="hljs-string">"generator"</span>,
    <span class="hljs-string">"jison"</span>,
    <span class="hljs-string">"lexer"</span>,
    <span class="hljs-string">"parser"</span>,
    <span class="hljs-string">"tokenizer"</span>
  ],
  <span class="hljs-string">"main"</span>: <span class="hljs-string">"regexp-lexer"</span>,
  <span class="hljs-string">"maintainers"</span>: [
    {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"zaach"</span>,
      <span class="hljs-string">"email"</span>: <span class="hljs-string">"zack.carter@gmail.com"</span>
    }
  ],
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"jison-lex"</span>,
  <span class="hljs-string">"optionalDependencies"</span>: {},
  <span class="hljs-string">"readme"</span>: <span class="hljs-string">"ERROR: No README data found!"</span>,
  <span class="hljs-string">"repository"</span>: {
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"git"</span>,
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"git://github.com/zaach/jison-lex.git"</span>
  },
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"test"</span>: <span class="hljs-string">"node tests/all-tests.js"</span>
  },
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"0.3.4"</span>
}

},{}],<span class="hljs-number">25</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-368">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-368">&#182;</a>
              </div>
              <p>Basic Lexer implemented using JavaScript regular expressions
MIT Licensed</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-meta">
"use strict"</span>;

<span class="hljs-keyword">var</span> lexParser = <span class="hljs-built_in">require</span>(<span class="hljs-string">'lex-parser'</span>);
<span class="hljs-keyword">var</span> version = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./package.json'</span>).version;</pre></div></div>
            
        </li>
        
        
        <li id="section-369">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-369">&#182;</a>
              </div>
              <p>expand macros and convert matchers to RegExp’s</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareRules</span>(<span class="hljs-params">rules, macros, actions, tokens, startConditions, caseless</span>) </span>{
    <span class="hljs-keyword">var</span> m,i,k,action,conditions,
        newRules = [];

    <span class="hljs-keyword">if</span> (macros) {
        macros = prepareMacros(macros);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tokenNumberReplacement</span> (<span class="hljs-params">str, token</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"return "</span> + (tokens[token] || <span class="hljs-string">"'"</span> + token + <span class="hljs-string">"'"</span>);
    }

    actions.push(<span class="hljs-string">'switch($avoiding_name_collisions) {'</span>);

    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>;i &lt; rules.length; i++) {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.prototype.toString.apply(rules[i][<span class="hljs-number">0</span>]) !== <span class="hljs-string">'[object Array]'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-370">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-370">&#182;</a>
              </div>
              <p>implicit add to all inclusive start conditions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">for</span> (k <span class="hljs-keyword">in</span> startConditions) {
                <span class="hljs-keyword">if</span> (startConditions[k].inclusive) {
                    startConditions[k].rules.push(i);
                }
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rules[i][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] === <span class="hljs-string">'*'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-371">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-371">&#182;</a>
              </div>
              <p>Add to ALL start conditions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">for</span> (k <span class="hljs-keyword">in</span> startConditions) {
                startConditions[k].rules.push(i);
            }
            rules[i].shift();
        } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-372">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-372">&#182;</a>
              </div>
              <p>Add to explicit start conditions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            conditions = rules[i].shift();
            <span class="hljs-keyword">for</span> (k=<span class="hljs-number">0</span>;k&lt;conditions.length;k++) {
                startConditions[conditions[k]].rules.push(i);
            }
        }

        m = rules[i][<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> m === <span class="hljs-string">'string'</span>) {
            <span class="hljs-keyword">for</span> (k <span class="hljs-keyword">in</span> macros) {
                <span class="hljs-keyword">if</span> (macros.hasOwnProperty(k)) {
                    m = m.split(<span class="hljs-string">"{"</span> + k + <span class="hljs-string">"}"</span>).join(<span class="hljs-string">'('</span> + macros[k] + <span class="hljs-string">')'</span>);
                }
            }
            m = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^(?:"</span> + m + <span class="hljs-string">")"</span>, caseless ? <span class="hljs-string">'i'</span>:<span class="hljs-string">''</span>);
        }
        newRules.push(m);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> rules[i][<span class="hljs-number">1</span>] === <span class="hljs-string">'function'</span>) {
            rules[i][<span class="hljs-number">1</span>] = <span class="hljs-built_in">String</span>(rules[i][<span class="hljs-number">1</span>]).replace(<span class="hljs-regexp">/^\s*function \(\)\s?\{/</span>, <span class="hljs-string">''</span>).replace(<span class="hljs-regexp">/\}\s*$/</span>, <span class="hljs-string">''</span>);
        }
        action = rules[i][<span class="hljs-number">1</span>];
        <span class="hljs-keyword">if</span> (tokens &amp;&amp; action.match(<span class="hljs-regexp">/return '[^']+'/</span>)) {
            action = action.replace(<span class="hljs-regexp">/return '([^']+)'/g</span>, tokenNumberReplacement);
        }
        actions.push(<span class="hljs-string">'case '</span> + i + <span class="hljs-string">':'</span> + action + <span class="hljs-string">'\nbreak;'</span>);
    }
    actions.push(<span class="hljs-string">"}"</span>);

    <span class="hljs-keyword">return</span> newRules;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-373">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-373">&#182;</a>
              </div>
              <p>expand macros within macros</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareMacros</span> (<span class="hljs-params">macros</span>) </span>{
    <span class="hljs-keyword">var</span> cont = <span class="hljs-literal">true</span>,
        m,i,k,mnew;
    <span class="hljs-keyword">while</span> (cont) {
        cont = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> macros) <span class="hljs-keyword">if</span> (macros.hasOwnProperty(i)) {
            m = macros[i];
            <span class="hljs-keyword">for</span> (k <span class="hljs-keyword">in</span> macros) <span class="hljs-keyword">if</span> (macros.hasOwnProperty(k) &amp;&amp; i !== k) {
                mnew = m.split(<span class="hljs-string">"{"</span> + k + <span class="hljs-string">"}"</span>).join(<span class="hljs-string">'('</span> + macros[k] + <span class="hljs-string">')'</span>);
                <span class="hljs-keyword">if</span> (mnew !== m) {
                    cont = <span class="hljs-literal">true</span>;
                    macros[i] = mnew;
                }
            }
        }
    }
    <span class="hljs-keyword">return</span> macros;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareStartConditions</span> (<span class="hljs-params">conditions</span>) </span>{
    <span class="hljs-keyword">var</span> sc,
        hash = {};
    <span class="hljs-keyword">for</span> (sc <span class="hljs-keyword">in</span> conditions) <span class="hljs-keyword">if</span> (conditions.hasOwnProperty(sc)) {
        hash[sc] = {rules:[],inclusive:!!!conditions[sc]};
    }
    <span class="hljs-keyword">return</span> hash;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildActions</span> (<span class="hljs-params">dict, tokens</span>) </span>{
    <span class="hljs-keyword">var</span> actions = [dict.actionInclude || <span class="hljs-string">''</span>, <span class="hljs-string">"var YYSTATE=YY_START;"</span>];
    <span class="hljs-keyword">var</span> tok;
    <span class="hljs-keyword">var</span> toks = {};

    <span class="hljs-keyword">for</span> (tok <span class="hljs-keyword">in</span> tokens) {
        toks[tokens[tok]] = tok;
    }

    <span class="hljs-keyword">if</span> (dict.options &amp;&amp; dict.options.flex) {
        dict.rules.push([<span class="hljs-string">"."</span>, <span class="hljs-string">"console.log(yytext);"</span>]);
    }

    <span class="hljs-keyword">this</span>.rules = prepareRules(dict.rules, dict.macros, actions, tokens &amp;&amp; toks, <span class="hljs-keyword">this</span>.conditions, <span class="hljs-keyword">this</span>.options[<span class="hljs-string">"case-insensitive"</span>]);
    <span class="hljs-keyword">var</span> fun = actions.join(<span class="hljs-string">"\n"</span>);
    <span class="hljs-string">"yytext yyleng yylineno yylloc"</span>.split(<span class="hljs-string">' '</span>).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">yy</span>) </span>{
        fun = fun.replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"\\b("</span> + yy + <span class="hljs-string">")\\b"</span>, <span class="hljs-string">"g"</span>), <span class="hljs-string">"yy_.$1"</span>);
    });

    <span class="hljs-keyword">return</span> <span class="hljs-string">"function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {"</span> + fun + <span class="hljs-string">"\n}"</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">RegExpLexer</span> (<span class="hljs-params">dict, input, tokens</span>) </span>{
    <span class="hljs-keyword">var</span> opts = processGrammar(dict, tokens);
    <span class="hljs-keyword">var</span> source = generateModuleBody(opts);
    <span class="hljs-keyword">var</span> lexer = <span class="hljs-built_in">eval</span>(source);

    lexer.yy = {};
    <span class="hljs-keyword">if</span> (input) {
        lexer.setInput(input);
    }

    lexer.generate = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> generateFromOpts(opts); };
    lexer.generateModule = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> generateModule(opts); };
    lexer.generateCommonJSModule = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> generateCommonJSModule(opts); };
    lexer.generateAMDModule = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> generateAMDModule(opts); };

    <span class="hljs-keyword">return</span> lexer;
}

RegExpLexer.prototype = {
    EOF: <span class="hljs-number">1</span>,
    parseError: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseError</span>(<span class="hljs-params">str, hash</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.yy.parser) {
            <span class="hljs-keyword">this</span>.yy.parser.parseError(str, hash);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(str);
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-374">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-374">&#182;</a>
              </div>
              <p>resets the lexer, sets new input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    setInput: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, yy</span>) </span>{
        <span class="hljs-keyword">this</span>.yy = yy || <span class="hljs-keyword">this</span>.yy || {};
        <span class="hljs-keyword">this</span>._input = input;
        <span class="hljs-keyword">this</span>._more = <span class="hljs-keyword">this</span>._backtrack = <span class="hljs-keyword">this</span>.done = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.yylineno = <span class="hljs-keyword">this</span>.yyleng = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.yytext = <span class="hljs-keyword">this</span>.matched = <span class="hljs-keyword">this</span>.match = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.conditionStack = [<span class="hljs-string">'INITIAL'</span>];
        <span class="hljs-keyword">this</span>.yylloc = {
            first_line: <span class="hljs-number">1</span>,
            first_column: <span class="hljs-number">0</span>,
            last_line: <span class="hljs-number">1</span>,
            last_column: <span class="hljs-number">0</span>
        };
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range = [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>];
        }
        <span class="hljs-keyword">this</span>.offset = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-375">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-375">&#182;</a>
              </div>
              <p>consumes and returns one char from the input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    input: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ch = <span class="hljs-keyword">this</span>._input[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.yytext += ch;
        <span class="hljs-keyword">this</span>.yyleng++;
        <span class="hljs-keyword">this</span>.offset++;
        <span class="hljs-keyword">this</span>.match += ch;
        <span class="hljs-keyword">this</span>.matched += ch;
        <span class="hljs-keyword">var</span> lines = ch.match(<span class="hljs-regexp">/(?:\r\n?|\n).*/g</span>);
        <span class="hljs-keyword">if</span> (lines) {
            <span class="hljs-keyword">this</span>.yylineno++;
            <span class="hljs-keyword">this</span>.yylloc.last_line++;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.yylloc.last_column++;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range[<span class="hljs-number">1</span>]++;
        }

        <span class="hljs-keyword">this</span>._input = <span class="hljs-keyword">this</span>._input.slice(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> ch;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-376">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-376">&#182;</a>
              </div>
              <p>unshifts one char (or a string) into the input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    unput: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">var</span> len = ch.length;
        <span class="hljs-keyword">var</span> lines = ch.split(<span class="hljs-regexp">/(?:\r\n?|\n)/g</span>);

        <span class="hljs-keyword">this</span>._input = ch + <span class="hljs-keyword">this</span>._input;
        <span class="hljs-keyword">this</span>.yytext = <span class="hljs-keyword">this</span>.yytext.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.yytext.length - len);</pre></div></div>
            
        </li>
        
        
        <li id="section-377">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-377">&#182;</a>
              </div>
              <p>this.yyleng -= len;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">this</span>.offset -= len;
        <span class="hljs-keyword">var</span> oldLines = <span class="hljs-keyword">this</span>.match.split(<span class="hljs-regexp">/(?:\r\n?|\n)/g</span>);
        <span class="hljs-keyword">this</span>.match = <span class="hljs-keyword">this</span>.match.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.match.length - <span class="hljs-number">1</span>);
        <span class="hljs-keyword">this</span>.matched = <span class="hljs-keyword">this</span>.matched.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.matched.length - <span class="hljs-number">1</span>);

        <span class="hljs-keyword">if</span> (lines.length - <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">this</span>.yylineno -= lines.length - <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">var</span> r = <span class="hljs-keyword">this</span>.yylloc.range;

        <span class="hljs-keyword">this</span>.yylloc = {
            first_line: <span class="hljs-keyword">this</span>.yylloc.first_line,
            last_line: <span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>,
            first_column: <span class="hljs-keyword">this</span>.yylloc.first_column,
            last_column: lines ?
                (lines.length === oldLines.length ? <span class="hljs-keyword">this</span>.yylloc.first_column : <span class="hljs-number">0</span>)
                 + oldLines[oldLines.length - lines.length].length - lines[<span class="hljs-number">0</span>].length :
              <span class="hljs-keyword">this</span>.yylloc.first_column - len
        };

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range = [r[<span class="hljs-number">0</span>], r[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.yyleng - len];
        }
        <span class="hljs-keyword">this</span>.yyleng = <span class="hljs-keyword">this</span>.yytext.length;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-378">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-378">&#182;</a>
              </div>
              <p>When called from action, caches matched text and appends it on next action</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    more: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._more = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-379">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-379">&#182;</a>
              </div>
              <p>When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    reject: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.backtrack_lexer) {
            <span class="hljs-keyword">this</span>._backtrack = <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.parseError(<span class="hljs-string">'Lexical error on line '</span> + (<span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">'. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n'</span> + <span class="hljs-keyword">this</span>.showPosition(), {
                text: <span class="hljs-string">""</span>,
                token: <span class="hljs-literal">null</span>,
                line: <span class="hljs-keyword">this</span>.yylineno
            });

        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-380">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-380">&#182;</a>
              </div>
              <p>retain first n characters of the match</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    less: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) </span>{
        <span class="hljs-keyword">this</span>.unput(<span class="hljs-keyword">this</span>.match.slice(n));
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-381">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-381">&#182;</a>
              </div>
              <p>displays already matched input, i.e. for error messages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    pastInput: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> past = <span class="hljs-keyword">this</span>.matched.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.matched.length - <span class="hljs-keyword">this</span>.match.length);
        <span class="hljs-keyword">return</span> (past.length &gt; <span class="hljs-number">20</span> ? <span class="hljs-string">'...'</span>:<span class="hljs-string">''</span>) + past.substr(<span class="hljs-number">-20</span>).replace(<span class="hljs-regexp">/\n/g</span>, <span class="hljs-string">""</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-382">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-382">&#182;</a>
              </div>
              <p>displays upcoming input, i.e. for error messages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    upcomingInput: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> next = <span class="hljs-keyword">this</span>.match;
        <span class="hljs-keyword">if</span> (next.length &lt; <span class="hljs-number">20</span>) {
            next += <span class="hljs-keyword">this</span>._input.substr(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>-next.length);
        }
        <span class="hljs-keyword">return</span> (next.substr(<span class="hljs-number">0</span>,<span class="hljs-number">20</span>) + (next.length &gt; <span class="hljs-number">20</span> ? <span class="hljs-string">'...'</span> : <span class="hljs-string">''</span>)).replace(<span class="hljs-regexp">/\n/g</span>, <span class="hljs-string">""</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-383">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-383">&#182;</a>
              </div>
              <p>displays the character position where the lexing error occurred, i.e. for error messages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    showPosition: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> pre = <span class="hljs-keyword">this</span>.pastInput();
        <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(pre.length + <span class="hljs-number">1</span>).join(<span class="hljs-string">"-"</span>);
        <span class="hljs-keyword">return</span> pre + <span class="hljs-keyword">this</span>.upcomingInput() + <span class="hljs-string">"\n"</span> + c + <span class="hljs-string">"^"</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-384">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-384">&#182;</a>
              </div>
              <p>test the lexed token: return FALSE when not a match, otherwise return token</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    test_match: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">match, indexed_rule</span>) </span>{
        <span class="hljs-keyword">var</span> token,
            lines,
            backup;

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.backtrack_lexer) {</pre></div></div>
            
        </li>
        
        
        <li id="section-385">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-385">&#182;</a>
              </div>
              <p>save context</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            backup = {
                yylineno: <span class="hljs-keyword">this</span>.yylineno,
                yylloc: {
                    first_line: <span class="hljs-keyword">this</span>.yylloc.first_line,
                    last_line: <span class="hljs-keyword">this</span>.last_line,
                    first_column: <span class="hljs-keyword">this</span>.yylloc.first_column,
                    last_column: <span class="hljs-keyword">this</span>.yylloc.last_column
                },
                yytext: <span class="hljs-keyword">this</span>.yytext,
                match: <span class="hljs-keyword">this</span>.match,
                matches: <span class="hljs-keyword">this</span>.matches,
                matched: <span class="hljs-keyword">this</span>.matched,
                yyleng: <span class="hljs-keyword">this</span>.yyleng,
                offset: <span class="hljs-keyword">this</span>.offset,
                _more: <span class="hljs-keyword">this</span>._more,
                _input: <span class="hljs-keyword">this</span>._input,
                yy: <span class="hljs-keyword">this</span>.yy,
                conditionStack: <span class="hljs-keyword">this</span>.conditionStack.slice(<span class="hljs-number">0</span>),
                done: <span class="hljs-keyword">this</span>.done
            };
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
                backup.yylloc.range = <span class="hljs-keyword">this</span>.yylloc.range.slice(<span class="hljs-number">0</span>);
            }
        }

        lines = match[<span class="hljs-number">0</span>].match(<span class="hljs-regexp">/(?:\r\n?|\n).*/g</span>);
        <span class="hljs-keyword">if</span> (lines) {
            <span class="hljs-keyword">this</span>.yylineno += lines.length;
        }
        <span class="hljs-keyword">this</span>.yylloc = {
            first_line: <span class="hljs-keyword">this</span>.yylloc.last_line,
            last_line: <span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>,
            first_column: <span class="hljs-keyword">this</span>.yylloc.last_column,
            last_column: lines ?
                         lines[lines.length - <span class="hljs-number">1</span>].length - lines[lines.length - <span class="hljs-number">1</span>].match(<span class="hljs-regexp">/\r?\n?/</span>)[<span class="hljs-number">0</span>].length :
                         <span class="hljs-keyword">this</span>.yylloc.last_column + match[<span class="hljs-number">0</span>].length
        };
        <span class="hljs-keyword">this</span>.yytext += match[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.match += match[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.matches = match;
        <span class="hljs-keyword">this</span>.yyleng = <span class="hljs-keyword">this</span>.yytext.length;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range = [<span class="hljs-keyword">this</span>.offset, <span class="hljs-keyword">this</span>.offset += <span class="hljs-keyword">this</span>.yyleng];
        }
        <span class="hljs-keyword">this</span>._more = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>._backtrack = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>._input = <span class="hljs-keyword">this</span>._input.slice(match[<span class="hljs-number">0</span>].length);
        <span class="hljs-keyword">this</span>.matched += match[<span class="hljs-number">0</span>];
        token = <span class="hljs-keyword">this</span>.performAction.call(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.yy, <span class="hljs-keyword">this</span>, indexed_rule, <span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>]);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.done &amp;&amp; <span class="hljs-keyword">this</span>._input) {
            <span class="hljs-keyword">this</span>.done = <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (token) {
            <span class="hljs-keyword">return</span> token;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._backtrack) {</pre></div></div>
            
        </li>
        
        
        <li id="section-386">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-386">&#182;</a>
              </div>
              <p>recover context</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> backup) {
                <span class="hljs-keyword">this</span>[k] = backup[k];
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// rule action called reject() implying the next rule should be tested instead.</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-387">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-387">&#182;</a>
              </div>
              <p>return next match in input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    next: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.done) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.EOF;
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._input) {
            <span class="hljs-keyword">this</span>.done = <span class="hljs-literal">true</span>;
        }

        <span class="hljs-keyword">var</span> token,
            match,
            tempMatch,
            index;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._more) {
            <span class="hljs-keyword">this</span>.yytext = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">this</span>.match = <span class="hljs-string">''</span>;
        }
        <span class="hljs-keyword">var</span> rules = <span class="hljs-keyword">this</span>._currentRules();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; rules.length; i++) {
            tempMatch = <span class="hljs-keyword">this</span>._input.match(<span class="hljs-keyword">this</span>.rules[rules[i]]);
            <span class="hljs-keyword">if</span> (tempMatch &amp;&amp; (!match || tempMatch[<span class="hljs-number">0</span>].length &gt; match[<span class="hljs-number">0</span>].length)) {
                match = tempMatch;
                index = i;
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.backtrack_lexer) {
                    token = <span class="hljs-keyword">this</span>.test_match(tempMatch, rules[i]);
                    <span class="hljs-keyword">if</span> (token !== <span class="hljs-literal">false</span>) {
                        <span class="hljs-keyword">return</span> token;
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._backtrack) {
                        match = <span class="hljs-literal">false</span>;
                        <span class="hljs-keyword">continue</span>; <span class="hljs-comment">// rule action called reject() implying a rule MISmatch.</span>
                    } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-388">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-388">&#182;</a>
              </div>
              <p>else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.options.flex) {
                    <span class="hljs-keyword">break</span>;
                }
            }
        }
        <span class="hljs-keyword">if</span> (match) {
            token = <span class="hljs-keyword">this</span>.test_match(match, rules[index]);
            <span class="hljs-keyword">if</span> (token !== <span class="hljs-literal">false</span>) {
                <span class="hljs-keyword">return</span> token;
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-389">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-389">&#182;</a>
              </div>
              <p>else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._input === <span class="hljs-string">""</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.EOF;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.parseError(<span class="hljs-string">'Lexical error on line '</span> + (<span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">'. Unrecognized text.\n'</span> + <span class="hljs-keyword">this</span>.showPosition(), {
                text: <span class="hljs-string">""</span>,
                token: <span class="hljs-literal">null</span>,
                line: <span class="hljs-keyword">this</span>.yylineno
            });
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-390">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-390">&#182;</a>
              </div>
              <p>return next match that has a token</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    lex: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lex</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> r = <span class="hljs-keyword">this</span>.next();
        <span class="hljs-keyword">if</span> (r) {
            <span class="hljs-keyword">return</span> r;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.lex();
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-391">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-391">&#182;</a>
              </div>
              <p>activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    begin: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">begin</span> (<span class="hljs-params">condition</span>) </span>{
        <span class="hljs-keyword">this</span>.conditionStack.push(condition);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-392">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-392">&#182;</a>
              </div>
              <p>pop the previously active lexer condition state off the condition stack</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    popState: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popState</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> n = <span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack.pop();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-number">0</span>];
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-393">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-393">&#182;</a>
              </div>
              <p>produce the lexer rule set which is active for the currently active lexer condition state</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    _currentRules: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_currentRules</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.conditionStack.length &amp;&amp; <span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>]) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditions[<span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>]].rules;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditions[<span class="hljs-string">"INITIAL"</span>].rules;
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-394">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-394">&#182;</a>
              </div>
              <p>return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    topState: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">topState</span> (<span class="hljs-params">n</span>) </span>{
        n = <span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span> - <span class="hljs-built_in">Math</span>.abs(n || <span class="hljs-number">0</span>);
        <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack[n];
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"INITIAL"</span>;
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-395">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-395">&#182;</a>
              </div>
              <p>alias for begin(condition)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    pushState: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pushState</span> (<span class="hljs-params">condition</span>) </span>{
        <span class="hljs-keyword">this</span>.begin(condition);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-396">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-396">&#182;</a>
              </div>
              <p>return the number of states pushed</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    stateStackSize: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stateStackSize</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack.length;
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-397">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-397">&#182;</a>
              </div>
              <p>generate lexer source from a grammar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generate</span> (<span class="hljs-params">dict, tokens</span>) </span>{
    <span class="hljs-keyword">var</span> opt = processGrammar(dict, tokens);

    <span class="hljs-keyword">return</span> generateFromOpts(opt);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-398">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-398">&#182;</a>
              </div>
              <p>process the grammar and build final data structures and functions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processGrammar</span>(<span class="hljs-params">dict, tokens</span>) </span>{
    <span class="hljs-keyword">var</span> opts = {};
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> dict === <span class="hljs-string">'string'</span>) {
        dict = lexParser.parse(dict);
    }
    dict = dict || {};

    opts.options = dict.options || {};
    opts.moduleType = opts.options.moduleType;
    opts.moduleName = opts.options.moduleName;

    opts.conditions = prepareStartConditions(dict.startConditions);
    opts.conditions.INITIAL = {rules:[],inclusive:<span class="hljs-literal">true</span>};

    opts.performAction = buildActions.call(opts, dict, tokens);
    opts.conditionStack = [<span class="hljs-string">'INITIAL'</span>];

    opts.moduleInclude = (dict.moduleInclude || <span class="hljs-string">''</span>).trim();
    <span class="hljs-keyword">return</span> opts;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-399">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-399">&#182;</a>
              </div>
              <p>Assemble the final source from the processed grammar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateFromOpts</span> (<span class="hljs-params">opt</span>) </span>{
    <span class="hljs-keyword">var</span> code = <span class="hljs-string">""</span>;

    <span class="hljs-keyword">if</span> (opt.moduleType === <span class="hljs-string">'commonjs'</span>) {
        code = generateCommonJSModule(opt);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (opt.moduleType === <span class="hljs-string">'amd'</span>) {
        code = generateAMDModule(opt);
    } <span class="hljs-keyword">else</span> {
        code = generateModule(opt);
    }

    <span class="hljs-keyword">return</span> code;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateModuleBody</span> (<span class="hljs-params">opt</span>) </span>{
    <span class="hljs-keyword">var</span> functionDescriptions = {
        setInput: <span class="hljs-string">"resets the lexer, sets new input"</span>,
        input: <span class="hljs-string">"consumes and returns one char from the input"</span>,
        unput: <span class="hljs-string">"unshifts one char (or a string) into the input"</span>,
        more: <span class="hljs-string">"When called from action, caches matched text and appends it on next action"</span>,
        reject: <span class="hljs-string">"When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead."</span>,
        less: <span class="hljs-string">"retain first n characters of the match"</span>,
        pastInput: <span class="hljs-string">"displays already matched input, i.e. for error messages"</span>,
        upcomingInput: <span class="hljs-string">"displays upcoming input, i.e. for error messages"</span>,
        showPosition: <span class="hljs-string">"displays the character position where the lexing error occurred, i.e. for error messages"</span>,
        test_match: <span class="hljs-string">"test the lexed token: return FALSE when not a match, otherwise return token"</span>,
        next: <span class="hljs-string">"return next match in input"</span>,
        lex: <span class="hljs-string">"return next match that has a token"</span>,
        begin: <span class="hljs-string">"activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)"</span>,
        popState: <span class="hljs-string">"pop the previously active lexer condition state off the condition stack"</span>,
        _currentRules: <span class="hljs-string">"produce the lexer rule set which is active for the currently active lexer condition state"</span>,
        topState: <span class="hljs-string">"return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available"</span>,
        pushState: <span class="hljs-string">"alias for begin(condition)"</span>,
        stateStackSize: <span class="hljs-string">"return the number of states currently on the stack"</span>
    };
    <span class="hljs-keyword">var</span> out = <span class="hljs-string">"({\n"</span>;
    <span class="hljs-keyword">var</span> p = [];
    <span class="hljs-keyword">var</span> descr;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> RegExpLexer.prototype) {
        <span class="hljs-keyword">if</span> (RegExpLexer.prototype.hasOwnProperty(k) &amp;&amp; k.indexOf(<span class="hljs-string">"generate"</span>) === <span class="hljs-number">-1</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-400">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-400">&#182;</a>
              </div>
              <p>copy the function description as a comment before the implementation; supports multi-line descriptions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            descr = <span class="hljs-string">"\n"</span>;
            <span class="hljs-keyword">if</span> (functionDescriptions[k]) {
                descr += <span class="hljs-string">"// "</span> + functionDescriptions[k].replace(<span class="hljs-regexp">/\n/g</span>, <span class="hljs-string">"\n\/\/ "</span>) + <span class="hljs-string">"\n"</span>;
            }
            p.push(descr + k + <span class="hljs-string">":"</span> + (RegExpLexer.prototype[k].toString() || <span class="hljs-string">'""'</span>));
        }
    }
    out += p.join(<span class="hljs-string">",\n"</span>);

    <span class="hljs-keyword">if</span> (opt.options) {
        out += <span class="hljs-string">",\noptions: "</span> + <span class="hljs-built_in">JSON</span>.stringify(opt.options);
    }

    out += <span class="hljs-string">",\nperformAction: "</span> + <span class="hljs-built_in">String</span>(opt.performAction);
    out += <span class="hljs-string">",\nrules: ["</span> + opt.rules + <span class="hljs-string">"]"</span>;
    out += <span class="hljs-string">",\nconditions: "</span> + <span class="hljs-built_in">JSON</span>.stringify(opt.conditions);
    out += <span class="hljs-string">"\n})"</span>;

    <span class="hljs-keyword">return</span> out;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateModule</span>(<span class="hljs-params">opt</span>) </span>{
    opt = opt || {};

    <span class="hljs-keyword">var</span> out = <span class="hljs-string">"/* generated by jison-lex "</span> + version + <span class="hljs-string">" */"</span>;
    <span class="hljs-keyword">var</span> moduleName = opt.moduleName || <span class="hljs-string">"lexer"</span>;

    out += <span class="hljs-string">"\nvar "</span> + moduleName + <span class="hljs-string">" = (function(){\nvar lexer = "</span>
          + generateModuleBody(opt);

    <span class="hljs-keyword">if</span> (opt.moduleInclude) {
        out += <span class="hljs-string">";\n"</span> + opt.moduleInclude;
    }

    out += <span class="hljs-string">";\nreturn lexer;\n})();"</span>;

    <span class="hljs-keyword">return</span> out;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateAMDModule</span>(<span class="hljs-params">opt</span>) </span>{
    <span class="hljs-keyword">var</span> out = <span class="hljs-string">"/* generated by jison-lex "</span> + version + <span class="hljs-string">" */"</span>;

    out += <span class="hljs-string">"define([], function(){\nvar lexer = "</span>
          + generateModuleBody(opt);

    <span class="hljs-keyword">if</span> (opt.moduleInclude) {
        out += <span class="hljs-string">";\n"</span> + opt.moduleInclude;
    }

    out += <span class="hljs-string">";\nreturn lexer;"</span>
         + <span class="hljs-string">"\n});"</span>;

    <span class="hljs-keyword">return</span> out;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateCommonJSModule</span>(<span class="hljs-params">opt</span>) </span>{
    opt = opt || {};

    <span class="hljs-keyword">var</span> out = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> moduleName = opt.moduleName || <span class="hljs-string">"lexer"</span>;

    out += generateModule(opt);
    out += <span class="hljs-string">"\nexports.lexer = "</span> + moduleName;
    out += <span class="hljs-string">";\nexports.lex = function () { return "</span> + moduleName + <span class="hljs-string">".lex.apply(lexer, arguments); };"</span>;
    <span class="hljs-keyword">return</span> out;
}

RegExpLexer.generate = generate;

<span class="hljs-built_in">module</span>.exports = RegExpLexer;


},{<span class="hljs-string">"./package.json"</span>:<span class="hljs-number">24</span>,<span class="hljs-string">"lex-parser"</span>:<span class="hljs-number">29</span>}],<span class="hljs-number">26</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-401">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-401">&#182;</a>
              </div>
              <p>Set class to wrap arrays</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> typal = <span class="hljs-built_in">require</span>(<span class="hljs-string">"./typal"</span>).typal;

<span class="hljs-keyword">var</span> setMixin = {
    <span class="hljs-keyword">constructor</span>: function Set_constructor (set, raw) {
        <span class="hljs-keyword">this</span>._items = [];
        <span class="hljs-keyword">if</span> (set &amp;&amp; set.constructor === <span class="hljs-built_in">Array</span>)
            <span class="hljs-keyword">this</span>._items = raw ? set: set.slice(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-built_in">arguments</span>.length)
            <span class="hljs-keyword">this</span>._items = [].slice.call(<span class="hljs-built_in">arguments</span>,<span class="hljs-number">0</span>);
    },
    concat: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">concat</span> (<span class="hljs-params">setB</span>) </span>{
        <span class="hljs-keyword">this</span>._items.push.apply(<span class="hljs-keyword">this</span>._items, setB._items || setB); 
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },
    eq: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eq</span> (<span class="hljs-params">set</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._items.length === set._items.length &amp;&amp; <span class="hljs-keyword">this</span>.subset(set); 
    },
    indexOf: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">indexOf</span> (<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">if</span>(item &amp;&amp; item.eq) {
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> k=<span class="hljs-number">0</span>; k&lt;<span class="hljs-keyword">this</span>._items.length;k++)
                <span class="hljs-keyword">if</span>(item.eq(<span class="hljs-keyword">this</span>._items[k]))
                    <span class="hljs-keyword">return</span> k;
            <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._items.indexOf(item);
    },
    union: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">union</span> (<span class="hljs-params">set</span>) </span>{
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>(<span class="hljs-keyword">this</span>._items)).concat(<span class="hljs-keyword">this</span>.complement(set));
    },
    intersection: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">intersection</span> (<span class="hljs-params">set</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">elm</span>) </span>{
            <span class="hljs-keyword">return</span> set.contains(elm);
        });
    },
    complement: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">complement</span> (<span class="hljs-params">set</span>) </span>{
        <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">return</span> set.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sub_complement</span> (<span class="hljs-params">elm</span>) </span>{
            <span class="hljs-keyword">return</span> !that.contains(elm);
        });
    },
    subset: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">subset</span> (<span class="hljs-params">set</span>) </span>{
        <span class="hljs-keyword">var</span> cont = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-keyword">this</span>._items.length &amp;&amp; cont;i++) {
            cont = cont &amp;&amp; set.contains(<span class="hljs-keyword">this</span>._items[i]);
        }
        <span class="hljs-keyword">return</span> cont;
    },
    superset: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">superset</span> (<span class="hljs-params">set</span>) </span>{
        <span class="hljs-keyword">return</span> set.subset(<span class="hljs-keyword">this</span>);
    },
    joinSet: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">joinSet</span> (<span class="hljs-params">set</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.concat(<span class="hljs-keyword">this</span>.complement(set));
    },
    contains: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">contains</span> (<span class="hljs-params">item</span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.indexOf(item) !== <span class="hljs-number">-1</span>; },
    item: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">item</span> (<span class="hljs-params">v, val</span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._items[v]; },
    i: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span> (<span class="hljs-params">v, val</span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._items[v]; },
    first: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">first</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._items[<span class="hljs-number">0</span>]; },
    last: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">last</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._items[<span class="hljs-keyword">this</span>._items.length<span class="hljs-number">-1</span>]; },
    size: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">size</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._items.length; },
    isEmpty: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isEmpty</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._items.length === <span class="hljs-number">0</span>; },
    copy: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">copy</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>(<span class="hljs-keyword">this</span>._items); },
    toString: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toString</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._items.toString(); }
};

<span class="hljs-string">"push shift unshift forEach some every join sort"</span>.split(<span class="hljs-string">' '</span>).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e,i</span>) </span>{
    setMixin[e] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">Array</span>.prototype[e].apply(<span class="hljs-keyword">this</span>._items, <span class="hljs-built_in">arguments</span>); };
    setMixin[e].name = e;
});
<span class="hljs-string">"filter slice map"</span>.split(<span class="hljs-string">' '</span>).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e,i</span>) </span>{
    setMixin[e] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>(<span class="hljs-built_in">Array</span>.prototype[e].apply(<span class="hljs-keyword">this</span>._items, <span class="hljs-built_in">arguments</span>), <span class="hljs-literal">true</span>); };
    setMixin[e].name = e;
});

<span class="hljs-keyword">var</span> <span class="hljs-built_in">Set</span> = typal.construct(setMixin).mix({
    union: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">var</span> ar = {};
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k=a.length<span class="hljs-number">-1</span>;k &gt;=<span class="hljs-number">0</span>;--k) {
            ar[a[k]] = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=b.length<span class="hljs-number">-1</span>;i &gt;= <span class="hljs-number">0</span>;--i) {
            <span class="hljs-keyword">if</span> (!ar[b[i]]) {
                a.push(b[i]);
            }
        }
        <span class="hljs-keyword">return</span> a;
    }
});

<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> exports !== <span class="hljs-string">'undefined'</span>)
    exports.Set = <span class="hljs-built_in">Set</span>;


},{<span class="hljs-string">"./typal"</span>:<span class="hljs-number">27</span>}],<span class="hljs-number">27</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-comment">/*
 * Introduces a typal object to make classical/prototypal patterns easier
 * Plus some AOP sugar
 *
 * By Zachary Carter &lt;zach@carter.name&gt;
 * MIT Licensed
 * */</span>

<span class="hljs-keyword">var</span> typal = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

<span class="hljs-keyword">var</span> create = <span class="hljs-built_in">Object</span>.create || <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">o</span>) </span>{ <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">F</span>(<span class="hljs-params"></span>)</span>{} F.prototype = o; <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> F(); };
<span class="hljs-keyword">var</span> position = <span class="hljs-regexp">/^(before|after)/</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-402">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-402">&#182;</a>
              </div>
              <p>basic method layering
always returns original method’s return value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">layerMethod</span>(<span class="hljs-params">k, fun</span>) </span>{
    <span class="hljs-keyword">var</span> pos = k.match(position)[<span class="hljs-number">0</span>],
        key = k.replace(position, <span class="hljs-string">''</span>),
        prop = <span class="hljs-keyword">this</span>[key];

    <span class="hljs-keyword">if</span> (pos === <span class="hljs-string">'after'</span>) {
        <span class="hljs-keyword">this</span>[key] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> ret = prop.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">var</span> args = [].slice.call(<span class="hljs-built_in">arguments</span>);
            args.splice(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, ret);
            fun.apply(<span class="hljs-keyword">this</span>, args);
            <span class="hljs-keyword">return</span> ret;
        };
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pos === <span class="hljs-string">'before'</span>) {
        <span class="hljs-keyword">this</span>[key] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            fun.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">var</span> ret = prop.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">return</span> ret;
        };
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-403">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-403">&#182;</a>
              </div>
              <p>mixes each argument’s own properties into calling object,
overwriting them or layering them. i.e. an object method ‘meth’ is
layered by mixin methods ‘beforemeth’ or ‘aftermeth’</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">typal_mix</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,o,k; i&lt;<span class="hljs-built_in">arguments</span>.length; i++) {
        o=<span class="hljs-built_in">arguments</span>[i];
        <span class="hljs-keyword">if</span> (!o) <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(o,<span class="hljs-string">'constructor'</span>))
            <span class="hljs-keyword">this</span>.constructor = o.constructor;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(o,<span class="hljs-string">'toString'</span>))
            <span class="hljs-keyword">this</span>.toString = o.toString;
        <span class="hljs-keyword">for</span>(k <span class="hljs-keyword">in</span> o) {
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(o, k)) {
                <span class="hljs-keyword">if</span>(k.match(position) &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>[k.replace(position, <span class="hljs-string">''</span>)] === <span class="hljs-string">'function'</span>)
                    layerMethod.call(<span class="hljs-keyword">this</span>, k, o[k]);
                <span class="hljs-keyword">else</span>
                    <span class="hljs-keyword">this</span>[k] = o[k];
            }
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
}

<span class="hljs-keyword">return</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-404">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-404">&#182;</a>
              </div>
              <p>extend object with own typalperties of each argument</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    mix: typal_mix,</pre></div></div>
            
        </li>
        
        
        <li id="section-405">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-405">&#182;</a>
              </div>
              <p>sugar for object begetting and mixing</p>
<ul>
<li>Object.create(typal).mix(etc, etc);</li>
<li>typal.beget(etc, etc);</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    beget: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">typal_beget</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">arguments</span>.length ? typal_mix.apply(create(<span class="hljs-keyword">this</span>), <span class="hljs-built_in">arguments</span>) : create(<span class="hljs-keyword">this</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-406">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-406">&#182;</a>
              </div>
              <p>Creates a new Class function based on an object with a constructor method</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    construct: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">typal_construct</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> o = typal_mix.apply(create(<span class="hljs-keyword">this</span>), <span class="hljs-built_in">arguments</span>);
        <span class="hljs-keyword">var</span> <span class="hljs-keyword">constructor</span> = o.<span class="hljs-keyword">constructor</span>;
        var Klass = o.<span class="hljs-keyword">constructor</span> = function () { <span class="hljs-keyword">return</span> <span class="hljs-keyword">constructor</span>.apply(this, arguments); };
        Klass.prototype = o;
        Klass.mix = typal_mix; // allow for easy singleton property extension
        return Klass;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-407">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-407">&#182;</a>
              </div>
              <p>no op</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">constructor</span>: function typal_constructor() { <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>; }
};

})();

<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> exports !== <span class="hljs-string">'undefined'</span>)
    exports.typal = typal;

},{}],<span class="hljs-number">28</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-built_in">module</span>.exports={
  <span class="hljs-string">"_args"</span>: [
    [
      <span class="hljs-string">"jison"</span>,
      <span class="hljs-string">"/Users/micaelaestabillo/Google_Drive/COMP_SCI_4TB3/pureJS_Project"</span>
    ]
  ],
  <span class="hljs-string">"_from"</span>: <span class="hljs-string">"jison@*"</span>,
  <span class="hljs-string">"_id"</span>: <span class="hljs-string">"jison@0.4.17"</span>,
  <span class="hljs-string">"_inCache"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">"_installable"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">"_location"</span>: <span class="hljs-string">"/jison"</span>,
  <span class="hljs-string">"_nodeVersion"</span>: <span class="hljs-string">"4.2.3"</span>,
  <span class="hljs-string">"_npmUser"</span>: {
    <span class="hljs-string">"email"</span>: <span class="hljs-string">"zack.carter@gmail.com"</span>,
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"zaach"</span>
  },
  <span class="hljs-string">"_npmVersion"</span>: <span class="hljs-string">"2.14.7"</span>,
  <span class="hljs-string">"_phantomChildren"</span>: {},
  <span class="hljs-string">"_requested"</span>: {
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"jison"</span>,
    <span class="hljs-string">"raw"</span>: <span class="hljs-string">"jison"</span>,
    <span class="hljs-string">"rawSpec"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-string">"scope"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-string">"spec"</span>: <span class="hljs-string">"*"</span>,
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"range"</span>
  },
  <span class="hljs-string">"_requiredBy"</span>: [
    <span class="hljs-string">"#USER"</span>
  ],
  <span class="hljs-string">"_resolved"</span>: <span class="hljs-string">"https://registry.npmjs.org/jison/-/jison-0.4.17.tgz"</span>,
  <span class="hljs-string">"_shasum"</span>: <span class="hljs-string">"bc12d46c5845e6fee89ccf35bd2a8cc73eba17f3"</span>,
  <span class="hljs-string">"_shrinkwrap"</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-string">"_spec"</span>: <span class="hljs-string">"jison"</span>,
  <span class="hljs-string">"_where"</span>: <span class="hljs-string">"/Users/micaelaestabillo/Google_Drive/COMP_SCI_4TB3/pureJS_Project"</span>,
  <span class="hljs-string">"author"</span>: {
    <span class="hljs-string">"email"</span>: <span class="hljs-string">"zach@carter.name"</span>,
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"Zach Carter"</span>,
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"http://zaa.ch"</span>
  },
  <span class="hljs-string">"bin"</span>: {
    <span class="hljs-string">"jison"</span>: <span class="hljs-string">"lib/cli.js"</span>
  },
  <span class="hljs-string">"bugs"</span>: {
    <span class="hljs-string">"email"</span>: <span class="hljs-string">"jison@librelist.com"</span>,
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"http://github.com/zaach/jison/issues"</span>
  },
  <span class="hljs-string">"dependencies"</span>: {
    <span class="hljs-string">"JSONSelect"</span>: <span class="hljs-string">"0.4.0"</span>,
    <span class="hljs-string">"cjson"</span>: <span class="hljs-string">"0.3.0"</span>,
    <span class="hljs-string">"ebnf-parser"</span>: <span class="hljs-string">"0.1.10"</span>,
    <span class="hljs-string">"escodegen"</span>: <span class="hljs-string">"1.3.x"</span>,
    <span class="hljs-string">"esprima"</span>: <span class="hljs-string">"1.1.x"</span>,
    <span class="hljs-string">"jison-lex"</span>: <span class="hljs-string">"0.3.x"</span>,
    <span class="hljs-string">"lex-parser"</span>: <span class="hljs-string">"~0.1.3"</span>,
    <span class="hljs-string">"nomnom"</span>: <span class="hljs-string">"1.5.2"</span>
  },
  <span class="hljs-string">"description"</span>: <span class="hljs-string">"A parser generator with Bison's API"</span>,
  <span class="hljs-string">"devDependencies"</span>: {
    <span class="hljs-string">"browserify"</span>: <span class="hljs-string">"2.x.x"</span>,
    <span class="hljs-string">"jison"</span>: <span class="hljs-string">"0.4.x"</span>,
    <span class="hljs-string">"test"</span>: <span class="hljs-string">"0.6.x"</span>,
    <span class="hljs-string">"uglify-js"</span>: <span class="hljs-string">"~2.4.0"</span>
  },
  <span class="hljs-string">"directories"</span>: {},
  <span class="hljs-string">"dist"</span>: {
    <span class="hljs-string">"shasum"</span>: <span class="hljs-string">"bc12d46c5845e6fee89ccf35bd2a8cc73eba17f3"</span>,
    <span class="hljs-string">"tarball"</span>: <span class="hljs-string">"http://registry.npmjs.org/jison/-/jison-0.4.17.tgz"</span>
  },
  <span class="hljs-string">"engines"</span>: {
    <span class="hljs-string">"node"</span>: <span class="hljs-string">"&gt;=0.4"</span>
  },
  <span class="hljs-string">"gitHead"</span>: <span class="hljs-string">"9f2f188419f7790a46a5e9a6c882834d0fa16314"</span>,
  <span class="hljs-string">"homepage"</span>: <span class="hljs-string">"http://jison.org"</span>,
  <span class="hljs-string">"keywords"</span>: [
    <span class="hljs-string">"bison"</span>,
    <span class="hljs-string">"compiler"</span>,
    <span class="hljs-string">"flex"</span>,
    <span class="hljs-string">"generator"</span>,
    <span class="hljs-string">"jison"</span>,
    <span class="hljs-string">"lexer"</span>,
    <span class="hljs-string">"parser"</span>,
    <span class="hljs-string">"tokenizer"</span>,
    <span class="hljs-string">"yacc"</span>
  ],
  <span class="hljs-string">"license"</span>: <span class="hljs-string">"MIT"</span>,
  <span class="hljs-string">"main"</span>: <span class="hljs-string">"lib/jison"</span>,
  <span class="hljs-string">"maintainers"</span>: [
    {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"zaach"</span>,
      <span class="hljs-string">"email"</span>: <span class="hljs-string">"zack.carter@gmail.com"</span>
    }
  ],
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"jison"</span>,
  <span class="hljs-string">"optionalDependencies"</span>: {},
  <span class="hljs-string">"preferGlobal"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">"readme"</span>: <span class="hljs-string">"ERROR: No README data found!"</span>,
  <span class="hljs-string">"repository"</span>: {
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"git"</span>,
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"git://github.com/zaach/jison.git"</span>
  },
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"test"</span>: <span class="hljs-string">"node tests/all-tests.js"</span>
  },
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"0.4.17"</span>
}

},{}],<span class="hljs-number">29</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">process</span>)</span>{
<span class="hljs-comment">/* parser generated by jison 0.4.6 */</span>
<span class="hljs-comment">/*
  Returns a Parser object of the following structure:

  Parser: {
    yy: {}
  }

  Parser.prototype: {
    yy: {},
    trace: function(),
    symbols_: {associative list: name ==&gt; number},
    terminals_: {associative list: number ==&gt; name},
    productions_: [...],
    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),
    table: [...],
    defaultActions: {...},
    parseError: function(str, hash),
    parse: function(input),

    lexer: {
        EOF: 1,
        parseError: function(str, hash),
        setInput: function(input),
        input: function(),
        unput: function(str),
        more: function(),
        less: function(n),
        pastInput: function(),
        upcomingInput: function(),
        showPosition: function(),
        test_match: function(regex_match_array, rule_index),
        next: function(),
        lex: function(),
        begin: function(condition),
        popState: function(),
        _currentRules: function(),
        topState: function(),
        pushState: function(condition),

        options: {
            ranges: boolean           (optional: true ==&gt; token location info will include a .range[] member)
            flex: boolean             (optional: true ==&gt; flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)
            backtrack_lexer: boolean  (optional: true ==&gt; lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)
        },

        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),
        rules: [...],
        conditions: {associative list: name ==&gt; set},
    }
  }


  token location info (@$, _$, etc.): {
    first_line: n,
    last_line: n,
    first_column: n,
    last_column: n,
    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)
  }


  the parseError function receives a 'hash' object with these members for lexer and parser errors: {
    text:        (matched text)
    token:       (the produced terminal token, if any)
    line:        (yylineno)
  }
  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {
    loc:         (yylloc)
    expected:    (string describing the set of expected tokens)
    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)
  }
*/</span>
<span class="hljs-keyword">var</span> lex = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-keyword">var</span> parser = {trace: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trace</span>(<span class="hljs-params"></span>) </span>{ },
yy: {},
symbols_: {<span class="hljs-string">"error"</span>:<span class="hljs-number">2</span>,<span class="hljs-string">"lex"</span>:<span class="hljs-number">3</span>,<span class="hljs-string">"definitions"</span>:<span class="hljs-number">4</span>,<span class="hljs-string">"%%"</span>:<span class="hljs-number">5</span>,<span class="hljs-string">"rules"</span>:<span class="hljs-number">6</span>,<span class="hljs-string">"epilogue"</span>:<span class="hljs-number">7</span>,<span class="hljs-string">"EOF"</span>:<span class="hljs-number">8</span>,<span class="hljs-string">"CODE"</span>:<span class="hljs-number">9</span>,<span class="hljs-string">"definition"</span>:<span class="hljs-number">10</span>,<span class="hljs-string">"ACTION"</span>:<span class="hljs-number">11</span>,<span class="hljs-string">"NAME"</span>:<span class="hljs-number">12</span>,<span class="hljs-string">"regex"</span>:<span class="hljs-number">13</span>,<span class="hljs-string">"START_INC"</span>:<span class="hljs-number">14</span>,<span class="hljs-string">"names_inclusive"</span>:<span class="hljs-number">15</span>,<span class="hljs-string">"START_EXC"</span>:<span class="hljs-number">16</span>,<span class="hljs-string">"names_exclusive"</span>:<span class="hljs-number">17</span>,<span class="hljs-string">"START_COND"</span>:<span class="hljs-number">18</span>,<span class="hljs-string">"rule"</span>:<span class="hljs-number">19</span>,<span class="hljs-string">"start_conditions"</span>:<span class="hljs-number">20</span>,<span class="hljs-string">"action"</span>:<span class="hljs-number">21</span>,<span class="hljs-string">"{"</span>:<span class="hljs-number">22</span>,<span class="hljs-string">"action_body"</span>:<span class="hljs-number">23</span>,<span class="hljs-string">"}"</span>:<span class="hljs-number">24</span>,<span class="hljs-string">"action_comments_body"</span>:<span class="hljs-number">25</span>,<span class="hljs-string">"ACTION_BODY"</span>:<span class="hljs-number">26</span>,<span class="hljs-string">"&lt;"</span>:<span class="hljs-number">27</span>,<span class="hljs-string">"name_list"</span>:<span class="hljs-number">28</span>,<span class="hljs-string">"&gt;"</span>:<span class="hljs-number">29</span>,<span class="hljs-string">"*"</span>:<span class="hljs-number">30</span>,<span class="hljs-string">","</span>:<span class="hljs-number">31</span>,<span class="hljs-string">"regex_list"</span>:<span class="hljs-number">32</span>,<span class="hljs-string">"|"</span>:<span class="hljs-number">33</span>,<span class="hljs-string">"regex_concat"</span>:<span class="hljs-number">34</span>,<span class="hljs-string">"regex_base"</span>:<span class="hljs-number">35</span>,<span class="hljs-string">"("</span>:<span class="hljs-number">36</span>,<span class="hljs-string">")"</span>:<span class="hljs-number">37</span>,<span class="hljs-string">"SPECIAL_GROUP"</span>:<span class="hljs-number">38</span>,<span class="hljs-string">"+"</span>:<span class="hljs-number">39</span>,<span class="hljs-string">"?"</span>:<span class="hljs-number">40</span>,<span class="hljs-string">"/"</span>:<span class="hljs-number">41</span>,<span class="hljs-string">"/!"</span>:<span class="hljs-number">42</span>,<span class="hljs-string">"name_expansion"</span>:<span class="hljs-number">43</span>,<span class="hljs-string">"range_regex"</span>:<span class="hljs-number">44</span>,<span class="hljs-string">"any_group_regex"</span>:<span class="hljs-number">45</span>,<span class="hljs-string">"."</span>:<span class="hljs-number">46</span>,<span class="hljs-string">"^"</span>:<span class="hljs-number">47</span>,<span class="hljs-string">"$"</span>:<span class="hljs-number">48</span>,<span class="hljs-string">"string"</span>:<span class="hljs-number">49</span>,<span class="hljs-string">"escape_char"</span>:<span class="hljs-number">50</span>,<span class="hljs-string">"NAME_BRACE"</span>:<span class="hljs-number">51</span>,<span class="hljs-string">"ANY_GROUP_REGEX"</span>:<span class="hljs-number">52</span>,<span class="hljs-string">"ESCAPE_CHAR"</span>:<span class="hljs-number">53</span>,<span class="hljs-string">"RANGE_REGEX"</span>:<span class="hljs-number">54</span>,<span class="hljs-string">"STRING_LIT"</span>:<span class="hljs-number">55</span>,<span class="hljs-string">"CHARACTER_LIT"</span>:<span class="hljs-number">56</span>,<span class="hljs-string">"$accept"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"$end"</span>:<span class="hljs-number">1</span>},
terminals_: {<span class="hljs-number">2</span>:<span class="hljs-string">"error"</span>,<span class="hljs-number">5</span>:<span class="hljs-string">"%%"</span>,<span class="hljs-number">8</span>:<span class="hljs-string">"EOF"</span>,<span class="hljs-number">9</span>:<span class="hljs-string">"CODE"</span>,<span class="hljs-number">11</span>:<span class="hljs-string">"ACTION"</span>,<span class="hljs-number">12</span>:<span class="hljs-string">"NAME"</span>,<span class="hljs-number">14</span>:<span class="hljs-string">"START_INC"</span>,<span class="hljs-number">16</span>:<span class="hljs-string">"START_EXC"</span>,<span class="hljs-number">18</span>:<span class="hljs-string">"START_COND"</span>,<span class="hljs-number">22</span>:<span class="hljs-string">"{"</span>,<span class="hljs-number">24</span>:<span class="hljs-string">"}"</span>,<span class="hljs-number">26</span>:<span class="hljs-string">"ACTION_BODY"</span>,<span class="hljs-number">27</span>:<span class="hljs-string">"&lt;"</span>,<span class="hljs-number">29</span>:<span class="hljs-string">"&gt;"</span>,<span class="hljs-number">30</span>:<span class="hljs-string">"*"</span>,<span class="hljs-number">31</span>:<span class="hljs-string">","</span>,<span class="hljs-number">33</span>:<span class="hljs-string">"|"</span>,<span class="hljs-number">36</span>:<span class="hljs-string">"("</span>,<span class="hljs-number">37</span>:<span class="hljs-string">")"</span>,<span class="hljs-number">38</span>:<span class="hljs-string">"SPECIAL_GROUP"</span>,<span class="hljs-number">39</span>:<span class="hljs-string">"+"</span>,<span class="hljs-number">40</span>:<span class="hljs-string">"?"</span>,<span class="hljs-number">41</span>:<span class="hljs-string">"/"</span>,<span class="hljs-number">42</span>:<span class="hljs-string">"/!"</span>,<span class="hljs-number">46</span>:<span class="hljs-string">"."</span>,<span class="hljs-number">47</span>:<span class="hljs-string">"^"</span>,<span class="hljs-number">48</span>:<span class="hljs-string">"$"</span>,<span class="hljs-number">51</span>:<span class="hljs-string">"NAME_BRACE"</span>,<span class="hljs-number">52</span>:<span class="hljs-string">"ANY_GROUP_REGEX"</span>,<span class="hljs-number">53</span>:<span class="hljs-string">"ESCAPE_CHAR"</span>,<span class="hljs-number">54</span>:<span class="hljs-string">"RANGE_REGEX"</span>,<span class="hljs-number">55</span>:<span class="hljs-string">"STRING_LIT"</span>,<span class="hljs-number">56</span>:<span class="hljs-string">"CHARACTER_LIT"</span>},
productions_: [<span class="hljs-number">0</span>,[<span class="hljs-number">3</span>,<span class="hljs-number">4</span>],[<span class="hljs-number">7</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">7</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">7</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">10</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">10</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">10</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">15</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">15</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">17</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">17</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">6</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">6</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">19</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">21</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">21</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">23</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">23</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">23</span>,<span class="hljs-number">5</span>],[<span class="hljs-number">23</span>,<span class="hljs-number">4</span>],[<span class="hljs-number">25</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">25</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">20</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">20</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">20</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">28</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">28</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">13</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">32</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">32</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">32</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">32</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">34</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">34</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">35</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">43</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">45</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">50</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">44</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">49</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">49</span>,<span class="hljs-number">1</span>]],
performAction: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">anonymous</span>(<span class="hljs-params">yytext, yyleng, yylineno, yy, yystate <span class="hljs-comment">/* action[1] */</span>, $$ <span class="hljs-comment">/* vstack */</span>, _$ <span class="hljs-comment">/* lstack */</span></span>) </span>{
<span class="hljs-comment">/* this == yyval */</span>

<span class="hljs-keyword">var</span> $<span class="hljs-number">0</span> = $$.length - <span class="hljs-number">1</span>;
<span class="hljs-keyword">switch</span> (yystate) {
<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: 
          <span class="hljs-keyword">this</span>.$ = { rules: $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] };
          <span class="hljs-keyword">if</span> ($$[$<span class="hljs-number">0</span><span class="hljs-number">-3</span>][<span class="hljs-number">0</span>]) <span class="hljs-keyword">this</span>.$.macros = $$[$<span class="hljs-number">0</span><span class="hljs-number">-3</span>][<span class="hljs-number">0</span>];
          <span class="hljs-keyword">if</span> ($$[$<span class="hljs-number">0</span><span class="hljs-number">-3</span>][<span class="hljs-number">1</span>]) <span class="hljs-keyword">this</span>.$.startConditions = $$[$<span class="hljs-number">0</span><span class="hljs-number">-3</span>][<span class="hljs-number">1</span>];
          <span class="hljs-keyword">if</span> ($$[$<span class="hljs-number">0</span>]) <span class="hljs-keyword">this</span>.$.moduleInclude = $$[$<span class="hljs-number">0</span>];
          <span class="hljs-keyword">if</span> (yy.options) <span class="hljs-keyword">this</span>.$.options = yy.options;
          <span class="hljs-keyword">if</span> (yy.actionInclude) <span class="hljs-keyword">this</span>.$.actionInclude = yy.actionInclude;
          <span class="hljs-keyword">delete</span> yy.options;
          <span class="hljs-keyword">delete</span> yy.actionInclude;
          <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.$; 
        
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: <span class="hljs-keyword">this</span>.$ = <span class="hljs-literal">null</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: <span class="hljs-keyword">this</span>.$ = <span class="hljs-literal">null</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
          <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>];
          <span class="hljs-keyword">if</span> (<span class="hljs-string">'length'</span> <span class="hljs-keyword">in</span> $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]) {
            <span class="hljs-keyword">this</span>.$[<span class="hljs-number">0</span>] = <span class="hljs-keyword">this</span>.$[<span class="hljs-number">0</span>] || {};
            <span class="hljs-keyword">this</span>.$[<span class="hljs-number">0</span>][$$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>][<span class="hljs-number">0</span>]] = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>][<span class="hljs-number">1</span>];
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.$[<span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.$[<span class="hljs-number">1</span>] || {};
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]) {
              <span class="hljs-keyword">this</span>.$[<span class="hljs-number">1</span>][name] = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>][name];
            }
          }
        
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>: yy.actionInclude += $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]; <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>: yy.actionInclude = <span class="hljs-string">''</span>; <span class="hljs-keyword">this</span>.$ = [<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">8</span>: <span class="hljs-keyword">this</span>.$ = [$$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>], $$[$<span class="hljs-number">0</span>]]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">9</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">10</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">11</span>: <span class="hljs-keyword">this</span>.$ = {}; <span class="hljs-keyword">this</span>.$[$$[$<span class="hljs-number">0</span>]] = <span class="hljs-number">0</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">12</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]; <span class="hljs-keyword">this</span>.$[$$[$<span class="hljs-number">0</span>]] = <span class="hljs-number">0</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">13</span>: <span class="hljs-keyword">this</span>.$ = {}; <span class="hljs-keyword">this</span>.$[$$[$<span class="hljs-number">0</span>]] = <span class="hljs-number">1</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">14</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]; <span class="hljs-keyword">this</span>.$[$$[$<span class="hljs-number">0</span>]] = <span class="hljs-number">1</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">15</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]; <span class="hljs-keyword">this</span>.$.push($$[$<span class="hljs-number">0</span>]); 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">16</span>: <span class="hljs-keyword">this</span>.$ = [$$[$<span class="hljs-number">0</span>]]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">17</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>] ? [$$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>], $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>], $$[$<span class="hljs-number">0</span>]] : [$$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>],$$[$<span class="hljs-number">0</span>]]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">20</span>:<span class="hljs-keyword">this</span>.$ = <span class="hljs-string">''</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-4</span>]+$$[$<span class="hljs-number">0</span><span class="hljs-number">-3</span>]+$$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>]+$$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]+$$[$<span class="hljs-number">0</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-3</span>] + $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>] + $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] + $$[$<span class="hljs-number">0</span>];
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">24</span>: <span class="hljs-keyword">this</span>.$ = yytext; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">25</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]+$$[$<span class="hljs-number">0</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">26</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">27</span>: <span class="hljs-keyword">this</span>.$ = [<span class="hljs-string">'*'</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">29</span>: <span class="hljs-keyword">this</span>.$ = [$$[$<span class="hljs-number">0</span>]]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">30</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>]; <span class="hljs-keyword">this</span>.$.push($$[$<span class="hljs-number">0</span>]); 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:
          <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span>];
          <span class="hljs-keyword">if</span> (!(yy.options &amp;&amp; yy.options.flex) &amp;&amp; <span class="hljs-keyword">this</span>.$.match(<span class="hljs-regexp">/[\w\d]$/</span>) &amp;&amp; !<span class="hljs-keyword">this</span>.$.match(<span class="hljs-regexp">/\\(r|f|n|t|v|s|b|c[A-Z]|x[0-9A-F]{2}|u[a-fA-F0-9]{4}|[0-7]{1,3})$/</span>)) {
              <span class="hljs-keyword">this</span>.$ += <span class="hljs-string">"\\b"</span>;
          }
        
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">32</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>] + <span class="hljs-string">'|'</span> + $$[$<span class="hljs-number">0</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">33</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] + <span class="hljs-string">'|'</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">35</span>: <span class="hljs-keyword">this</span>.$ = <span class="hljs-string">''</span> 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">36</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] + $$[$<span class="hljs-number">0</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">38</span>: <span class="hljs-keyword">this</span>.$ = <span class="hljs-string">'('</span> + $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] + <span class="hljs-string">')'</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">39</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-2</span>] + $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] + <span class="hljs-string">')'</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">40</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] + <span class="hljs-string">'+'</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">41</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] + <span class="hljs-string">'*'</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">42</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] + <span class="hljs-string">'?'</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">43</span>: <span class="hljs-keyword">this</span>.$ = <span class="hljs-string">'(?='</span> + $$[$<span class="hljs-number">0</span>] + <span class="hljs-string">')'</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">44</span>: <span class="hljs-keyword">this</span>.$ = <span class="hljs-string">'(?!'</span> + $$[$<span class="hljs-number">0</span>] + <span class="hljs-string">')'</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">46</span>: <span class="hljs-keyword">this</span>.$ = $$[$<span class="hljs-number">0</span><span class="hljs-number">-1</span>] + $$[$<span class="hljs-number">0</span>]; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">48</span>: <span class="hljs-keyword">this</span>.$ = <span class="hljs-string">'.'</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">49</span>: <span class="hljs-keyword">this</span>.$ = <span class="hljs-string">'^'</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">50</span>: <span class="hljs-keyword">this</span>.$ = <span class="hljs-string">'$'</span>; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">54</span>: <span class="hljs-keyword">this</span>.$ = yytext; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">55</span>: <span class="hljs-keyword">this</span>.$ = yytext; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">56</span>: <span class="hljs-keyword">this</span>.$ = yytext; 
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">57</span>: <span class="hljs-keyword">this</span>.$ = prepareString(yytext.substr(<span class="hljs-number">1</span>, yytext.length - <span class="hljs-number">2</span>)); 
<span class="hljs-keyword">break</span>;
}
},
table: [{<span class="hljs-number">3</span>:<span class="hljs-number">1</span>,<span class="hljs-number">4</span>:<span class="hljs-number">2</span>,<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">10</span>:<span class="hljs-number">3</span>,<span class="hljs-number">11</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">4</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">5</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">6</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">7</span>]},{<span class="hljs-number">1</span>:[<span class="hljs-number">3</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">8</span>]},{<span class="hljs-number">4</span>:<span class="hljs-number">9</span>,<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">10</span>:<span class="hljs-number">3</span>,<span class="hljs-number">11</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">4</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">5</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">6</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">7</span>]},{<span class="hljs-number">4</span>:<span class="hljs-number">10</span>,<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">7</span>],<span class="hljs-number">10</span>:<span class="hljs-number">3</span>,<span class="hljs-number">11</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">4</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">5</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">6</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">7</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">13</span>:<span class="hljs-number">11</span>,<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">32</span>:<span class="hljs-number">12</span>,<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">34</span>:<span class="hljs-number">13</span>,<span class="hljs-number">35</span>:<span class="hljs-number">14</span>,<span class="hljs-number">36</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">15</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">16</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">17</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">18</span>],<span class="hljs-number">43</span>:<span class="hljs-number">19</span>,<span class="hljs-number">45</span>:<span class="hljs-number">20</span>,<span class="hljs-number">46</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">22</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">23</span>],<span class="hljs-number">49</span>:<span class="hljs-number">24</span>,<span class="hljs-number">50</span>:<span class="hljs-number">25</span>,<span class="hljs-number">51</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">27</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">30</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">28</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">15</span>:<span class="hljs-number">31</span>,<span class="hljs-number">18</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">32</span>]},{<span class="hljs-number">17</span>:<span class="hljs-number">33</span>,<span class="hljs-number">18</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">34</span>]},{<span class="hljs-number">6</span>:<span class="hljs-number">35</span>,<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">19</span>:<span class="hljs-number">36</span>,<span class="hljs-number">20</span>:<span class="hljs-number">37</span>,<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">27</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">38</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">8</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">31</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">31</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">31</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">31</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">31</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">31</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">39</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">35</span>:<span class="hljs-number">40</span>,<span class="hljs-number">36</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">15</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">34</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">16</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">17</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">18</span>],<span class="hljs-number">43</span>:<span class="hljs-number">19</span>,<span class="hljs-number">45</span>:<span class="hljs-number">20</span>,<span class="hljs-number">46</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">22</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">23</span>],<span class="hljs-number">49</span>:<span class="hljs-number">24</span>,<span class="hljs-number">50</span>:<span class="hljs-number">25</span>,<span class="hljs-number">51</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">27</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">30</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">28</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">42</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">41</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">43</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">44</span>:<span class="hljs-number">44</span>,<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">45</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">37</span>]},{<span class="hljs-number">32</span>:<span class="hljs-number">46</span>,<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">34</span>:<span class="hljs-number">13</span>,<span class="hljs-number">35</span>:<span class="hljs-number">14</span>,<span class="hljs-number">36</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">15</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">16</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">17</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">18</span>],<span class="hljs-number">43</span>:<span class="hljs-number">19</span>,<span class="hljs-number">45</span>:<span class="hljs-number">20</span>,<span class="hljs-number">46</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">22</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">23</span>],<span class="hljs-number">49</span>:<span class="hljs-number">24</span>,<span class="hljs-number">50</span>:<span class="hljs-number">25</span>,<span class="hljs-number">51</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">27</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">30</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">28</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">32</span>:<span class="hljs-number">47</span>,<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">34</span>:<span class="hljs-number">13</span>,<span class="hljs-number">35</span>:<span class="hljs-number">14</span>,<span class="hljs-number">36</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">15</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">16</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">17</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">18</span>],<span class="hljs-number">43</span>:<span class="hljs-number">19</span>,<span class="hljs-number">45</span>:<span class="hljs-number">20</span>,<span class="hljs-number">46</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">22</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">23</span>],<span class="hljs-number">49</span>:<span class="hljs-number">24</span>,<span class="hljs-number">50</span>:<span class="hljs-number">25</span>,<span class="hljs-number">51</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">27</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">30</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">28</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">35</span>:<span class="hljs-number">48</span>,<span class="hljs-number">36</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">15</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">16</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">17</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">18</span>],<span class="hljs-number">43</span>:<span class="hljs-number">19</span>,<span class="hljs-number">45</span>:<span class="hljs-number">20</span>,<span class="hljs-number">46</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">22</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">23</span>],<span class="hljs-number">49</span>:<span class="hljs-number">24</span>,<span class="hljs-number">50</span>:<span class="hljs-number">25</span>,<span class="hljs-number">51</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">27</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">30</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">28</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">35</span>:<span class="hljs-number">49</span>,<span class="hljs-number">36</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">15</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">16</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">17</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">18</span>],<span class="hljs-number">43</span>:<span class="hljs-number">19</span>,<span class="hljs-number">45</span>:<span class="hljs-number">20</span>,<span class="hljs-number">46</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">22</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">23</span>],<span class="hljs-number">49</span>:<span class="hljs-number">24</span>,<span class="hljs-number">50</span>:<span class="hljs-number">25</span>,<span class="hljs-number">51</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">27</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">30</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">28</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">45</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">47</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">48</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">49</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">50</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">51</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">52</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">53</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">54</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">57</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">58</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">55</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">9</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">50</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">11</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">10</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">51</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">13</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">55</span>],<span class="hljs-number">7</span>:<span class="hljs-number">52</span>,<span class="hljs-number">8</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">54</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">19</span>:<span class="hljs-number">53</span>,<span class="hljs-number">20</span>:<span class="hljs-number">37</span>,<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">27</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">38</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">28</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">8</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">27</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">16</span>]},{<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">13</span>:<span class="hljs-number">56</span>,<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">32</span>:<span class="hljs-number">12</span>,<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">35</span>],<span class="hljs-number">34</span>:<span class="hljs-number">13</span>,<span class="hljs-number">35</span>:<span class="hljs-number">14</span>,<span class="hljs-number">36</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">15</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">16</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">17</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">18</span>],<span class="hljs-number">43</span>:<span class="hljs-number">19</span>,<span class="hljs-number">45</span>:<span class="hljs-number">20</span>,<span class="hljs-number">46</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">22</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">23</span>],<span class="hljs-number">49</span>:<span class="hljs-number">24</span>,<span class="hljs-number">50</span>:<span class="hljs-number">25</span>,<span class="hljs-number">51</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">27</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">30</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">28</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">12</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">59</span>],<span class="hljs-number">28</span>:<span class="hljs-number">57</span>,<span class="hljs-number">30</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">58</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">34</span>:<span class="hljs-number">60</span>,<span class="hljs-number">35</span>:<span class="hljs-number">14</span>,<span class="hljs-number">36</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">15</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">33</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">16</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">17</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">18</span>],<span class="hljs-number">43</span>:<span class="hljs-number">19</span>,<span class="hljs-number">45</span>:<span class="hljs-number">20</span>,<span class="hljs-number">46</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">22</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">23</span>],<span class="hljs-number">49</span>:<span class="hljs-number">24</span>,<span class="hljs-number">50</span>:<span class="hljs-number">25</span>,<span class="hljs-number">51</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">27</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">30</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">28</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">42</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">41</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">43</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">44</span>:<span class="hljs-number">44</span>,<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">45</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">36</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">40</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">41</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">42</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">46</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">56</span>]},{<span class="hljs-number">33</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">39</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">61</span>]},{<span class="hljs-number">33</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">39</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">62</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">42</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">41</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">43</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">44</span>:<span class="hljs-number">44</span>,<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">45</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">43</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">42</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">41</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">43</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">44</span>:<span class="hljs-number">44</span>,<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">45</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">44</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">12</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>],<span class="hljs-number">18</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">14</span>]},{<span class="hljs-number">1</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">1</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">8</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">27</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">15</span>]},{<span class="hljs-number">1</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">2</span>]},{<span class="hljs-number">8</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">63</span>],<span class="hljs-number">9</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">64</span>]},{<span class="hljs-number">11</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">67</span>],<span class="hljs-number">21</span>:<span class="hljs-number">65</span>,<span class="hljs-number">22</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">66</span>]},{<span class="hljs-number">29</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">68</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">69</span>]},{<span class="hljs-number">29</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">70</span>]},{<span class="hljs-number">29</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">35</span>:<span class="hljs-number">40</span>,<span class="hljs-number">36</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">15</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">32</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">16</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">17</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">18</span>],<span class="hljs-number">43</span>:<span class="hljs-number">19</span>,<span class="hljs-number">45</span>:<span class="hljs-number">20</span>,<span class="hljs-number">46</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">21</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">22</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">23</span>],<span class="hljs-number">49</span>:<span class="hljs-number">24</span>,<span class="hljs-number">50</span>:<span class="hljs-number">25</span>,<span class="hljs-number">51</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">26</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">27</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">30</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">28</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">29</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">38</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">12</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">14</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">16</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">30</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">37</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">39</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">40</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">39</span>]},{<span class="hljs-number">1</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]},{<span class="hljs-number">8</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">71</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">8</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">27</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">17</span>]},{<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">23</span>:<span class="hljs-number">72</span>,<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">25</span>:<span class="hljs-number">73</span>,<span class="hljs-number">26</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">74</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">8</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">27</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">19</span>]},{<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">26</span>]},{<span class="hljs-number">12</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">75</span>]},{<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">27</span>]},{<span class="hljs-number">1</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>]},{<span class="hljs-number">22</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">77</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">76</span>]},{<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">21</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">21</span>],<span class="hljs-number">26</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">78</span>]},{<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">24</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">24</span>],<span class="hljs-number">26</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">24</span>]},{<span class="hljs-number">29</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">30</span>],<span class="hljs-number">31</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">30</span>]},{<span class="hljs-number">5</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">8</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">11</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">27</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">33</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">36</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">38</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">41</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">42</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">46</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">47</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">48</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">51</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">53</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">55</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>],<span class="hljs-number">56</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">18</span>]},{<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">23</span>:<span class="hljs-number">79</span>,<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">20</span>],<span class="hljs-number">25</span>:<span class="hljs-number">73</span>,<span class="hljs-number">26</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">74</span>]},{<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">25</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">25</span>],<span class="hljs-number">26</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">25</span>]},{<span class="hljs-number">22</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">77</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">80</span>]},{<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">23</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">23</span>],<span class="hljs-number">25</span>:<span class="hljs-number">81</span>,<span class="hljs-number">26</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">74</span>]},{<span class="hljs-number">22</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">22</span>],<span class="hljs-number">24</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">22</span>],<span class="hljs-number">26</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">78</span>]}],
defaultActions: {<span class="hljs-number">9</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">5</span>],<span class="hljs-number">10</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],<span class="hljs-number">52</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">1</span>],<span class="hljs-number">54</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">2</span>],<span class="hljs-number">63</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],<span class="hljs-number">71</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>]},
parseError: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseError</span>(<span class="hljs-params">str, hash</span>) </span>{
    <span class="hljs-keyword">if</span> (hash.recoverable) {
        <span class="hljs-keyword">this</span>.trace(str);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(str);
    }
},
parse: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span>(<span class="hljs-params">input</span>) </span>{
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>, stack = [<span class="hljs-number">0</span>], vstack = [<span class="hljs-literal">null</span>], lstack = [], table = <span class="hljs-keyword">this</span>.table, yytext = <span class="hljs-string">''</span>, yylineno = <span class="hljs-number">0</span>, yyleng = <span class="hljs-number">0</span>, recovering = <span class="hljs-number">0</span>, TERROR = <span class="hljs-number">2</span>, EOF = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">this</span>.lexer.setInput(input);
    <span class="hljs-keyword">this</span>.lexer.yy = <span class="hljs-keyword">this</span>.yy;
    <span class="hljs-keyword">this</span>.yy.lexer = <span class="hljs-keyword">this</span>.lexer;
    <span class="hljs-keyword">this</span>.yy.parser = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.lexer.yylloc == <span class="hljs-string">'undefined'</span>) {
        <span class="hljs-keyword">this</span>.lexer.yylloc = {};
    }
    <span class="hljs-keyword">var</span> yyloc = <span class="hljs-keyword">this</span>.lexer.yylloc;
    lstack.push(yyloc);
    <span class="hljs-keyword">var</span> ranges = <span class="hljs-keyword">this</span>.lexer.options &amp;&amp; <span class="hljs-keyword">this</span>.lexer.options.ranges;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.yy.parseError === <span class="hljs-string">'function'</span>) {
        <span class="hljs-keyword">this</span>.parseError = <span class="hljs-keyword">this</span>.yy.parseError;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.parseError = <span class="hljs-built_in">Object</span>.getPrototypeOf(<span class="hljs-keyword">this</span>).parseError;
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popStack</span>(<span class="hljs-params">n</span>) </span>{
        stack.length = stack.length - <span class="hljs-number">2</span> * n;
        vstack.length = vstack.length - n;
        lstack.length = lstack.length - n;
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lex</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> token;
        token = self.lexer.lex() || EOF;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> token !== <span class="hljs-string">'number'</span>) {
            token = self.symbols_[token] || token;
        }
        <span class="hljs-keyword">return</span> token;
    }
    <span class="hljs-keyword">var</span> symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
        state = stack[stack.length - <span class="hljs-number">1</span>];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.defaultActions[state]) {
            action = <span class="hljs-keyword">this</span>.defaultActions[state];
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (symbol === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> symbol == <span class="hljs-string">'undefined'</span>) {
                symbol = lex();
            }
            action = table[state] &amp;&amp; table[state][symbol];
        }
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> action === <span class="hljs-string">'undefined'</span> || !action.length || !action[<span class="hljs-number">0</span>]) {
                <span class="hljs-keyword">var</span> errStr = <span class="hljs-string">''</span>;
                expected = [];
                <span class="hljs-keyword">for</span> (p <span class="hljs-keyword">in</span> table[state]) {
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.terminals_[p] &amp;&amp; p &gt; TERROR) {
                        expected.push(<span class="hljs-string">'\''</span> + <span class="hljs-keyword">this</span>.terminals_[p] + <span class="hljs-string">'\''</span>);
                    }
                }
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.lexer.showPosition) {
                    errStr = <span class="hljs-string">'Parse error on line '</span> + (yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">':\n'</span> + <span class="hljs-keyword">this</span>.lexer.showPosition() + <span class="hljs-string">'\nExpecting '</span> + expected.join(<span class="hljs-string">', '</span>) + <span class="hljs-string">', got \''</span> + (<span class="hljs-keyword">this</span>.terminals_[symbol] || symbol) + <span class="hljs-string">'\''</span>;
                } <span class="hljs-keyword">else</span> {
                    errStr = <span class="hljs-string">'Parse error on line '</span> + (yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">': Unexpected '</span> + (symbol == EOF ? <span class="hljs-string">'end of input'</span> : <span class="hljs-string">'\''</span> + (<span class="hljs-keyword">this</span>.terminals_[symbol] || symbol) + <span class="hljs-string">'\''</span>);
                }
                <span class="hljs-keyword">this</span>.parseError(errStr, {
                    text: <span class="hljs-keyword">this</span>.lexer.match,
                    token: <span class="hljs-keyword">this</span>.terminals_[symbol] || symbol,
                    line: <span class="hljs-keyword">this</span>.lexer.yylineno,
                    loc: yyloc,
                    expected: expected
                });
            }
        <span class="hljs-keyword">if</span> (action[<span class="hljs-number">0</span>] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> &amp;&amp; action.length &gt; <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Parse Error: multiple actions possible at state: '</span> + state + <span class="hljs-string">', token: '</span> + symbol);
        }
        <span class="hljs-keyword">switch</span> (action[<span class="hljs-number">0</span>]) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
            stack.push(symbol);
            vstack.push(<span class="hljs-keyword">this</span>.lexer.yytext);
            lstack.push(<span class="hljs-keyword">this</span>.lexer.yylloc);
            stack.push(action[<span class="hljs-number">1</span>]);
            symbol = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">if</span> (!preErrorSymbol) {
                yyleng = <span class="hljs-keyword">this</span>.lexer.yyleng;
                yytext = <span class="hljs-keyword">this</span>.lexer.yytext;
                yylineno = <span class="hljs-keyword">this</span>.lexer.yylineno;
                yyloc = <span class="hljs-keyword">this</span>.lexer.yylloc;
                <span class="hljs-keyword">if</span> (recovering &gt; <span class="hljs-number">0</span>) {
                    recovering--;
                }
            } <span class="hljs-keyword">else</span> {
                symbol = preErrorSymbol;
                preErrorSymbol = <span class="hljs-literal">null</span>;
            }
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            len = <span class="hljs-keyword">this</span>.productions_[action[<span class="hljs-number">1</span>]][<span class="hljs-number">1</span>];
            yyval.$ = vstack[vstack.length - len];
            yyval._$ = {
                first_line: lstack[lstack.length - (len || <span class="hljs-number">1</span>)].first_line,
                last_line: lstack[lstack.length - <span class="hljs-number">1</span>].last_line,
                first_column: lstack[lstack.length - (len || <span class="hljs-number">1</span>)].first_column,
                last_column: lstack[lstack.length - <span class="hljs-number">1</span>].last_column
            };
            <span class="hljs-keyword">if</span> (ranges) {
                yyval._$.range = [
                    lstack[lstack.length - (len || <span class="hljs-number">1</span>)].range[<span class="hljs-number">0</span>],
                    lstack[lstack.length - <span class="hljs-number">1</span>].range[<span class="hljs-number">1</span>]
                ];
            }
            r = <span class="hljs-keyword">this</span>.performAction.call(yyval, yytext, yyleng, yylineno, <span class="hljs-keyword">this</span>.yy, action[<span class="hljs-number">1</span>], vstack, lstack);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> r !== <span class="hljs-string">'undefined'</span>) {
                <span class="hljs-keyword">return</span> r;
            }
            <span class="hljs-keyword">if</span> (len) {
                stack = stack.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-1</span> * len * <span class="hljs-number">2</span>);
                vstack = vstack.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-1</span> * len);
                lstack = lstack.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-1</span> * len);
            }
            stack.push(<span class="hljs-keyword">this</span>.productions_[action[<span class="hljs-number">1</span>]][<span class="hljs-number">0</span>]);
            vstack.push(yyval.$);
            lstack.push(yyval._$);
            newState = table[stack[stack.length - <span class="hljs-number">2</span>]][stack[stack.length - <span class="hljs-number">1</span>]];
            stack.push(newState);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}};


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">encodeRE</span> (<span class="hljs-params">s</span>) </span>{
    <span class="hljs-keyword">return</span> s.replace(<span class="hljs-regexp">/([.*+?^${}()|[\]\/\\])/g</span>, <span class="hljs-string">'\\$1'</span>).replace(<span class="hljs-regexp">/\\\\u([a-fA-F0-9]{4})/g</span>,<span class="hljs-string">'\\u$1'</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareString</span> (<span class="hljs-params">s</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-408">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-408">&#182;</a>
              </div>
              <p>unescape slashes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    s = s.replace(<span class="hljs-regexp">/\\\\/g</span>, <span class="hljs-string">"\\"</span>);
    s = encodeRE(s);
    <span class="hljs-keyword">return</span> s;
};

<span class="hljs-comment">/* generated by jison-lex 0.2.1 */</span>
<span class="hljs-keyword">var</span> lexer = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-keyword">var</span> lexer = {

EOF:<span class="hljs-number">1</span>,

parseError:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseError</span>(<span class="hljs-params">str, hash</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.yy.parser) {
            <span class="hljs-keyword">this</span>.yy.parser.parseError(str, hash);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(str);
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-409">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-409">&#182;</a>
              </div>
              <p>resets the lexer, sets new input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>setInput:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">this</span>._input = input;
        <span class="hljs-keyword">this</span>._more = <span class="hljs-keyword">this</span>._backtrack = <span class="hljs-keyword">this</span>.done = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.yylineno = <span class="hljs-keyword">this</span>.yyleng = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.yytext = <span class="hljs-keyword">this</span>.matched = <span class="hljs-keyword">this</span>.match = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.conditionStack = [<span class="hljs-string">'INITIAL'</span>];
        <span class="hljs-keyword">this</span>.yylloc = {
            first_line: <span class="hljs-number">1</span>,
            first_column: <span class="hljs-number">0</span>,
            last_line: <span class="hljs-number">1</span>,
            last_column: <span class="hljs-number">0</span>
        };
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range = [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>];
        }
        <span class="hljs-keyword">this</span>.offset = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-410">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-410">&#182;</a>
              </div>
              <p>consumes and returns one char from the input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>input:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ch = <span class="hljs-keyword">this</span>._input[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.yytext += ch;
        <span class="hljs-keyword">this</span>.yyleng++;
        <span class="hljs-keyword">this</span>.offset++;
        <span class="hljs-keyword">this</span>.match += ch;
        <span class="hljs-keyword">this</span>.matched += ch;
        <span class="hljs-keyword">var</span> lines = ch.match(<span class="hljs-regexp">/(?:\r\n?|\n).*/g</span>);
        <span class="hljs-keyword">if</span> (lines) {
            <span class="hljs-keyword">this</span>.yylineno++;
            <span class="hljs-keyword">this</span>.yylloc.last_line++;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.yylloc.last_column++;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range[<span class="hljs-number">1</span>]++;
        }

        <span class="hljs-keyword">this</span>._input = <span class="hljs-keyword">this</span>._input.slice(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> ch;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-411">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-411">&#182;</a>
              </div>
              <p>unshifts one char (or a string) into the input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>unput:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ch</span>) </span>{
        <span class="hljs-keyword">var</span> len = ch.length;
        <span class="hljs-keyword">var</span> lines = ch.split(<span class="hljs-regexp">/(?:\r\n?|\n)/g</span>);

        <span class="hljs-keyword">this</span>._input = ch + <span class="hljs-keyword">this</span>._input;
        <span class="hljs-keyword">this</span>.yytext = <span class="hljs-keyword">this</span>.yytext.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.yytext.length - len - <span class="hljs-number">1</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-412">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-412">&#182;</a>
              </div>
              <p>this.yyleng -= len;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">this</span>.offset -= len;
        <span class="hljs-keyword">var</span> oldLines = <span class="hljs-keyword">this</span>.match.split(<span class="hljs-regexp">/(?:\r\n?|\n)/g</span>);
        <span class="hljs-keyword">this</span>.match = <span class="hljs-keyword">this</span>.match.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.match.length - <span class="hljs-number">1</span>);
        <span class="hljs-keyword">this</span>.matched = <span class="hljs-keyword">this</span>.matched.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.matched.length - <span class="hljs-number">1</span>);

        <span class="hljs-keyword">if</span> (lines.length - <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">this</span>.yylineno -= lines.length - <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">var</span> r = <span class="hljs-keyword">this</span>.yylloc.range;

        <span class="hljs-keyword">this</span>.yylloc = {
            first_line: <span class="hljs-keyword">this</span>.yylloc.first_line,
            last_line: <span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>,
            first_column: <span class="hljs-keyword">this</span>.yylloc.first_column,
            last_column: lines ?
                (lines.length === oldLines.length ? <span class="hljs-keyword">this</span>.yylloc.first_column : <span class="hljs-number">0</span>)
                 + oldLines[oldLines.length - lines.length].length - lines[<span class="hljs-number">0</span>].length :
              <span class="hljs-keyword">this</span>.yylloc.first_column - len
        };

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range = [r[<span class="hljs-number">0</span>], r[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.yyleng - len];
        }
        <span class="hljs-keyword">this</span>.yyleng = <span class="hljs-keyword">this</span>.yytext.length;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-413">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-413">&#182;</a>
              </div>
              <p>When called from action, caches matched text and appends it on next action</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>more:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._more = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-414">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-414">&#182;</a>
              </div>
              <p>When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>reject:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.backtrack_lexer) {
            <span class="hljs-keyword">this</span>._backtrack = <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.parseError(<span class="hljs-string">'Lexical error on line '</span> + (<span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">'. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n'</span> + <span class="hljs-keyword">this</span>.showPosition(), {
                text: <span class="hljs-string">""</span>,
                token: <span class="hljs-literal">null</span>,
                line: <span class="hljs-keyword">this</span>.yylineno
            });

        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-415">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-415">&#182;</a>
              </div>
              <p>retain first n characters of the match</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>less:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) </span>{
        <span class="hljs-keyword">this</span>.unput(<span class="hljs-keyword">this</span>.match.slice(n));
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-416">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-416">&#182;</a>
              </div>
              <p>displays already matched input, i.e. for error messages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>pastInput:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> past = <span class="hljs-keyword">this</span>.matched.substr(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.matched.length - <span class="hljs-keyword">this</span>.match.length);
        <span class="hljs-keyword">return</span> (past.length &gt; <span class="hljs-number">20</span> ? <span class="hljs-string">'...'</span>:<span class="hljs-string">''</span>) + past.substr(<span class="hljs-number">-20</span>).replace(<span class="hljs-regexp">/\n/g</span>, <span class="hljs-string">""</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-417">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-417">&#182;</a>
              </div>
              <p>displays upcoming input, i.e. for error messages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>upcomingInput:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> next = <span class="hljs-keyword">this</span>.match;
        <span class="hljs-keyword">if</span> (next.length &lt; <span class="hljs-number">20</span>) {
            next += <span class="hljs-keyword">this</span>._input.substr(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>-next.length);
        }
        <span class="hljs-keyword">return</span> (next.substr(<span class="hljs-number">0</span>,<span class="hljs-number">20</span>) + (next.length &gt; <span class="hljs-number">20</span> ? <span class="hljs-string">'...'</span> : <span class="hljs-string">''</span>)).replace(<span class="hljs-regexp">/\n/g</span>, <span class="hljs-string">""</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-418">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-418">&#182;</a>
              </div>
              <p>displays the character position where the lexing error occurred, i.e. for error messages</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>showPosition:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> pre = <span class="hljs-keyword">this</span>.pastInput();
        <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(pre.length + <span class="hljs-number">1</span>).join(<span class="hljs-string">"-"</span>);
        <span class="hljs-keyword">return</span> pre + <span class="hljs-keyword">this</span>.upcomingInput() + <span class="hljs-string">"\n"</span> + c + <span class="hljs-string">"^"</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-419">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-419">&#182;</a>
              </div>
              <p>test the lexed token: return FALSE when not a match, otherwise return token</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>test_match:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">match, indexed_rule</span>) </span>{
        <span class="hljs-keyword">var</span> token,
            lines,
            backup;

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.backtrack_lexer) {</pre></div></div>
            
        </li>
        
        
        <li id="section-420">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-420">&#182;</a>
              </div>
              <p>save context</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            backup = {
                yylineno: <span class="hljs-keyword">this</span>.yylineno,
                yylloc: {
                    first_line: <span class="hljs-keyword">this</span>.yylloc.first_line,
                    last_line: <span class="hljs-keyword">this</span>.last_line,
                    first_column: <span class="hljs-keyword">this</span>.yylloc.first_column,
                    last_column: <span class="hljs-keyword">this</span>.yylloc.last_column
                },
                yytext: <span class="hljs-keyword">this</span>.yytext,
                match: <span class="hljs-keyword">this</span>.match,
                matches: <span class="hljs-keyword">this</span>.matches,
                matched: <span class="hljs-keyword">this</span>.matched,
                yyleng: <span class="hljs-keyword">this</span>.yyleng,
                offset: <span class="hljs-keyword">this</span>.offset,
                _more: <span class="hljs-keyword">this</span>._more,
                _input: <span class="hljs-keyword">this</span>._input,
                yy: <span class="hljs-keyword">this</span>.yy,
                conditionStack: <span class="hljs-keyword">this</span>.conditionStack.slice(<span class="hljs-number">0</span>),
                done: <span class="hljs-keyword">this</span>.done
            };
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
                backup.yylloc.range = <span class="hljs-keyword">this</span>.yylloc.range.slice(<span class="hljs-number">0</span>);
            }
        }

        lines = match[<span class="hljs-number">0</span>].match(<span class="hljs-regexp">/(?:\r\n?|\n).*/g</span>);
        <span class="hljs-keyword">if</span> (lines) {
            <span class="hljs-keyword">this</span>.yylineno += lines.length;
        }
        <span class="hljs-keyword">this</span>.yylloc = {
            first_line: <span class="hljs-keyword">this</span>.yylloc.last_line,
            last_line: <span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>,
            first_column: <span class="hljs-keyword">this</span>.yylloc.last_column,
            last_column: lines ?
                         lines[lines.length - <span class="hljs-number">1</span>].length - lines[lines.length - <span class="hljs-number">1</span>].match(<span class="hljs-regexp">/\r?\n?/</span>)[<span class="hljs-number">0</span>].length :
                         <span class="hljs-keyword">this</span>.yylloc.last_column + match[<span class="hljs-number">0</span>].length
        };
        <span class="hljs-keyword">this</span>.yytext += match[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.match += match[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.matches = match;
        <span class="hljs-keyword">this</span>.yyleng = <span class="hljs-keyword">this</span>.yytext.length;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.ranges) {
            <span class="hljs-keyword">this</span>.yylloc.range = [<span class="hljs-keyword">this</span>.offset, <span class="hljs-keyword">this</span>.offset += <span class="hljs-keyword">this</span>.yyleng];
        }
        <span class="hljs-keyword">this</span>._more = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>._backtrack = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>._input = <span class="hljs-keyword">this</span>._input.slice(match[<span class="hljs-number">0</span>].length);
        <span class="hljs-keyword">this</span>.matched += match[<span class="hljs-number">0</span>];
        token = <span class="hljs-keyword">this</span>.performAction.call(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.yy, <span class="hljs-keyword">this</span>, indexed_rule, <span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>]);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.done &amp;&amp; <span class="hljs-keyword">this</span>._input) {
            <span class="hljs-keyword">this</span>.done = <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (token) {
            <span class="hljs-keyword">return</span> token;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._backtrack) {</pre></div></div>
            
        </li>
        
        
        <li id="section-421">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-421">&#182;</a>
              </div>
              <p>recover context</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> backup) {
                <span class="hljs-keyword">this</span>[k] = backup[k];
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// rule action called reject() implying the next rule should be tested instead.</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-422">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-422">&#182;</a>
              </div>
              <p>return next match in input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>next:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.done) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.EOF;
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._input) {
            <span class="hljs-keyword">this</span>.done = <span class="hljs-literal">true</span>;
        }

        <span class="hljs-keyword">var</span> token,
            match,
            tempMatch,
            index;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._more) {
            <span class="hljs-keyword">this</span>.yytext = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">this</span>.match = <span class="hljs-string">''</span>;
        }
        <span class="hljs-keyword">var</span> rules = <span class="hljs-keyword">this</span>._currentRules();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; rules.length; i++) {
            tempMatch = <span class="hljs-keyword">this</span>._input.match(<span class="hljs-keyword">this</span>.rules[rules[i]]);
            <span class="hljs-keyword">if</span> (tempMatch &amp;&amp; (!match || tempMatch[<span class="hljs-number">0</span>].length &gt; match[<span class="hljs-number">0</span>].length)) {
                match = tempMatch;
                index = i;
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.backtrack_lexer) {
                    token = <span class="hljs-keyword">this</span>.test_match(tempMatch, rules[i]);
                    <span class="hljs-keyword">if</span> (token !== <span class="hljs-literal">false</span>) {
                        <span class="hljs-keyword">return</span> token;
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._backtrack) {
                        match = <span class="hljs-literal">false</span>;
                        <span class="hljs-keyword">continue</span>; <span class="hljs-comment">// rule action called reject() implying a rule MISmatch.</span>
                    } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-423">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-423">&#182;</a>
              </div>
              <p>else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.options.flex) {
                    <span class="hljs-keyword">break</span>;
                }
            }
        }
        <span class="hljs-keyword">if</span> (match) {
            token = <span class="hljs-keyword">this</span>.test_match(match, rules[index]);
            <span class="hljs-keyword">if</span> (token !== <span class="hljs-literal">false</span>) {
                <span class="hljs-keyword">return</span> token;
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-424">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-424">&#182;</a>
              </div>
              <p>else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._input === <span class="hljs-string">""</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.EOF;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.parseError(<span class="hljs-string">'Lexical error on line '</span> + (<span class="hljs-keyword">this</span>.yylineno + <span class="hljs-number">1</span>) + <span class="hljs-string">'. Unrecognized text.\n'</span> + <span class="hljs-keyword">this</span>.showPosition(), {
                text: <span class="hljs-string">""</span>,
                token: <span class="hljs-literal">null</span>,
                line: <span class="hljs-keyword">this</span>.yylineno
            });
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-425">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-425">&#182;</a>
              </div>
              <p>return next match that has a token</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>lex:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lex</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> r = <span class="hljs-keyword">this</span>.next();
        <span class="hljs-keyword">if</span> (r) {
            <span class="hljs-keyword">return</span> r;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.lex();
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-426">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-426">&#182;</a>
              </div>
              <p>activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>begin:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">begin</span>(<span class="hljs-params">condition</span>) </span>{
        <span class="hljs-keyword">this</span>.conditionStack.push(condition);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-427">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-427">&#182;</a>
              </div>
              <p>pop the previously active lexer condition state off the condition stack</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>popState:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popState</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> n = <span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack.pop();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-number">0</span>];
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-428">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-428">&#182;</a>
              </div>
              <p>produce the lexer rule set which is active for the currently active lexer condition state</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>_currentRules:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_currentRules</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.conditionStack.length &amp;&amp; <span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>]) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditions[<span class="hljs-keyword">this</span>.conditionStack[<span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span>]].rules;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditions[<span class="hljs-string">"INITIAL"</span>].rules;
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-429">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-429">&#182;</a>
              </div>
              <p>return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>topState:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">topState</span>(<span class="hljs-params">n</span>) </span>{
        n = <span class="hljs-keyword">this</span>.conditionStack.length - <span class="hljs-number">1</span> - <span class="hljs-built_in">Math</span>.abs(n || <span class="hljs-number">0</span>);
        <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack[n];
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"INITIAL"</span>;
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-430">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-430">&#182;</a>
              </div>
              <p>alias for begin(condition)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>pushState:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pushState</span>(<span class="hljs-params">condition</span>) </span>{
        <span class="hljs-keyword">this</span>.begin(condition);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-431">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-431">&#182;</a>
              </div>
              <p>return the number of states currently on the stack</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>stateStackSize:<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stateStackSize</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conditionStack.length;
    },
options: {},
performAction: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">anonymous</span>(<span class="hljs-params">yy,yy_,$avoiding_name_collisions,YY_START</span>) </span>{

<span class="hljs-keyword">var</span> YYSTATE=YY_START;
<span class="hljs-keyword">switch</span>($avoiding_name_collisions) {
<span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">26</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">26</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">26</span>; <span class="hljs-comment">// regexp with braces or quotes (and no spaces)</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">26</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">26</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">26</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">26</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:yy.depth++; <span class="hljs-keyword">return</span> <span class="hljs-number">22</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:yy.depth == <span class="hljs-number">0</span> ? <span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'trail'</span>) : yy.depth--; <span class="hljs-keyword">return</span> <span class="hljs-number">24</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">12</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<span class="hljs-keyword">this</span>.popState(); <span class="hljs-keyword">return</span> <span class="hljs-number">29</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">31</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">30</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<span class="hljs-comment">/* */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<span class="hljs-comment">/* */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'indented'</span>)
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:<span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'code'</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">5</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">56</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:yy.options[yy_.yytext] = <span class="hljs-literal">true</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'INITIAL'</span>)
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">20</span>:<span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'INITIAL'</span>)
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<span class="hljs-comment">/* empty */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">18</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'INITIAL'</span>)
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">24</span>:<span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'INITIAL'</span>)
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">25</span>:<span class="hljs-comment">/* empty */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'rules'</span>)
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:yy.depth = <span class="hljs-number">0</span>; <span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'action'</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">22</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">28</span>:<span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'trail'</span>); yy_.yytext = yy_.yytext.substr(<span class="hljs-number">2</span>, yy_.yytext.length<span class="hljs-number">-4</span>);<span class="hljs-keyword">return</span> <span class="hljs-number">11</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">29</span>:yy_.yytext = yy_.yytext.substr(<span class="hljs-number">2</span>, yy_.yytext.length<span class="hljs-number">-4</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">11</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'rules'</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">11</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:<span class="hljs-comment">/* ignore */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">32</span>:<span class="hljs-comment">/* ignore */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">33</span>:<span class="hljs-comment">/* */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<span class="hljs-comment">/* */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">35</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">12</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">36</span>:yy_.yytext = yy_.yytext.replace(<span class="hljs-regexp">/\\"/g</span>,<span class="hljs-string">'"'</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">55</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">37</span>:yy_.yytext = yy_.yytext.replace(<span class="hljs-regexp">/\\'/g</span>,<span class="hljs-string">"'"</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">55</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">38</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">33</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">52</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">40</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">38</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">38</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">42</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">38</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">43</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">36</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">44</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">37</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">45</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">39</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">46</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">30</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">47</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">40</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">48</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">47</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">49</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">31</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">50</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">48</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">51</span>:<span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'conditions'</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">27</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">52</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">42</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">53</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">41</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">54</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">53</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">55</span>:yy_.yytext = yy_.yytext.replace(<span class="hljs-regexp">/^\\/g</span>,<span class="hljs-string">''</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">53</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">56</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">48</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">57</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">46</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">58</span>:yy.options = {}; <span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'options'</span>);
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">59</span>:<span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'start_condition'</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">14</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">60</span>:<span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'start_condition'</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">16</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">61</span>:<span class="hljs-keyword">this</span>.begin(<span class="hljs-string">'rules'</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">5</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">62</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">54</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">63</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">51</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">64</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">22</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">65</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">24</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">66</span>:<span class="hljs-comment">/* ignore bad characters */</span>
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">67</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">8</span>;
<span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">68</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">9</span>;
<span class="hljs-keyword">break</span>;
}
},
rules: [<span class="hljs-regexp">/^(?:\/\*(.|\n|\r)*?\*\/)/</span>,<span class="hljs-regexp">/^(?:\/\/.*)/</span>,<span class="hljs-regexp">/^(?:\/[^ /]*?['"{}'][^ ]*?\/)/</span>,<span class="hljs-regexp">/^(?:"(\\\\|\\"|[^"])*")/</span>,<span class="hljs-regexp">/^(?:'(\\\\|\\'|[^'])*')/</span>,<span class="hljs-regexp">/^(?:[/"'][^{}/"']+)/</span>,<span class="hljs-regexp">/^(?:[^{}/"']+)/</span>,<span class="hljs-regexp">/^(?:\{)/</span>,<span class="hljs-regexp">/^(?:\})/</span>,<span class="hljs-regexp">/^(?:([a-zA-Z_][a-zA-Z0-9_-]*))/</span>,<span class="hljs-regexp">/^(?:&gt;)/</span>,<span class="hljs-regexp">/^(?:,)/</span>,<span class="hljs-regexp">/^(?:\*)/</span>,<span class="hljs-regexp">/^(?:(\r\n|\n|\r)+)/</span>,<span class="hljs-regexp">/^(?:\s+(\r\n|\n|\r)+)/</span>,<span class="hljs-regexp">/^(?:\s+)/</span>,<span class="hljs-regexp">/^(?:%%)/</span>,<span class="hljs-regexp">/^(?:[a-zA-Z0-9_]+)/</span>,<span class="hljs-regexp">/^(?:([a-zA-Z_][a-zA-Z0-9_-]*))/</span>,<span class="hljs-regexp">/^(?:(\r\n|\n|\r)+)/</span>,<span class="hljs-regexp">/^(?:\s+(\r\n|\n|\r)+)/</span>,<span class="hljs-regexp">/^(?:\s+)/</span>,<span class="hljs-regexp">/^(?:([a-zA-Z_][a-zA-Z0-9_-]*))/</span>,<span class="hljs-regexp">/^(?:(\r\n|\n|\r)+)/</span>,<span class="hljs-regexp">/^(?:\s+(\r\n|\n|\r)+)/</span>,<span class="hljs-regexp">/^(?:\s+)/</span>,<span class="hljs-regexp">/^(?:.*(\r\n|\n|\r)+)/</span>,<span class="hljs-regexp">/^(?:\{)/</span>,<span class="hljs-regexp">/^(?:%\{(.|(\r\n|\n|\r))*?%\})/</span>,<span class="hljs-regexp">/^(?:%\{(.|(\r\n|\n|\r))*?%\})/</span>,<span class="hljs-regexp">/^(?:.+)/</span>,<span class="hljs-regexp">/^(?:\/\*(.|\n|\r)*?\*\/)/</span>,<span class="hljs-regexp">/^(?:\/\/.*)/</span>,<span class="hljs-regexp">/^(?:(\r\n|\n|\r)+)/</span>,<span class="hljs-regexp">/^(?:\s+)/</span>,<span class="hljs-regexp">/^(?:([a-zA-Z_][a-zA-Z0-9_-]*))/</span>,<span class="hljs-regexp">/^(?:"(\\\\|\\"|[^"])*")/</span>,<span class="hljs-regexp">/^(?:'(\\\\|\\'|[^'])*')/</span>,<span class="hljs-regexp">/^(?:\|)/</span>,<span class="hljs-regexp">/^(?:\[(\\\\|\\\]|[^\]])*\])/</span>,<span class="hljs-regexp">/^(?:\(\?:)/</span>,<span class="hljs-regexp">/^(?:\(\?=)/</span>,<span class="hljs-regexp">/^(?:\(\?!)/</span>,<span class="hljs-regexp">/^(?:\()/</span>,<span class="hljs-regexp">/^(?:\))/</span>,<span class="hljs-regexp">/^(?:\+)/</span>,<span class="hljs-regexp">/^(?:\*)/</span>,<span class="hljs-regexp">/^(?:\?)/</span>,<span class="hljs-regexp">/^(?:\^)/</span>,<span class="hljs-regexp">/^(?:,)/</span>,<span class="hljs-regexp">/^(?:&lt;&lt;EOF&gt;&gt;)/</span>,<span class="hljs-regexp">/^(?:&lt;)/</span>,<span class="hljs-regexp">/^(?:\/!)/</span>,<span class="hljs-regexp">/^(?:\/)/</span>,<span class="hljs-regexp">/^(?:\\([0-7]{1,3}|[rfntvsSbBwWdD\\*+()${}|[\]\/.^?]|c[A-Z]|x[0-9A-F]{2}|u[a-fA-F0-9]{4}))/</span>,<span class="hljs-regexp">/^(?:\\.)/</span>,<span class="hljs-regexp">/^(?:\$)/</span>,<span class="hljs-regexp">/^(?:\.)/</span>,<span class="hljs-regexp">/^(?:%options\b)/</span>,<span class="hljs-regexp">/^(?:%s\b)/</span>,<span class="hljs-regexp">/^(?:%x\b)/</span>,<span class="hljs-regexp">/^(?:%%)/</span>,<span class="hljs-regexp">/^(?:\{\d+(,\s?\d+|,)?\})/</span>,<span class="hljs-regexp">/^(?:\{([a-zA-Z_][a-zA-Z0-9_-]*)\})/</span>,<span class="hljs-regexp">/^(?:\{)/</span>,<span class="hljs-regexp">/^(?:\})/</span>,<span class="hljs-regexp">/^(?:.)/</span>,<span class="hljs-regexp">/^(?:$)/</span>,<span class="hljs-regexp">/^(?:(.|(\r\n|\n|\r))+)/</span>],
conditions: {<span class="hljs-string">"code"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">67</span>,<span class="hljs-number">68</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">false</span>},<span class="hljs-string">"start_condition"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">22</span>,<span class="hljs-number">23</span>,<span class="hljs-number">24</span>,<span class="hljs-number">25</span>,<span class="hljs-number">67</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">false</span>},<span class="hljs-string">"options"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">18</span>,<span class="hljs-number">19</span>,<span class="hljs-number">20</span>,<span class="hljs-number">21</span>,<span class="hljs-number">67</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">false</span>},<span class="hljs-string">"conditions"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">9</span>,<span class="hljs-number">10</span>,<span class="hljs-number">11</span>,<span class="hljs-number">12</span>,<span class="hljs-number">67</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">false</span>},<span class="hljs-string">"action"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">67</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">false</span>},<span class="hljs-string">"indented"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">27</span>,<span class="hljs-number">28</span>,<span class="hljs-number">29</span>,<span class="hljs-number">30</span>,<span class="hljs-number">31</span>,<span class="hljs-number">32</span>,<span class="hljs-number">33</span>,<span class="hljs-number">34</span>,<span class="hljs-number">35</span>,<span class="hljs-number">36</span>,<span class="hljs-number">37</span>,<span class="hljs-number">38</span>,<span class="hljs-number">39</span>,<span class="hljs-number">40</span>,<span class="hljs-number">41</span>,<span class="hljs-number">42</span>,<span class="hljs-number">43</span>,<span class="hljs-number">44</span>,<span class="hljs-number">45</span>,<span class="hljs-number">46</span>,<span class="hljs-number">47</span>,<span class="hljs-number">48</span>,<span class="hljs-number">49</span>,<span class="hljs-number">50</span>,<span class="hljs-number">51</span>,<span class="hljs-number">52</span>,<span class="hljs-number">53</span>,<span class="hljs-number">54</span>,<span class="hljs-number">55</span>,<span class="hljs-number">56</span>,<span class="hljs-number">57</span>,<span class="hljs-number">58</span>,<span class="hljs-number">59</span>,<span class="hljs-number">60</span>,<span class="hljs-number">61</span>,<span class="hljs-number">62</span>,<span class="hljs-number">63</span>,<span class="hljs-number">64</span>,<span class="hljs-number">65</span>,<span class="hljs-number">66</span>,<span class="hljs-number">67</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">true</span>},<span class="hljs-string">"trail"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">26</span>,<span class="hljs-number">29</span>,<span class="hljs-number">31</span>,<span class="hljs-number">32</span>,<span class="hljs-number">33</span>,<span class="hljs-number">34</span>,<span class="hljs-number">35</span>,<span class="hljs-number">36</span>,<span class="hljs-number">37</span>,<span class="hljs-number">38</span>,<span class="hljs-number">39</span>,<span class="hljs-number">40</span>,<span class="hljs-number">41</span>,<span class="hljs-number">42</span>,<span class="hljs-number">43</span>,<span class="hljs-number">44</span>,<span class="hljs-number">45</span>,<span class="hljs-number">46</span>,<span class="hljs-number">47</span>,<span class="hljs-number">48</span>,<span class="hljs-number">49</span>,<span class="hljs-number">50</span>,<span class="hljs-number">51</span>,<span class="hljs-number">52</span>,<span class="hljs-number">53</span>,<span class="hljs-number">54</span>,<span class="hljs-number">55</span>,<span class="hljs-number">56</span>,<span class="hljs-number">57</span>,<span class="hljs-number">58</span>,<span class="hljs-number">59</span>,<span class="hljs-number">60</span>,<span class="hljs-number">61</span>,<span class="hljs-number">62</span>,<span class="hljs-number">63</span>,<span class="hljs-number">64</span>,<span class="hljs-number">65</span>,<span class="hljs-number">66</span>,<span class="hljs-number">67</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">true</span>},<span class="hljs-string">"rules"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">13</span>,<span class="hljs-number">14</span>,<span class="hljs-number">15</span>,<span class="hljs-number">16</span>,<span class="hljs-number">17</span>,<span class="hljs-number">29</span>,<span class="hljs-number">31</span>,<span class="hljs-number">32</span>,<span class="hljs-number">33</span>,<span class="hljs-number">34</span>,<span class="hljs-number">35</span>,<span class="hljs-number">36</span>,<span class="hljs-number">37</span>,<span class="hljs-number">38</span>,<span class="hljs-number">39</span>,<span class="hljs-number">40</span>,<span class="hljs-number">41</span>,<span class="hljs-number">42</span>,<span class="hljs-number">43</span>,<span class="hljs-number">44</span>,<span class="hljs-number">45</span>,<span class="hljs-number">46</span>,<span class="hljs-number">47</span>,<span class="hljs-number">48</span>,<span class="hljs-number">49</span>,<span class="hljs-number">50</span>,<span class="hljs-number">51</span>,<span class="hljs-number">52</span>,<span class="hljs-number">53</span>,<span class="hljs-number">54</span>,<span class="hljs-number">55</span>,<span class="hljs-number">56</span>,<span class="hljs-number">57</span>,<span class="hljs-number">58</span>,<span class="hljs-number">59</span>,<span class="hljs-number">60</span>,<span class="hljs-number">61</span>,<span class="hljs-number">62</span>,<span class="hljs-number">63</span>,<span class="hljs-number">64</span>,<span class="hljs-number">65</span>,<span class="hljs-number">66</span>,<span class="hljs-number">67</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">true</span>},<span class="hljs-string">"INITIAL"</span>:{<span class="hljs-string">"rules"</span>:[<span class="hljs-number">29</span>,<span class="hljs-number">31</span>,<span class="hljs-number">32</span>,<span class="hljs-number">33</span>,<span class="hljs-number">34</span>,<span class="hljs-number">35</span>,<span class="hljs-number">36</span>,<span class="hljs-number">37</span>,<span class="hljs-number">38</span>,<span class="hljs-number">39</span>,<span class="hljs-number">40</span>,<span class="hljs-number">41</span>,<span class="hljs-number">42</span>,<span class="hljs-number">43</span>,<span class="hljs-number">44</span>,<span class="hljs-number">45</span>,<span class="hljs-number">46</span>,<span class="hljs-number">47</span>,<span class="hljs-number">48</span>,<span class="hljs-number">49</span>,<span class="hljs-number">50</span>,<span class="hljs-number">51</span>,<span class="hljs-number">52</span>,<span class="hljs-number">53</span>,<span class="hljs-number">54</span>,<span class="hljs-number">55</span>,<span class="hljs-number">56</span>,<span class="hljs-number">57</span>,<span class="hljs-number">58</span>,<span class="hljs-number">59</span>,<span class="hljs-number">60</span>,<span class="hljs-number">61</span>,<span class="hljs-number">62</span>,<span class="hljs-number">63</span>,<span class="hljs-number">64</span>,<span class="hljs-number">65</span>,<span class="hljs-number">66</span>,<span class="hljs-number">67</span>],<span class="hljs-string">"inclusive"</span>:<span class="hljs-literal">true</span>}}
};
<span class="hljs-keyword">return</span> lexer;
})();
parser.lexer = lexer;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Parser</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">this</span>.yy = {};
}
Parser.prototype = parser;parser.Parser = Parser;
<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Parser;
})();


<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">require</span> !== <span class="hljs-string">'undefined'</span> &amp;&amp; <span class="hljs-keyword">typeof</span> exports !== <span class="hljs-string">'undefined'</span>) {
exports.parser = lex;
exports.Parser = lex.Parser;
exports.parse = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> lex.parse.apply(lex, <span class="hljs-built_in">arguments</span>); };
exports.main = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">commonjsMain</span>(<span class="hljs-params">args</span>) </span>{
    <span class="hljs-keyword">if</span> (!args[<span class="hljs-number">1</span>]) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Usage: '</span>+args[<span class="hljs-number">0</span>]+<span class="hljs-string">' FILE'</span>);
        process.exit(<span class="hljs-number">1</span>);
    }
    <span class="hljs-keyword">var</span> source = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>).readFileSync(<span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>).normalize(args[<span class="hljs-number">1</span>]), <span class="hljs-string">"utf8"</span>);
    <span class="hljs-keyword">return</span> exports.parser.parse(source);
};
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> !== <span class="hljs-string">'undefined'</span> &amp;&amp; <span class="hljs-built_in">require</span>.main === <span class="hljs-built_in">module</span>) {
  exports.main(process.argv.slice(<span class="hljs-number">1</span>));
}
}
}).call(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">require</span>(<span class="hljs-string">'_process'</span>))
},{<span class="hljs-string">"_process"</span>:<span class="hljs-number">32</span>,<span class="hljs-string">"fs"</span>:<span class="hljs-number">30</span>,<span class="hljs-string">"path"</span>:<span class="hljs-number">31</span>}],<span class="hljs-number">30</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{

},{}],<span class="hljs-number">31</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">process</span>)</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-432">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-432">&#182;</a>
              </div>
              <p>Copyright Joyent, Inc. and other Node contributors.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
“Software”), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to permit
persons to whom the Software is furnished to do so, subject to the
following conditions:</p>
<p>The above copyright notice and this permission notice shall be included
in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
USE OR OTHER DEALINGS IN THE SOFTWARE.</p>

            </div>
            
        </li>
        
        
        <li id="section-433">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-433">&#182;</a>
              </div>
              <p>resolves . and .. elements in a path array with directory names there
must be no slashes, empty elements, or device names (c:) in the array
(so also no leading and trailing slashes - it does not distinguish
relative and absolute paths)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalizeArray</span>(<span class="hljs-params">parts, allowAboveRoot</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-434">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-434">&#182;</a>
              </div>
              <p>if the path tries to go above the root, <code>up</code> ends up &gt; 0</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">var</span> up = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = parts.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
    <span class="hljs-keyword">var</span> last = parts[i];
    <span class="hljs-keyword">if</span> (last === <span class="hljs-string">'.'</span>) {
      parts.splice(i, <span class="hljs-number">1</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (last === <span class="hljs-string">'..'</span>) {
      parts.splice(i, <span class="hljs-number">1</span>);
      up++;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (up) {
      parts.splice(i, <span class="hljs-number">1</span>);
      up--;
    }
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-435">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-435">&#182;</a>
              </div>
              <p>if the path is allowed to go above the root, restore leading ..s</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">if</span> (allowAboveRoot) {
    <span class="hljs-keyword">for</span> (; up--; up) {
      parts.unshift(<span class="hljs-string">'..'</span>);
    }
  }

  <span class="hljs-keyword">return</span> parts;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-436">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-436">&#182;</a>
              </div>
              <p>Split a filename into [root, dir, basename, ext], unix version
‘root’ is just a slash, or nothing.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> splitPathRe =
    <span class="hljs-regexp">/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/</span>;
<span class="hljs-keyword">var</span> splitPath = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">filename</span>) </span>{
  <span class="hljs-keyword">return</span> splitPathRe.exec(filename).slice(<span class="hljs-number">1</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-437">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-437">&#182;</a>
              </div>
              <p>path.resolve([from …], to)
posix version</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>exports.resolve = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> resolvedPath = <span class="hljs-string">''</span>,
      resolvedAbsolute = <span class="hljs-literal">false</span>;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-built_in">arguments</span>.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">-1</span> &amp;&amp; !resolvedAbsolute; i--) {
    <span class="hljs-keyword">var</span> path = (i &gt;= <span class="hljs-number">0</span>) ? <span class="hljs-built_in">arguments</span>[i] : process.cwd();</pre></div></div>
            
        </li>
        
        
        <li id="section-438">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-438">&#182;</a>
              </div>
              <p>Skip empty and invalid entries</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> path !== <span class="hljs-string">'string'</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Arguments to path.resolve must be strings'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!path) {
      <span class="hljs-keyword">continue</span>;
    }

    resolvedPath = path + <span class="hljs-string">'/'</span> + resolvedPath;
    resolvedAbsolute = path.charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'/'</span>;
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-439">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-439">&#182;</a>
              </div>
              <p>At this point the path should be resolved to a full absolute path, but
handle relative paths to be safe (might happen when process.cwd() fails)</p>

            </div>
            
        </li>
        
        
        <li id="section-440">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-440">&#182;</a>
              </div>
              <p>Normalize the path</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  resolvedPath = normalizeArray(filter(resolvedPath.split(<span class="hljs-string">'/'</span>), <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">p</span>) </span>{
    <span class="hljs-keyword">return</span> !!p;
  }), !resolvedAbsolute).join(<span class="hljs-string">'/'</span>);

  <span class="hljs-keyword">return</span> ((resolvedAbsolute ? <span class="hljs-string">'/'</span> : <span class="hljs-string">''</span>) + resolvedPath) || <span class="hljs-string">'.'</span>;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-441">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-441">&#182;</a>
              </div>
              <p>path.normalize(path)
posix version</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>exports.normalize = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">path</span>) </span>{
  <span class="hljs-keyword">var</span> isAbsolute = exports.isAbsolute(path),
      trailingSlash = substr(path, <span class="hljs-number">-1</span>) === <span class="hljs-string">'/'</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-442">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-442">&#182;</a>
              </div>
              <p>Normalize the path</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  path = normalizeArray(filter(path.split(<span class="hljs-string">'/'</span>), <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">p</span>) </span>{
    <span class="hljs-keyword">return</span> !!p;
  }), !isAbsolute).join(<span class="hljs-string">'/'</span>);

  <span class="hljs-keyword">if</span> (!path &amp;&amp; !isAbsolute) {
    path = <span class="hljs-string">'.'</span>;
  }
  <span class="hljs-keyword">if</span> (path &amp;&amp; trailingSlash) {
    path += <span class="hljs-string">'/'</span>;
  }

  <span class="hljs-keyword">return</span> (isAbsolute ? <span class="hljs-string">'/'</span> : <span class="hljs-string">''</span>) + path;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-443">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-443">&#182;</a>
              </div>
              <p>posix version</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>exports.isAbsolute = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">path</span>) </span>{
  <span class="hljs-keyword">return</span> path.charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'/'</span>;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-444">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-444">&#182;</a>
              </div>
              <p>posix version</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>exports.join = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> paths = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> exports.normalize(filter(paths, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">p, index</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> p !== <span class="hljs-string">'string'</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Arguments to path.join must be strings'</span>);
    }
    <span class="hljs-keyword">return</span> p;
  }).join(<span class="hljs-string">'/'</span>));
};</pre></div></div>
            
        </li>
        
        
        <li id="section-445">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-445">&#182;</a>
              </div>
              <p>path.relative(from, to)
posix version</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>exports.relative = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">from, to</span>) </span>{
  <span class="hljs-keyword">from</span> = exports.resolve(<span class="hljs-keyword">from</span>).substr(<span class="hljs-number">1</span>);
  to = exports.resolve(to).substr(<span class="hljs-number">1</span>);

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trim</span>(<span class="hljs-params">arr</span>) </span>{
    <span class="hljs-keyword">var</span> start = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (; start &lt; arr.length; start++) {
      <span class="hljs-keyword">if</span> (arr[start] !== <span class="hljs-string">''</span>) <span class="hljs-keyword">break</span>;
    }

    <span class="hljs-keyword">var</span> end = arr.length - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">for</span> (; end &gt;= <span class="hljs-number">0</span>; end--) {
      <span class="hljs-keyword">if</span> (arr[end] !== <span class="hljs-string">''</span>) <span class="hljs-keyword">break</span>;
    }

    <span class="hljs-keyword">if</span> (start &gt; end) <span class="hljs-keyword">return</span> [];
    <span class="hljs-keyword">return</span> arr.slice(start, end - start + <span class="hljs-number">1</span>);
  }

  <span class="hljs-keyword">var</span> fromParts = trim(<span class="hljs-keyword">from</span>.split(<span class="hljs-string">'/'</span>));
  <span class="hljs-keyword">var</span> toParts = trim(to.split(<span class="hljs-string">'/'</span>));

  <span class="hljs-keyword">var</span> length = <span class="hljs-built_in">Math</span>.min(fromParts.length, toParts.length);
  <span class="hljs-keyword">var</span> samePartsLength = length;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; length; i++) {
    <span class="hljs-keyword">if</span> (fromParts[i] !== toParts[i]) {
      samePartsLength = i;
      <span class="hljs-keyword">break</span>;
    }
  }

  <span class="hljs-keyword">var</span> outputParts = [];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = samePartsLength; i &lt; fromParts.length; i++) {
    outputParts.push(<span class="hljs-string">'..'</span>);
  }

  outputParts = outputParts.concat(toParts.slice(samePartsLength));

  <span class="hljs-keyword">return</span> outputParts.join(<span class="hljs-string">'/'</span>);
};

exports.sep = <span class="hljs-string">'/'</span>;
exports.delimiter = <span class="hljs-string">':'</span>;

exports.dirname = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">path</span>) </span>{
  <span class="hljs-keyword">var</span> result = splitPath(path),
      root = result[<span class="hljs-number">0</span>],
      dir = result[<span class="hljs-number">1</span>];

  <span class="hljs-keyword">if</span> (!root &amp;&amp; !dir) {</pre></div></div>
            
        </li>
        
        
        <li id="section-446">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-446">&#182;</a>
              </div>
              <p>No dirname whatsoever</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">return</span> <span class="hljs-string">'.'</span>;
  }

  <span class="hljs-keyword">if</span> (dir) {</pre></div></div>
            
        </li>
        
        
        <li id="section-447">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-447">&#182;</a>
              </div>
              <p>It has a dirname, strip trailing slash</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    dir = dir.substr(<span class="hljs-number">0</span>, dir.length - <span class="hljs-number">1</span>);
  }

  <span class="hljs-keyword">return</span> root + dir;
};


exports.basename = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">path, ext</span>) </span>{
  <span class="hljs-keyword">var</span> f = splitPath(path)[<span class="hljs-number">2</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-448">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-448">&#182;</a>
              </div>
              <p>TODO: make this comparison case-insensitive on windows?</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">if</span> (ext &amp;&amp; f.substr(<span class="hljs-number">-1</span> * ext.length) === ext) {
    f = f.substr(<span class="hljs-number">0</span>, f.length - ext.length);
  }
  <span class="hljs-keyword">return</span> f;
};


exports.extname = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">path</span>) </span>{
  <span class="hljs-keyword">return</span> splitPath(path)[<span class="hljs-number">3</span>];
};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">filter</span> (<span class="hljs-params">xs, f</span>) </span>{
    <span class="hljs-keyword">if</span> (xs.filter) <span class="hljs-keyword">return</span> xs.filter(f);
    <span class="hljs-keyword">var</span> res = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; xs.length; i++) {
        <span class="hljs-keyword">if</span> (f(xs[i], i, xs)) res.push(xs[i]);
    }
    <span class="hljs-keyword">return</span> res;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-449">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-449">&#182;</a>
              </div>
              <p>String.prototype.substr - negative index don’t work in IE8</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> substr = <span class="hljs-string">'ab'</span>.substr(<span class="hljs-number">-1</span>) === <span class="hljs-string">'b'</span>
    ? <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str, start, len</span>) </span>{ <span class="hljs-keyword">return</span> str.substr(start, len) }
    : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str, start, len</span>) </span>{
        <span class="hljs-keyword">if</span> (start &lt; <span class="hljs-number">0</span>) start = str.length + start;
        <span class="hljs-keyword">return</span> str.substr(start, len);
    }
;

}).call(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">require</span>(<span class="hljs-string">'_process'</span>))
},{<span class="hljs-string">"_process"</span>:<span class="hljs-number">32</span>}],<span class="hljs-number">32</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-450">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-450">&#182;</a>
              </div>
              <p>shim for using process in browser</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> process = <span class="hljs-built_in">module</span>.exports = {};
<span class="hljs-keyword">var</span> queue = [];
<span class="hljs-keyword">var</span> draining = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> currentQueue;
<span class="hljs-keyword">var</span> queueIndex = <span class="hljs-number">-1</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cleanUpNextTick</span>(<span class="hljs-params"></span>) </span>{
    draining = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } <span class="hljs-keyword">else</span> {
        queueIndex = <span class="hljs-number">-1</span>;
    }
    <span class="hljs-keyword">if</span> (queue.length) {
        drainQueue();
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drainQueue</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (draining) {
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">var</span> timeout = setTimeout(cleanUpNextTick);
    draining = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">var</span> len = queue.length;
    <span class="hljs-keyword">while</span>(len) {
        currentQueue = queue;
        queue = [];
        <span class="hljs-keyword">while</span> (++queueIndex &lt; len) {
            <span class="hljs-keyword">if</span> (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = <span class="hljs-number">-1</span>;
        len = queue.length;
    }
    currentQueue = <span class="hljs-literal">null</span>;
    draining = <span class="hljs-literal">false</span>;
    clearTimeout(timeout);
}

process.nextTick = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">fun</span>) </span>{
    <span class="hljs-keyword">var</span> args = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-built_in">arguments</span>.length - <span class="hljs-number">1</span>);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-built_in">arguments</span>.length; i++) {
            args[i - <span class="hljs-number">1</span>] = <span class="hljs-built_in">arguments</span>[i];
        }
    }
    queue.push(<span class="hljs-keyword">new</span> Item(fun, args));
    <span class="hljs-keyword">if</span> (queue.length === <span class="hljs-number">1</span> &amp;&amp; !draining) {
        setTimeout(drainQueue, <span class="hljs-number">0</span>);
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-451">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-451">&#182;</a>
              </div>
              <p>v8 likes predictible objects</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Item</span>(<span class="hljs-params">fun, array</span>) </span>{
    <span class="hljs-keyword">this</span>.fun = fun;
    <span class="hljs-keyword">this</span>.array = array;
}
Item.prototype.run = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.fun.apply(<span class="hljs-literal">null</span>, <span class="hljs-keyword">this</span>.array);
};
process.title = <span class="hljs-string">'browser'</span>;
process.browser = <span class="hljs-literal">true</span>;
process.env = {};
process.argv = [];
process.version = <span class="hljs-string">''</span>; <span class="hljs-comment">// empty string to avoid regexp issues</span>
process.versions = {};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">noop</span>(<span class="hljs-params"></span>) </span>{}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'process.binding is not supported'</span>);
};

process.cwd = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">'/'</span> };
process.chdir = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dir</span>) </span>{
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'process.chdir is not supported'</span>);
};
process.umask = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; };

},{}],<span class="hljs-string">"jison"</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">process</span>)</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-452">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-452">&#182;</a>
              </div>
              <p>Jison, an LR(0), SLR(1), LARL(1), LR(1) Parser Generator
Zachary Carter <a href="&#x6d;&#97;&#x69;&#x6c;&#x74;&#x6f;&#x3a;&#122;&#97;&#99;&#x68;&#64;&#99;&#x61;&#x72;&#116;&#101;&#x72;&#x2e;&#x6e;&#x61;&#x6d;&#x65;">&#122;&#97;&#99;&#x68;&#64;&#99;&#x61;&#x72;&#116;&#101;&#x72;&#x2e;&#x6e;&#x61;&#x6d;&#x65;</a>
MIT X Licensed</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> typal      = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./util/typal'</span>).typal;
<span class="hljs-keyword">var</span> <span class="hljs-built_in">Set</span>        = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./util/set'</span>).Set;
<span class="hljs-keyword">var</span> Lexer      = <span class="hljs-built_in">require</span>(<span class="hljs-string">'jison-lex'</span>);
<span class="hljs-keyword">var</span> ebnfParser = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ebnf-parser'</span>);
<span class="hljs-keyword">var</span> JSONSelect = <span class="hljs-built_in">require</span>(<span class="hljs-string">'JSONSelect'</span>);
<span class="hljs-keyword">var</span> esprima    = <span class="hljs-built_in">require</span>(<span class="hljs-string">'esprima'</span>);
<span class="hljs-keyword">var</span> escodegen  = <span class="hljs-built_in">require</span>(<span class="hljs-string">'escodegen'</span>);


<span class="hljs-keyword">var</span> version = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../package.json'</span>).version;

<span class="hljs-keyword">var</span> Jison = exports.Jison = exports;
Jison.version = version;</pre></div></div>
            
        </li>
        
        
        <li id="section-453">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-453">&#182;</a>
              </div>
              <p>detect print</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">console</span> !== <span class="hljs-string">'undefined'</span> &amp;&amp; <span class="hljs-built_in">console</span>.log) {
    Jison.print = <span class="hljs-built_in">console</span>.log;
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> puts !== <span class="hljs-string">'undefined'</span>) {
    Jison.print = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">print</span> (<span class="hljs-params"></span>) </span>{ puts([].join.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-string">' '</span>)); };
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> print !== <span class="hljs-string">'undefined'</span>) {
    Jison.print = print;
} <span class="hljs-keyword">else</span> {
    Jison.print = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">print</span> (<span class="hljs-params"></span>) </span>{};
}

Jison.Parser = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-454">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-454">&#182;</a>
              </div>
              <p>iterator utility</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">each</span> (<span class="hljs-params">obj, func</span>) </span>{
    <span class="hljs-keyword">if</span> (obj.forEach) {
        obj.forEach(func);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> p;
        <span class="hljs-keyword">for</span> (p <span class="hljs-keyword">in</span> obj) {
            <span class="hljs-keyword">if</span> (obj.hasOwnProperty(p)) {
                func.call(obj, obj[p], p, obj);
            }
        }
    }
}

<span class="hljs-keyword">var</span> Nonterminal = typal.construct({
    <span class="hljs-keyword">constructor</span>: function Nonterminal (symbol) {
        <span class="hljs-keyword">this</span>.symbol = symbol;
        <span class="hljs-keyword">this</span>.productions = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>();
        <span class="hljs-keyword">this</span>.first = [];
        <span class="hljs-keyword">this</span>.follows = [];
        <span class="hljs-keyword">this</span>.nullable = <span class="hljs-literal">false</span>;
    },
    toString: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Nonterminal_toString</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> str = <span class="hljs-keyword">this</span>.symbol+<span class="hljs-string">"\n"</span>;
        str += (<span class="hljs-keyword">this</span>.nullable ? <span class="hljs-string">'nullable'</span> : <span class="hljs-string">'not nullable'</span>);
        str += <span class="hljs-string">"\nFirsts: "</span>+<span class="hljs-keyword">this</span>.first.join(<span class="hljs-string">', '</span>);
        str += <span class="hljs-string">"\nFollows: "</span>+<span class="hljs-keyword">this</span>.first.join(<span class="hljs-string">', '</span>);
        str += <span class="hljs-string">"\nProductions:\n  "</span>+<span class="hljs-keyword">this</span>.productions.join(<span class="hljs-string">'\n  '</span>);

        <span class="hljs-keyword">return</span> str;
    }
});

<span class="hljs-keyword">var</span> Production = typal.construct({
    <span class="hljs-keyword">constructor</span>: function Production (symbol, handle, id) {
        <span class="hljs-keyword">this</span>.symbol = symbol;
        <span class="hljs-keyword">this</span>.handle = handle;
        <span class="hljs-keyword">this</span>.nullable = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.id = id;
        <span class="hljs-keyword">this</span>.first = [];
        <span class="hljs-keyword">this</span>.precedence = <span class="hljs-number">0</span>;
    },
    toString: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Production_toString</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.symbol+<span class="hljs-string">" -&gt; "</span>+<span class="hljs-keyword">this</span>.handle.join(<span class="hljs-string">' '</span>);
    }
});

<span class="hljs-keyword">var</span> generator = typal.beget();

generator.constructor = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Jison_Generator</span> (<span class="hljs-params">grammar, opt</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> grammar === <span class="hljs-string">'string'</span>) {
        grammar = ebnfParser.parse(grammar);
    }

    <span class="hljs-keyword">var</span> options = typal.mix.call({}, grammar.options, opt);
    <span class="hljs-keyword">this</span>.terms = {};
    <span class="hljs-keyword">this</span>.operators = {};
    <span class="hljs-keyword">this</span>.productions = [];
    <span class="hljs-keyword">this</span>.conflicts = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">this</span>.resolutions = [];
    <span class="hljs-keyword">this</span>.options = options;
    <span class="hljs-keyword">this</span>.parseParams = grammar.parseParams;
    <span class="hljs-keyword">this</span>.yy = {}; <span class="hljs-comment">// accessed as yy free variable in the parser/lexer actions</span></pre></div></div>
            
        </li>
        
        
        <li id="section-455">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-455">&#182;</a>
              </div>
              <p>source included in semantic action execution scope</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (grammar.actionInclude) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> grammar.actionInclude === <span class="hljs-string">'function'</span>) {
            grammar.actionInclude = <span class="hljs-built_in">String</span>(grammar.actionInclude).replace(<span class="hljs-regexp">/^\s*function \(\) \{/</span>, <span class="hljs-string">''</span>).replace(<span class="hljs-regexp">/\}\s*$/</span>, <span class="hljs-string">''</span>);
        }
        <span class="hljs-keyword">this</span>.actionInclude = grammar.actionInclude;
    }
    <span class="hljs-keyword">this</span>.moduleInclude = grammar.moduleInclude || <span class="hljs-string">''</span>;

    <span class="hljs-keyword">this</span>.DEBUG = options.debug || <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.DEBUG) <span class="hljs-keyword">this</span>.mix(generatorDebug); <span class="hljs-comment">// mixin debug methods</span>

    <span class="hljs-keyword">this</span>.processGrammar(grammar);

    <span class="hljs-keyword">if</span> (grammar.lex) {
        <span class="hljs-keyword">this</span>.lexer = <span class="hljs-keyword">new</span> Lexer(grammar.lex, <span class="hljs-literal">null</span>, <span class="hljs-keyword">this</span>.terminals_);
    }
};

generator.processGrammar = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processGrammarDef</span> (<span class="hljs-params">grammar</span>) </span>{
    <span class="hljs-keyword">var</span> bnf = grammar.bnf,
        tokens = grammar.tokens,
        nonterminals = <span class="hljs-keyword">this</span>.nonterminals = {},
        productions = <span class="hljs-keyword">this</span>.productions,
        self = <span class="hljs-keyword">this</span>;

    <span class="hljs-keyword">if</span> (!grammar.bnf &amp;&amp; grammar.ebnf) {
        bnf = grammar.bnf = ebnfParser.transform(grammar.ebnf);
    }

    <span class="hljs-keyword">if</span> (tokens) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> tokens === <span class="hljs-string">'string'</span>) {
            tokens = tokens.trim().split(<span class="hljs-string">' '</span>);
        } <span class="hljs-keyword">else</span> {
            tokens = tokens.slice(<span class="hljs-number">0</span>);
        }
    }

    <span class="hljs-keyword">var</span> symbols = <span class="hljs-keyword">this</span>.symbols = [];</pre></div></div>
            
        </li>
        
        
        <li id="section-456">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-456">&#182;</a>
              </div>
              <p>calculate precedence of operators</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> operators = <span class="hljs-keyword">this</span>.operators = processOperators(grammar.operators);</pre></div></div>
            
        </li>
        
        
        <li id="section-457">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-457">&#182;</a>
              </div>
              <p>build productions from cfg</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">this</span>.buildProductions(bnf, productions, nonterminals, symbols, operators);

    <span class="hljs-keyword">if</span> (tokens &amp;&amp; <span class="hljs-keyword">this</span>.terminals.length !== tokens.length) {
        self.trace(<span class="hljs-string">"Warning: declared tokens differ from tokens found in rules."</span>);
        self.trace(<span class="hljs-keyword">this</span>.terminals);
        self.trace(tokens);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-458">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-458">&#182;</a>
              </div>
              <p>augment the grammar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">this</span>.augmentGrammar(grammar);
};

generator.augmentGrammar = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">augmentGrammar</span> (<span class="hljs-params">grammar</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.productions.length === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Grammar error: must have at least one rule."</span>);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-459">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-459">&#182;</a>
              </div>
              <p>use specified start symbol, or default to first user defined production</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">this</span>.startSymbol = grammar.start || grammar.startSymbol || <span class="hljs-keyword">this</span>.productions[<span class="hljs-number">0</span>].symbol;
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.nonterminals[<span class="hljs-keyword">this</span>.startSymbol]) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Grammar error: startSymbol must be a non-terminal found in your grammar."</span>);
    }
    <span class="hljs-keyword">this</span>.EOF = <span class="hljs-string">"$end"</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-460">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-460">&#182;</a>
              </div>
              <p>augment the grammar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> acceptProduction = <span class="hljs-keyword">new</span> Production(<span class="hljs-string">'$accept'</span>, [<span class="hljs-keyword">this</span>.startSymbol, <span class="hljs-string">'$end'</span>], <span class="hljs-number">0</span>);
    <span class="hljs-keyword">this</span>.productions.unshift(acceptProduction);</pre></div></div>
            
        </li>
        
        
        <li id="section-461">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-461">&#182;</a>
              </div>
              <p>prepend parser tokens</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">this</span>.symbols.unshift(<span class="hljs-string">"$accept"</span>,<span class="hljs-keyword">this</span>.EOF);
    <span class="hljs-keyword">this</span>.symbols_.$accept = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">this</span>.symbols_[<span class="hljs-keyword">this</span>.EOF] = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">this</span>.terminals.unshift(<span class="hljs-keyword">this</span>.EOF);

    <span class="hljs-keyword">this</span>.nonterminals.$accept = <span class="hljs-keyword">new</span> Nonterminal(<span class="hljs-string">"$accept"</span>);
    <span class="hljs-keyword">this</span>.nonterminals.$accept.productions.push(acceptProduction);</pre></div></div>
            
        </li>
        
        
        <li id="section-462">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-462">&#182;</a>
              </div>
              <p>add follow $ to start symbol</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">this</span>.nonterminals[<span class="hljs-keyword">this</span>.startSymbol].follows.push(<span class="hljs-keyword">this</span>.EOF);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-463">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-463">&#182;</a>
              </div>
              <p>set precedence and associativity of operators</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processOperators</span> (<span class="hljs-params">ops</span>) </span>{
    <span class="hljs-keyword">if</span> (!ops) <span class="hljs-keyword">return</span> {};
    <span class="hljs-keyword">var</span> operators = {};
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,k,prec;prec=ops[i]; i++) {
        <span class="hljs-keyword">for</span> (k=<span class="hljs-number">1</span>;k &lt; prec.length;k++) {
            operators[prec[k]] = {precedence: i+<span class="hljs-number">1</span>, assoc: prec[<span class="hljs-number">0</span>]};
        }
    }
    <span class="hljs-keyword">return</span> operators;
}


generator.buildProductions = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildProductions</span>(<span class="hljs-params">bnf, productions, nonterminals, symbols, operators</span>) </span>{
    <span class="hljs-keyword">var</span> actions = [
      <span class="hljs-string">'/* this == yyval */'</span>,
      <span class="hljs-keyword">this</span>.actionInclude || <span class="hljs-string">''</span>,
      <span class="hljs-string">'var $0 = $$.length - 1;'</span>,
      <span class="hljs-string">'switch (yystate) {'</span>
    ];
    <span class="hljs-keyword">var</span> actionGroups = {};
    <span class="hljs-keyword">var</span> prods, symbol;
    <span class="hljs-keyword">var</span> productions_ = [<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> symbolId = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> symbols_ = {};

    <span class="hljs-keyword">var</span> her = <span class="hljs-literal">false</span>; <span class="hljs-comment">// has error recovery</span>

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addSymbol</span> (<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">if</span> (s &amp;&amp; !symbols_[s]) {
            symbols_[s] = ++symbolId;
            symbols.push(s);
        }
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-464">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-464">&#182;</a>
              </div>
              <p>add error symbol; will be third symbol, or “2” ($accept, $end, error)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    addSymbol(<span class="hljs-string">"error"</span>);

    <span class="hljs-keyword">for</span> (symbol <span class="hljs-keyword">in</span> bnf) {
        <span class="hljs-keyword">if</span> (!bnf.hasOwnProperty(symbol)) <span class="hljs-keyword">continue</span>;

        addSymbol(symbol);
        nonterminals[symbol] = <span class="hljs-keyword">new</span> Nonterminal(symbol);

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> bnf[symbol] === <span class="hljs-string">'string'</span>) {
            prods = bnf[symbol].split(<span class="hljs-regexp">/\s*\|\s*/g</span>);
        } <span class="hljs-keyword">else</span> {
            prods = bnf[symbol].slice(<span class="hljs-number">0</span>);
        }

        prods.forEach(buildProduction);
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> action <span class="hljs-keyword">in</span> actionGroups)
      actions.push(actionGroups[action].join(<span class="hljs-string">' '</span>), action, <span class="hljs-string">'break;'</span>);

    <span class="hljs-keyword">var</span> sym, terms = [], terms_ = {};
    each(symbols_, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id, sym</span>) </span>{
        <span class="hljs-keyword">if</span> (!nonterminals[sym]) {
            terms.push(sym);
            terms_[id] = sym;
        }
    });

    <span class="hljs-keyword">this</span>.hasErrorRecovery = her;

    <span class="hljs-keyword">this</span>.terminals = terms;
    <span class="hljs-keyword">this</span>.terminals_ = terms_;
    <span class="hljs-keyword">this</span>.symbols_ = symbols_;

    <span class="hljs-keyword">this</span>.productions_ = productions_;
    actions.push(<span class="hljs-string">'}'</span>);

    actions = actions.join(<span class="hljs-string">"\n"</span>)
                .replace(<span class="hljs-regexp">/YYABORT/g</span>, <span class="hljs-string">'return false'</span>)
                .replace(<span class="hljs-regexp">/YYACCEPT/g</span>, <span class="hljs-string">'return true'</span>);

    <span class="hljs-keyword">var</span> parameters = <span class="hljs-string">"yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */"</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.parseParams) parameters += <span class="hljs-string">', '</span> + <span class="hljs-keyword">this</span>.parseParams.join(<span class="hljs-string">', '</span>);

    <span class="hljs-keyword">this</span>.performAction = <span class="hljs-string">"function anonymous("</span> + parameters + <span class="hljs-string">") {\n"</span> + actions + <span class="hljs-string">"\n}"</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildProduction</span> (<span class="hljs-params">handle</span>) </span>{
        <span class="hljs-keyword">var</span> r, rhs, i;
        <span class="hljs-keyword">if</span> (handle.constructor === <span class="hljs-built_in">Array</span>) {
            rhs = (<span class="hljs-keyword">typeof</span> handle[<span class="hljs-number">0</span>] === <span class="hljs-string">'string'</span>) ?
                      handle[<span class="hljs-number">0</span>].trim().split(<span class="hljs-string">' '</span>) :
                      handle[<span class="hljs-number">0</span>].slice(<span class="hljs-number">0</span>);

            <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i&lt;rhs.length; i++) {
                <span class="hljs-keyword">if</span> (rhs[i] === <span class="hljs-string">'error'</span>) her = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span> (!symbols_[rhs[i]]) {
                    addSymbol(rhs[i]);
                }
            }

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> handle[<span class="hljs-number">1</span>] === <span class="hljs-string">'string'</span> || handle.length == <span class="hljs-number">3</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-465">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-465">&#182;</a>
              </div>
              <p>semantic action specified</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">var</span> label = <span class="hljs-string">'case '</span> + (productions.length+<span class="hljs-number">1</span>) + <span class="hljs-string">':'</span>, action = handle[<span class="hljs-number">1</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-466">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-466">&#182;</a>
              </div>
              <p>replace named semantic values ($nonterminal)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (action.match(<span class="hljs-regexp">/[$@][a-zA-Z][a-zA-Z0-9_]*/</span>)) {
                    <span class="hljs-keyword">var</span> count = {},
                        names = {};
                    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>;i&lt;rhs.length;i++) {</pre></div></div>
            
        </li>
        
        
        <li id="section-467">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-467">&#182;</a>
              </div>
              <p>check for aliased names, e.g., id[alias]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                        <span class="hljs-keyword">var</span> rhs_i = rhs[i].match(<span class="hljs-regexp">/\[[a-zA-Z][a-zA-Z0-9_-]*\]/</span>);
                        <span class="hljs-keyword">if</span> (rhs_i) {
                            rhs_i = rhs_i[<span class="hljs-number">0</span>].substr(<span class="hljs-number">1</span>, rhs_i[<span class="hljs-number">0</span>].length<span class="hljs-number">-2</span>);
                            rhs[i] = rhs[i].substr(<span class="hljs-number">0</span>, rhs[i].indexOf(<span class="hljs-string">'['</span>));
                        } <span class="hljs-keyword">else</span> {
                            rhs_i = rhs[i];
                        }

                        <span class="hljs-keyword">if</span> (names[rhs_i]) {
                            names[rhs_i + (++count[rhs_i])] = i+<span class="hljs-number">1</span>;
                        } <span class="hljs-keyword">else</span> {
                            names[rhs_i] = i+<span class="hljs-number">1</span>;
                            names[rhs_i + <span class="hljs-string">"1"</span>] = i+<span class="hljs-number">1</span>;
                            count[rhs_i] = <span class="hljs-number">1</span>;
                        }
                    }
                    action = action.replace(<span class="hljs-regexp">/\$([a-zA-Z][a-zA-Z0-9_]*)/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str, pl</span>) </span>{
                            <span class="hljs-keyword">return</span> names[pl] ? <span class="hljs-string">'$'</span>+names[pl] : str;
                        }).replace(<span class="hljs-regexp">/@([a-zA-Z][a-zA-Z0-9_]*)/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str, pl</span>) </span>{
                            <span class="hljs-keyword">return</span> names[pl] ? <span class="hljs-string">'@'</span>+names[pl] : str;
                        });
                }
                action = action</pre></div></div>
            
        </li>
        
        
        <li id="section-468">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-468">&#182;</a>
              </div>
              <p>replace references to $$ with this.$, and @$ with this._$</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    .replace(<span class="hljs-regexp">/([^'"])\$\$|^\$\$/g</span>, <span class="hljs-string">'$1this.$'</span>).replace(<span class="hljs-regexp">/@[0$]/g</span>, <span class="hljs-string">"this._$"</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-469">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-469">&#182;</a>
              </div>
              <p>replace semantic value references ($n) with stack value (stack[n])</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    .replace(<span class="hljs-regexp">/\$(-?\d+)/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">_, n</span>) </span>{
                        <span class="hljs-keyword">return</span> <span class="hljs-string">"$$[$0"</span> + (<span class="hljs-built_in">parseInt</span>(n, <span class="hljs-number">10</span>) - rhs.length || <span class="hljs-string">''</span>) + <span class="hljs-string">"]"</span>;
                    })</pre></div></div>
            
        </li>
        
        
        <li id="section-470">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-470">&#182;</a>
              </div>
              <p>same as above for location references (@n)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    .replace(<span class="hljs-regexp">/@(-?\d+)/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">_, n</span>) </span>{
                        <span class="hljs-keyword">return</span> <span class="hljs-string">"_$[$0"</span> + (n - rhs.length || <span class="hljs-string">''</span>) + <span class="hljs-string">"]"</span>;
                    });
                <span class="hljs-keyword">if</span> (action <span class="hljs-keyword">in</span> actionGroups) actionGroups[action].push(label);
                <span class="hljs-keyword">else</span> actionGroups[action] = [label];</pre></div></div>
            
        </li>
        
        
        <li id="section-471">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-471">&#182;</a>
              </div>
              <p>done with aliases; strip them.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                rhs = rhs.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>) </span>{ <span class="hljs-keyword">return</span> e.replace(<span class="hljs-regexp">/\[[a-zA-Z_][a-zA-Z0-9_-]*\]/g</span>, <span class="hljs-string">''</span>) });
                r = <span class="hljs-keyword">new</span> Production(symbol, rhs, productions.length+<span class="hljs-number">1</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-472">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-472">&#182;</a>
              </div>
              <p>precedence specified also</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (handle[<span class="hljs-number">2</span>] &amp;&amp; operators[handle[<span class="hljs-number">2</span>].prec]) {
                    r.precedence = operators[handle[<span class="hljs-number">2</span>].prec].precedence;
                }
            } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-473">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-473">&#182;</a>
              </div>
              <p>no action -&gt; don’t care about aliases; strip them.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                rhs = rhs.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>) </span>{ <span class="hljs-keyword">return</span> e.replace(<span class="hljs-regexp">/\[[a-zA-Z_][a-zA-Z0-9_-]*\]/g</span>, <span class="hljs-string">''</span>) });</pre></div></div>
            
        </li>
        
        
        <li id="section-474">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-474">&#182;</a>
              </div>
              <p>only precedence specified</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                r = <span class="hljs-keyword">new</span> Production(symbol, rhs, productions.length+<span class="hljs-number">1</span>);
                <span class="hljs-keyword">if</span> (operators[handle[<span class="hljs-number">1</span>].prec]) {
                    r.precedence = operators[handle[<span class="hljs-number">1</span>].prec].precedence;
                }
            }
        } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-475">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-475">&#182;</a>
              </div>
              <p>no action -&gt; don’t care about aliases; strip them.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            handle = handle.replace(<span class="hljs-regexp">/\[[a-zA-Z_][a-zA-Z0-9_-]*\]/g</span>, <span class="hljs-string">''</span>);
            rhs = handle.trim().split(<span class="hljs-string">' '</span>);
            <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i&lt;rhs.length; i++) {
                <span class="hljs-keyword">if</span> (rhs[i] === <span class="hljs-string">'error'</span>) her = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span> (!symbols_[rhs[i]]) {
                    addSymbol(rhs[i]);
                }
            }
            r = <span class="hljs-keyword">new</span> Production(symbol, rhs, productions.length+<span class="hljs-number">1</span>);
        }
        <span class="hljs-keyword">if</span> (r.precedence === <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-476">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-476">&#182;</a>
              </div>
              <p>set precedence</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">for</span> (i=r.handle.length<span class="hljs-number">-1</span>; i&gt;=<span class="hljs-number">0</span>; i--) {
                <span class="hljs-keyword">if</span> (!(r.handle[i] <span class="hljs-keyword">in</span> nonterminals) &amp;&amp; r.handle[i] <span class="hljs-keyword">in</span> operators) {
                    r.precedence = operators[r.handle[i]].precedence;
                }
            }
        }

        productions.push(r);
        productions_.push([symbols_[r.symbol], r.handle[<span class="hljs-number">0</span>] === <span class="hljs-string">''</span> ? <span class="hljs-number">0</span> : r.handle.length]);
        nonterminals[symbol].productions.push(r);
    }
};



generator.createParser = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createParser</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Calling abstract method.'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-477">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-477">&#182;</a>
              </div>
              <p>noop. implemented in debug mixin</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>generator.trace = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trace</span> (<span class="hljs-params"></span>) </span>{ };

generator.warn = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">warn</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>,<span class="hljs-number">0</span>);
    Jison.print.call(<span class="hljs-literal">null</span>,args.join(<span class="hljs-string">""</span>));
};

generator.error = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">error</span> (<span class="hljs-params">msg</span>) </span>{
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(msg);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-478">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-478">&#182;</a>
              </div>
              <p>Generator debug mixin</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> generatorDebug = {
    trace: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trace</span> (<span class="hljs-params"></span>) </span>{
        Jison.print.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>);
    },
    beforeprocessGrammar: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.trace(<span class="hljs-string">"Processing grammar."</span>);
    },
    afteraugmentGrammar: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> trace = <span class="hljs-keyword">this</span>.trace;
        each(<span class="hljs-keyword">this</span>.symbols, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">sym, i</span>) </span>{
            trace(sym+<span class="hljs-string">"("</span>+i+<span class="hljs-string">")"</span>);
        });
    }
};



<span class="hljs-comment">/*
 * Mixin for common behaviors of lookahead parsers
 * */</span>
<span class="hljs-keyword">var</span> lookaheadMixin = {};

lookaheadMixin.computeLookaheads = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">computeLookaheads</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.DEBUG) <span class="hljs-keyword">this</span>.mix(lookaheadDebug); <span class="hljs-comment">// mixin debug methods</span>

    <span class="hljs-keyword">this</span>.computeLookaheads = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{};
    <span class="hljs-keyword">this</span>.nullableSets();
    <span class="hljs-keyword">this</span>.firstSets();
    <span class="hljs-keyword">this</span>.followSets();
};</pre></div></div>
            
        </li>
        
        
        <li id="section-479">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-479">&#182;</a>
              </div>
              <p>calculate follow sets typald on first and nullable</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>lookaheadMixin.followSets = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">followSets</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> productions = <span class="hljs-keyword">this</span>.productions,
        nonterminals = <span class="hljs-keyword">this</span>.nonterminals,
        self = <span class="hljs-keyword">this</span>,
        cont = <span class="hljs-literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-480">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-480">&#182;</a>
              </div>
              <p>loop until no further changes have been made</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">while</span>(cont) {
        cont = <span class="hljs-literal">false</span>;

        productions.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Follow_prod_forEach</span> (<span class="hljs-params">production, k</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-481">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-481">&#182;</a>
              </div>
              <p>self.trace(production.symbol,nonterminals[production.symbol].follows);
q is used in Simple LALR algorithm determine follows in context</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">var</span> q;
            <span class="hljs-keyword">var</span> ctx = !!self.go_;

            <span class="hljs-keyword">var</span> set = [],oldcount;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,t;t=production.handle[i];++i) {
                <span class="hljs-keyword">if</span> (!nonterminals[t]) <span class="hljs-keyword">continue</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-482">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-482">&#182;</a>
              </div>
              <p>for Simple LALR algorithm, self.go_ checks if</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (ctx)
                    q = self.go_(production.symbol, production.handle.slice(<span class="hljs-number">0</span>, i));
                <span class="hljs-keyword">var</span> bool = !ctx || q === <span class="hljs-built_in">parseInt</span>(self.nterms_[t], <span class="hljs-number">10</span>);

                <span class="hljs-keyword">if</span> (i === production.handle.length+<span class="hljs-number">1</span> &amp;&amp; bool) {
                    set = nonterminals[production.symbol].follows;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">var</span> part = production.handle.slice(i+<span class="hljs-number">1</span>);

                    set = self.first(part);
                    <span class="hljs-keyword">if</span> (self.nullable(part) &amp;&amp; bool) {
                        set.push.apply(set, nonterminals[production.symbol].follows);
                    }
                }
                oldcount = nonterminals[t].follows.length;
                <span class="hljs-built_in">Set</span>.union(nonterminals[t].follows, set);
                <span class="hljs-keyword">if</span> (oldcount !== nonterminals[t].follows.length) {
                    cont = <span class="hljs-literal">true</span>;
                }
            }
        });
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-483">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-483">&#182;</a>
              </div>
              <p>return the FIRST set of a symbol or series of symbols</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>lookaheadMixin.first = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">first</span> (<span class="hljs-params">symbol</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-484">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-484">&#182;</a>
              </div>
              <p>epsilon</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (symbol === <span class="hljs-string">''</span>) {
        <span class="hljs-keyword">return</span> [];</pre></div></div>
            
        </li>
        
        
        <li id="section-485">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-485">&#182;</a>
              </div>
              <p>RHS</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (symbol <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>) {
        <span class="hljs-keyword">var</span> firsts = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,t;t=symbol[i];++i) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.nonterminals[t]) {
                <span class="hljs-keyword">if</span> (firsts.indexOf(t) === <span class="hljs-number">-1</span>)
                    firsts.push(t);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-built_in">Set</span>.union(firsts, <span class="hljs-keyword">this</span>.nonterminals[t].first);
            }
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.nullable(t))
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">return</span> firsts;</pre></div></div>
            
        </li>
        
        
        <li id="section-486">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-486">&#182;</a>
              </div>
              <p>terminal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.nonterminals[symbol]) {
        <span class="hljs-keyword">return</span> [symbol];</pre></div></div>
            
        </li>
        
        
        <li id="section-487">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-487">&#182;</a>
              </div>
              <p>nonterminal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.nonterminals[symbol].first;
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-488">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-488">&#182;</a>
              </div>
              <p>fixed-point calculation of FIRST sets</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>lookaheadMixin.firstSets = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">firstSets</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> productions = <span class="hljs-keyword">this</span>.productions,
        nonterminals = <span class="hljs-keyword">this</span>.nonterminals,
        self = <span class="hljs-keyword">this</span>,
        cont = <span class="hljs-literal">true</span>,
        symbol,firsts;</pre></div></div>
            
        </li>
        
        
        <li id="section-489">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-489">&#182;</a>
              </div>
              <p>loop until no further changes have been made</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">while</span>(cont) {
        cont = <span class="hljs-literal">false</span>;

        productions.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">FirstSets_forEach</span> (<span class="hljs-params">production, k</span>) </span>{
            <span class="hljs-keyword">var</span> firsts = self.first(production.handle);
            <span class="hljs-keyword">if</span> (firsts.length !== production.first.length) {
                production.first = firsts;
                cont=<span class="hljs-literal">true</span>;
            }
        });

        <span class="hljs-keyword">for</span> (symbol <span class="hljs-keyword">in</span> nonterminals) {
            firsts = [];
            nonterminals[symbol].productions.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">production</span>) </span>{
                <span class="hljs-built_in">Set</span>.union(firsts, production.first);
            });
            <span class="hljs-keyword">if</span> (firsts.length !== nonterminals[symbol].first.length) {
                nonterminals[symbol].first = firsts;
                cont=<span class="hljs-literal">true</span>;
            }
        }
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-490">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-490">&#182;</a>
              </div>
              <p>fixed-point calculation of NULLABLE</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>lookaheadMixin.nullableSets = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nullableSets</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> firsts = <span class="hljs-keyword">this</span>.firsts = {},
        nonterminals = <span class="hljs-keyword">this</span>.nonterminals,
        self = <span class="hljs-keyword">this</span>,
        cont = <span class="hljs-literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-491">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-491">&#182;</a>
              </div>
              <p>loop until no further changes have been made</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">while</span>(cont) {
        cont = <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-492">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-492">&#182;</a>
              </div>
              <p>check if each production is nullable</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">this</span>.productions.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">production, k</span>) </span>{
            <span class="hljs-keyword">if</span> (!production.nullable) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,n=<span class="hljs-number">0</span>,t;t=production.handle[i];++i) {
                    <span class="hljs-keyword">if</span> (self.nullable(t)) n++;
                }
                <span class="hljs-keyword">if</span> (n===i) { <span class="hljs-comment">// production is nullable if all tokens are nullable</span>
                    production.nullable = cont = <span class="hljs-literal">true</span>;
                }
            }
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-493">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-493">&#182;</a>
              </div>
              <p>check if each symbol is nullable</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> symbol <span class="hljs-keyword">in</span> nonterminals) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.nullable(symbol)) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,production;production=nonterminals[symbol].productions.item(i);i++) {
                    <span class="hljs-keyword">if</span> (production.nullable)
                        nonterminals[symbol].nullable = cont = <span class="hljs-literal">true</span>;
                }
            }
        }
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-494">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-494">&#182;</a>
              </div>
              <p>check if a token or series of tokens is nullable</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>lookaheadMixin.nullable = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nullable</span> (<span class="hljs-params">symbol</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-495">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-495">&#182;</a>
              </div>
              <p>epsilon</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (symbol === <span class="hljs-string">''</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-496">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-496">&#182;</a>
              </div>
              <p>RHS</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (symbol <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,t;t=symbol[i];++i) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.nullable(t))
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-497">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-497">&#182;</a>
              </div>
              <p>terminal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.nonterminals[symbol]) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-498">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-498">&#182;</a>
              </div>
              <p>nonterminal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.nonterminals[symbol].nullable;
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-499">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-499">&#182;</a>
              </div>
              <p>lookahead debug mixin</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> lookaheadDebug = {
    beforenullableSets: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.trace(<span class="hljs-string">"Computing Nullable sets."</span>);
    },
    beforefirstSets: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.trace(<span class="hljs-string">"Computing First sets."</span>);
    },
    beforefollowSets: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.trace(<span class="hljs-string">"Computing Follow sets."</span>);
    },
    afterfollowSets: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> trace = <span class="hljs-keyword">this</span>.trace;
        each(<span class="hljs-keyword">this</span>.nonterminals, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">nt, t</span>) </span>{
            trace(nt, <span class="hljs-string">'\n'</span>);
        });
    }
};

<span class="hljs-comment">/*
 * Mixin for common LR parser behavior
 * */</span>
<span class="hljs-keyword">var</span> lrGeneratorMixin = {};

lrGeneratorMixin.buildTable = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildTable</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.DEBUG) <span class="hljs-keyword">this</span>.mix(lrGeneratorDebug); <span class="hljs-comment">// mixin debug methods</span>

    <span class="hljs-keyword">this</span>.states = <span class="hljs-keyword">this</span>.canonicalCollection();
    <span class="hljs-keyword">this</span>.table = <span class="hljs-keyword">this</span>.parseTable(<span class="hljs-keyword">this</span>.states);
    <span class="hljs-keyword">this</span>.defaultActions = findDefaults(<span class="hljs-keyword">this</span>.table);
};

lrGeneratorMixin.Item = typal.construct({
    <span class="hljs-keyword">constructor</span>: function Item(production, dot, f, predecessor) {
        <span class="hljs-keyword">this</span>.production = production;
        <span class="hljs-keyword">this</span>.dotPosition = dot || <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.follows = f || [];
        <span class="hljs-keyword">this</span>.predecessor = predecessor;
        <span class="hljs-keyword">this</span>.id = <span class="hljs-built_in">parseInt</span>(production.id+<span class="hljs-string">'a'</span>+<span class="hljs-keyword">this</span>.dotPosition, <span class="hljs-number">36</span>);
        <span class="hljs-keyword">this</span>.markedSymbol = <span class="hljs-keyword">this</span>.production.handle[<span class="hljs-keyword">this</span>.dotPosition];
    },
    remainingHandle: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.production.handle.slice(<span class="hljs-keyword">this</span>.dotPosition+<span class="hljs-number">1</span>);
    },
    eq: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">return</span> e.id === <span class="hljs-keyword">this</span>.id;
    },
    handleToString: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> handle = <span class="hljs-keyword">this</span>.production.handle.slice(<span class="hljs-number">0</span>);
        handle[<span class="hljs-keyword">this</span>.dotPosition] = <span class="hljs-string">'.'</span>+(handle[<span class="hljs-keyword">this</span>.dotPosition]||<span class="hljs-string">''</span>);
        <span class="hljs-keyword">return</span> handle.join(<span class="hljs-string">' '</span>);
    },
    toString: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> temp = <span class="hljs-keyword">this</span>.production.handle.slice(<span class="hljs-number">0</span>);
        temp[<span class="hljs-keyword">this</span>.dotPosition] = <span class="hljs-string">'.'</span>+(temp[<span class="hljs-keyword">this</span>.dotPosition]||<span class="hljs-string">''</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.production.symbol+<span class="hljs-string">" -&gt; "</span>+temp.join(<span class="hljs-string">' '</span>) +
            (<span class="hljs-keyword">this</span>.follows.length === <span class="hljs-number">0</span> ? <span class="hljs-string">""</span> : <span class="hljs-string">" #lookaheads= "</span>+<span class="hljs-keyword">this</span>.follows.join(<span class="hljs-string">' '</span>));
    }
});

lrGeneratorMixin.ItemSet = <span class="hljs-built_in">Set</span>.prototype.construct({
    afterconstructor: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.reductions = [];
        <span class="hljs-keyword">this</span>.goes = {};
        <span class="hljs-keyword">this</span>.edges = {};
        <span class="hljs-keyword">this</span>.shifts = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.inadequate = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.hash_ = {};
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>._items.length<span class="hljs-number">-1</span>;i &gt;=<span class="hljs-number">0</span>;i--) {
            <span class="hljs-keyword">this</span>.hash_[<span class="hljs-keyword">this</span>._items[i].id] = <span class="hljs-literal">true</span>; <span class="hljs-comment">//i;</span>
        }
    },
    concat: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">concat</span> (<span class="hljs-params">set</span>) </span>{
        <span class="hljs-keyword">var</span> a = set._items || set;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=a.length<span class="hljs-number">-1</span>;i &gt;=<span class="hljs-number">0</span>;i--) {
            <span class="hljs-keyword">this</span>.hash_[a[i].id] = <span class="hljs-literal">true</span>; <span class="hljs-comment">//i;</span>
        }
        <span class="hljs-keyword">this</span>._items.push.apply(<span class="hljs-keyword">this</span>._items, a);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },
    push: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">this</span>.hash_[item.id] = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._items.push(item);
    },
    contains: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.hash_[item.id];
    },
    valueOf: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toValue</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> v = <span class="hljs-keyword">this</span>._items.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a</span>) </span>{<span class="hljs-keyword">return</span> a.id;}).sort().join(<span class="hljs-string">'|'</span>);
        <span class="hljs-keyword">this</span>.valueOf = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toValue_inner</span>(<span class="hljs-params"></span>) </span>{<span class="hljs-keyword">return</span> v;};
        <span class="hljs-keyword">return</span> v;
    }
});

lrGeneratorMixin.closureOperation = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closureOperation</span> (<span class="hljs-params">itemSet <span class="hljs-comment">/*, closureSet*/</span></span>) </span>{
    <span class="hljs-keyword">var</span> closureSet = <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>.ItemSet();
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;

    <span class="hljs-keyword">var</span> set = itemSet,
        itemQueue, syms = {};

    <span class="hljs-keyword">do</span> {
    itemQueue = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>();
    closureSet.concat(set);
    set.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">CO_set_forEach</span> (<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">var</span> symbol = item.markedSymbol;</pre></div></div>
            
        </li>
        
        
        <li id="section-500">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-500">&#182;</a>
              </div>
              <p>if token is a non-terminal, recursively add closures</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (symbol &amp;&amp; self.nonterminals[symbol]) {
            <span class="hljs-keyword">if</span>(!syms[symbol]) {
                self.nonterminals[symbol].productions.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">CO_nt_forEach</span> (<span class="hljs-params">production</span>) </span>{
                    <span class="hljs-keyword">var</span> newItem = <span class="hljs-keyword">new</span> self.Item(production, <span class="hljs-number">0</span>);
                    <span class="hljs-keyword">if</span>(!closureSet.contains(newItem))
                        itemQueue.push(newItem);
                });
                syms[symbol] = <span class="hljs-literal">true</span>;
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!symbol) {</pre></div></div>
            
        </li>
        
        
        <li id="section-501">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-501">&#182;</a>
              </div>
              <p>reduction</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            closureSet.reductions.push(item);
            closureSet.inadequate = closureSet.reductions.length &gt; <span class="hljs-number">1</span> || closureSet.shifts;
        } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-502">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-502">&#182;</a>
              </div>
              <p>shift</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            closureSet.shifts = <span class="hljs-literal">true</span>;
            closureSet.inadequate = closureSet.reductions.length &gt; <span class="hljs-number">0</span>;
        }
    });

    set = itemQueue;

    } <span class="hljs-keyword">while</span> (!itemQueue.isEmpty());

    <span class="hljs-keyword">return</span> closureSet;
};

lrGeneratorMixin.gotoOperation = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gotoOperation</span> (<span class="hljs-params">itemSet, symbol</span>) </span>{
    <span class="hljs-keyword">var</span> gotoSet = <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>.ItemSet(),
        self = <span class="hljs-keyword">this</span>;

    itemSet.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">goto_forEach</span>(<span class="hljs-params">item, n</span>) </span>{
        <span class="hljs-keyword">if</span> (item.markedSymbol === symbol) {
            gotoSet.push(<span class="hljs-keyword">new</span> self.Item(item.production, item.dotPosition+<span class="hljs-number">1</span>, item.follows, n));
        }
    });

    <span class="hljs-keyword">return</span> gotoSet.isEmpty() ? gotoSet : <span class="hljs-keyword">this</span>.closureOperation(gotoSet);
};

<span class="hljs-comment">/* Create unique set of item sets
 * */</span>
lrGeneratorMixin.canonicalCollection = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">canonicalCollection</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> item1 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>.Item(<span class="hljs-keyword">this</span>.productions[<span class="hljs-number">0</span>], <span class="hljs-number">0</span>, [<span class="hljs-keyword">this</span>.EOF]);
    <span class="hljs-keyword">var</span> firstState = <span class="hljs-keyword">this</span>.closureOperation(<span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>.ItemSet(item1)),
        states = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>(firstState),
        marked = <span class="hljs-number">0</span>,
        self = <span class="hljs-keyword">this</span>,
        itemSet;

    states.has = {};
    states.has[firstState] = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">while</span> (marked !== states.size()) {
        itemSet = states.item(marked); marked++;
        itemSet.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">CC_itemSet_forEach</span> (<span class="hljs-params">item</span>) </span>{
            <span class="hljs-keyword">if</span> (item.markedSymbol &amp;&amp; item.markedSymbol !== self.EOF)
                self.canonicalCollectionInsert(item.markedSymbol, itemSet, states, marked<span class="hljs-number">-1</span>);
        });
    }

    <span class="hljs-keyword">return</span> states;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-503">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-503">&#182;</a>
              </div>
              <p>Pushes a unique state into the que. Some parsing algorithms may perform additional operations</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>lrGeneratorMixin.canonicalCollectionInsert = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">canonicalCollectionInsert</span> (<span class="hljs-params">symbol, itemSet, states, stateNum</span>) </span>{
    <span class="hljs-keyword">var</span> g = <span class="hljs-keyword">this</span>.gotoOperation(itemSet, symbol);
    <span class="hljs-keyword">if</span> (!g.predecessors)
        g.predecessors = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-504">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-504">&#182;</a>
              </div>
              <p>add g to que if not empty or duplicate</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (!g.isEmpty()) {
        <span class="hljs-keyword">var</span> gv = g.valueOf(),
            i = states.has[gv];
        <span class="hljs-keyword">if</span> (i === <span class="hljs-number">-1</span> || <span class="hljs-keyword">typeof</span> i === <span class="hljs-string">'undefined'</span>) {
            states.has[gv] = states.size();
            itemSet.edges[symbol] = states.size(); <span class="hljs-comment">// store goto transition for table</span>
            states.push(g);
            g.predecessors[symbol] = [stateNum];
        } <span class="hljs-keyword">else</span> {
            itemSet.edges[symbol] = i; <span class="hljs-comment">// store goto transition for table</span>
            states.item(i).predecessors[symbol].push(stateNum);
        }
    }
};

<span class="hljs-keyword">var</span> NONASSOC = <span class="hljs-number">0</span>;
lrGeneratorMixin.parseTable = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseTable</span> (<span class="hljs-params">itemSets</span>) </span>{
    <span class="hljs-keyword">var</span> states = [],
        nonterminals = <span class="hljs-keyword">this</span>.nonterminals,
        operators = <span class="hljs-keyword">this</span>.operators,
        conflictedStates = {}, <span class="hljs-comment">// array of [state, token] tuples</span>
        self = <span class="hljs-keyword">this</span>,
        s = <span class="hljs-number">1</span>, <span class="hljs-comment">// shift</span>
        r = <span class="hljs-number">2</span>, <span class="hljs-comment">// reduce</span>
        a = <span class="hljs-number">3</span>; <span class="hljs-comment">// accept</span></pre></div></div>
            
        </li>
        
        
        <li id="section-505">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-505">&#182;</a>
              </div>
              <p>for each item set</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    itemSets.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">itemSet, k</span>) </span>{
        <span class="hljs-keyword">var</span> state = states[k] = {};
        <span class="hljs-keyword">var</span> action, stackSymbol;</pre></div></div>
            
        </li>
        
        
        <li id="section-506">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-506">&#182;</a>
              </div>
              <p>set shift and goto actions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">for</span> (stackSymbol <span class="hljs-keyword">in</span> itemSet.edges) {
            itemSet.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item, j</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-507">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-507">&#182;</a>
              </div>
              <p>find shift and goto actions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (item.markedSymbol == stackSymbol) {
                    <span class="hljs-keyword">var</span> gotoState = itemSet.edges[stackSymbol];
                    <span class="hljs-keyword">if</span> (nonterminals[stackSymbol]) {</pre></div></div>
            
        </li>
        
        
        <li id="section-508">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-508">&#182;</a>
              </div>
              <p>store state to go to after a reduce
self.trace(k, stackSymbol, ‘g’+gotoState);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                        state[self.symbols_[stackSymbol]] = gotoState;
                    } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-509">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-509">&#182;</a>
              </div>
              <p>self.trace(k, stackSymbol, ‘s’+gotoState);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                        state[self.symbols_[stackSymbol]] = [s,gotoState];
                    }
                }
            });
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-510">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-510">&#182;</a>
              </div>
              <p>set accept action</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        itemSet.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item, j</span>) </span>{
            <span class="hljs-keyword">if</span> (item.markedSymbol == self.EOF) {</pre></div></div>
            
        </li>
        
        
        <li id="section-511">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-511">&#182;</a>
              </div>
              <p>accept</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                state[self.symbols_[self.EOF]] = [a];</pre></div></div>
            
        </li>
        
        
        <li id="section-512">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-512">&#182;</a>
              </div>
              <p>self.trace(k, self.EOF, state[self.EOF]);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            }
        });

        <span class="hljs-keyword">var</span> allterms = self.lookAheads ? <span class="hljs-literal">false</span> : self.terminals;</pre></div></div>
            
        </li>
        
        
        <li id="section-513">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-513">&#182;</a>
              </div>
              <p>set reductions and resolve potential conflicts</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        itemSet.reductions.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item, j</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-514">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-514">&#182;</a>
              </div>
              <p>if parser uses lookahead, only enumerate those terminals</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">var</span> terminals = allterms || self.lookAheads(itemSet, item);

            terminals.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stackSymbol</span>) </span>{
                action = state[self.symbols_[stackSymbol]];
                <span class="hljs-keyword">var</span> op = operators[stackSymbol];</pre></div></div>
            
        </li>
        
        
        <li id="section-515">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-515">&#182;</a>
              </div>
              <p>Reading a terminal and current position is at the end of a production, try to reduce</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (action || action &amp;&amp; action.length) {
                    <span class="hljs-keyword">var</span> sol = resolveConflict(item.production, op, [r,item.production.id], action[<span class="hljs-number">0</span>] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> ? action[<span class="hljs-number">0</span>] : action);
                    self.resolutions.push([k,stackSymbol,sol]);
                    <span class="hljs-keyword">if</span> (sol.bydefault) {
                        self.conflicts++;
                        <span class="hljs-keyword">if</span> (!self.DEBUG) {
                            self.warn(<span class="hljs-string">'Conflict in grammar: multiple actions possible when lookahead token is '</span>,stackSymbol,<span class="hljs-string">' in state '</span>,k, <span class="hljs-string">"\n- "</span>, printAction(sol.r, self), <span class="hljs-string">"\n- "</span>, printAction(sol.s, self));
                            conflictedStates[k] = <span class="hljs-literal">true</span>;
                        }
                        <span class="hljs-keyword">if</span> (self.options.noDefaultResolve) {
                            <span class="hljs-keyword">if</span> (!(action[<span class="hljs-number">0</span>] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>))
                                action = [action];
                            action.push(sol.r);
                        }
                    } <span class="hljs-keyword">else</span> {
                        action = sol.action;
                    }
                } <span class="hljs-keyword">else</span> {
                    action = [r,item.production.id];
                }
                <span class="hljs-keyword">if</span> (action &amp;&amp; action.length) {
                    state[self.symbols_[stackSymbol]] = action;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (action === NONASSOC) {
                    state[self.symbols_[stackSymbol]] = <span class="hljs-literal">undefined</span>;
                }
            });
        });

    });

    <span class="hljs-keyword">if</span> (!self.DEBUG &amp;&amp; self.conflicts &gt; <span class="hljs-number">0</span>) {
        self.warn(<span class="hljs-string">"\nStates with conflicts:"</span>);
        each(conflictedStates, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val, state</span>) </span>{
            self.warn(<span class="hljs-string">'State '</span>+state);
            self.warn(<span class="hljs-string">'  '</span>,itemSets.item(state).join(<span class="hljs-string">"\n  "</span>));
        });
    }

    <span class="hljs-keyword">return</span> states;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-516">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-516">&#182;</a>
              </div>
              <p>find states with only one action, a reduction</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findDefaults</span> (<span class="hljs-params">states</span>) </span>{
    <span class="hljs-keyword">var</span> defaults = {};
    states.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">state, k</span>) </span>{
        <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> act <span class="hljs-keyword">in</span> state) {
             <span class="hljs-keyword">if</span> ({}.hasOwnProperty.call(state, act)) i++;
        }

        <span class="hljs-keyword">if</span> (i === <span class="hljs-number">1</span> &amp;&amp; state[act][<span class="hljs-number">0</span>] === <span class="hljs-number">2</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-517">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-517">&#182;</a>
              </div>
              <p>only one action in state and it’s a reduction</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            defaults[k] = state[act];
        }
    });

    <span class="hljs-keyword">return</span> defaults;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-518">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-518">&#182;</a>
              </div>
              <p>resolves shift-reduce and reduce-reduce conflicts</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resolveConflict</span> (<span class="hljs-params">production, op, reduce, shift</span>) </span>{
    <span class="hljs-keyword">var</span> sln = {production: production, operator: op, r: reduce, s: shift},
        s = <span class="hljs-number">1</span>, <span class="hljs-comment">// shift</span>
        r = <span class="hljs-number">2</span>, <span class="hljs-comment">// reduce</span>
        a = <span class="hljs-number">3</span>; <span class="hljs-comment">// accept</span>

    <span class="hljs-keyword">if</span> (shift[<span class="hljs-number">0</span>] === r) {
        sln.msg = <span class="hljs-string">"Resolve R/R conflict (use first production declared in grammar.)"</span>;
        sln.action = shift[<span class="hljs-number">1</span>] &lt; reduce[<span class="hljs-number">1</span>] ? shift : reduce;
        <span class="hljs-keyword">if</span> (shift[<span class="hljs-number">1</span>] !== reduce[<span class="hljs-number">1</span>]) sln.bydefault = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> sln;
    }

    <span class="hljs-keyword">if</span> (production.precedence === <span class="hljs-number">0</span> || !op) {
        sln.msg = <span class="hljs-string">"Resolve S/R conflict (shift by default.)"</span>;
        sln.bydefault = <span class="hljs-literal">true</span>;
        sln.action = shift;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (production.precedence &lt; op.precedence ) {
        sln.msg = <span class="hljs-string">"Resolve S/R conflict (shift for higher precedent operator.)"</span>;
        sln.action = shift;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (production.precedence === op.precedence) {
        <span class="hljs-keyword">if</span> (op.assoc === <span class="hljs-string">"right"</span> ) {
            sln.msg = <span class="hljs-string">"Resolve S/R conflict (shift for right associative operator.)"</span>;
            sln.action = shift;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op.assoc === <span class="hljs-string">"left"</span> ) {
            sln.msg = <span class="hljs-string">"Resolve S/R conflict (reduce for left associative operator.)"</span>;
            sln.action = reduce;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op.assoc === <span class="hljs-string">"nonassoc"</span> ) {
            sln.msg = <span class="hljs-string">"Resolve S/R conflict (no action for non-associative operator.)"</span>;
            sln.action = NONASSOC;
        }
    } <span class="hljs-keyword">else</span> {
        sln.msg = <span class="hljs-string">"Resolve conflict (reduce for higher precedent production.)"</span>;
        sln.action = reduce;
    }

    <span class="hljs-keyword">return</span> sln;
}

lrGeneratorMixin.generate = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parser_generate</span> (<span class="hljs-params">opt</span>) </span>{
    opt = typal.mix.call({}, <span class="hljs-keyword">this</span>.options, opt);
    <span class="hljs-keyword">var</span> code = <span class="hljs-string">""</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-519">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-519">&#182;</a>
              </div>
              <p>check for illegal identifier</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (!opt.moduleName || !opt.moduleName.match(<span class="hljs-regexp">/^[A-Za-z_$][A-Za-z0-9_$]*$/</span>)) {
        opt.moduleName = <span class="hljs-string">"parser"</span>;
    }
    <span class="hljs-keyword">switch</span> (opt.moduleType) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"js"</span>:
            code = <span class="hljs-keyword">this</span>.generateModule(opt);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"amd"</span>:
            code = <span class="hljs-keyword">this</span>.generateAMDModule(opt);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">default</span>:
            code = <span class="hljs-keyword">this</span>.generateCommonJSModule(opt);
            <span class="hljs-keyword">break</span>;
    }

    <span class="hljs-keyword">return</span> code;
};

lrGeneratorMixin.generateAMDModule = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateAMDModule</span>(<span class="hljs-params">opt</span>)</span>{
    opt = typal.mix.call({}, <span class="hljs-keyword">this</span>.options, opt);
    <span class="hljs-keyword">var</span> <span class="hljs-built_in">module</span> = <span class="hljs-keyword">this</span>.generateModule_();
    <span class="hljs-keyword">var</span> out = <span class="hljs-string">'\n\ndefine(function(require){\n'</span>
        + <span class="hljs-built_in">module</span>.commonCode
        + <span class="hljs-string">'\nvar parser = '</span>+ <span class="hljs-built_in">module</span>.moduleCode
        + <span class="hljs-string">"\n"</span>+<span class="hljs-keyword">this</span>.moduleInclude
        + (<span class="hljs-keyword">this</span>.lexer &amp;&amp; <span class="hljs-keyword">this</span>.lexer.generateModule ?
          <span class="hljs-string">'\n'</span> + <span class="hljs-keyword">this</span>.lexer.generateModule() +
          <span class="hljs-string">'\nparser.lexer = lexer;'</span> : <span class="hljs-string">''</span>)
        + <span class="hljs-string">'\nreturn parser;'</span>
        + <span class="hljs-string">'\n});'</span>
    <span class="hljs-keyword">return</span> out;
};

lrGeneratorMixin.generateCommonJSModule = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateCommonJSModule</span> (<span class="hljs-params">opt</span>) </span>{
    opt = typal.mix.call({}, <span class="hljs-keyword">this</span>.options, opt);
    <span class="hljs-keyword">var</span> moduleName = opt.moduleName || <span class="hljs-string">"parser"</span>;
    <span class="hljs-keyword">var</span> out = <span class="hljs-keyword">this</span>.generateModule(opt)
        + <span class="hljs-string">"\n\n\nif (typeof require !== 'undefined' &amp;&amp; typeof exports !== 'undefined') {"</span>
        + <span class="hljs-string">"\nexports.parser = "</span>+moduleName+<span class="hljs-string">";"</span>
        + <span class="hljs-string">"\nexports.Parser = "</span>+moduleName+<span class="hljs-string">".Parser;"</span>
        + <span class="hljs-string">"\nexports.parse = function () { return "</span>+moduleName+<span class="hljs-string">".parse.apply("</span>+moduleName+<span class="hljs-string">", arguments); };"</span>
        + <span class="hljs-string">"\nexports.main = "</span>+ <span class="hljs-built_in">String</span>(opt.moduleMain || commonjsMain) + <span class="hljs-string">";"</span>
        + <span class="hljs-string">"\nif (typeof module !== 'undefined' &amp;&amp; require.main === module) {\n"</span>
        + <span class="hljs-string">"  exports.main(process.argv.slice(1));\n}"</span>
        + <span class="hljs-string">"\n}"</span>;

    <span class="hljs-keyword">return</span> out;
};

lrGeneratorMixin.generateModule = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateModule</span> (<span class="hljs-params">opt</span>) </span>{
    opt = typal.mix.call({}, <span class="hljs-keyword">this</span>.options, opt);
    <span class="hljs-keyword">var</span> moduleName = opt.moduleName || <span class="hljs-string">"parser"</span>;
    <span class="hljs-keyword">var</span> out = <span class="hljs-string">"/* parser generated by jison "</span> + version + <span class="hljs-string">" */\n"</span>
        + <span class="hljs-string">"/*\n"</span>
        + <span class="hljs-string">"  Returns a Parser object of the following structure:\n"</span>
        + <span class="hljs-string">"\n"</span>
        + <span class="hljs-string">"  Parser: {\n"</span>
        + <span class="hljs-string">"    yy: {}\n"</span>
        + <span class="hljs-string">"  }\n"</span>
        + <span class="hljs-string">"\n"</span>
        + <span class="hljs-string">"  Parser.prototype: {\n"</span>
        + <span class="hljs-string">"    yy: {},\n"</span>
        + <span class="hljs-string">"    trace: function(),\n"</span>
        + <span class="hljs-string">"    symbols_: {associative list: name ==&gt; number},\n"</span>
        + <span class="hljs-string">"    terminals_: {associative list: number ==&gt; name},\n"</span>
        + <span class="hljs-string">"    productions_: [...],\n"</span>
        + <span class="hljs-string">"    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n"</span>
        + <span class="hljs-string">"    table: [...],\n"</span>
        + <span class="hljs-string">"    defaultActions: {...},\n"</span>
        + <span class="hljs-string">"    parseError: function(str, hash),\n"</span>
        + <span class="hljs-string">"    parse: function(input),\n"</span>
        + <span class="hljs-string">"\n"</span>
        + <span class="hljs-string">"    lexer: {\n"</span>
        + <span class="hljs-string">"        EOF: 1,\n"</span>
        + <span class="hljs-string">"        parseError: function(str, hash),\n"</span>
        + <span class="hljs-string">"        setInput: function(input),\n"</span>
        + <span class="hljs-string">"        input: function(),\n"</span>
        + <span class="hljs-string">"        unput: function(str),\n"</span>
        + <span class="hljs-string">"        more: function(),\n"</span>
        + <span class="hljs-string">"        less: function(n),\n"</span>
        + <span class="hljs-string">"        pastInput: function(),\n"</span>
        + <span class="hljs-string">"        upcomingInput: function(),\n"</span>
        + <span class="hljs-string">"        showPosition: function(),\n"</span>
        + <span class="hljs-string">"        test_match: function(regex_match_array, rule_index),\n"</span>
        + <span class="hljs-string">"        next: function(),\n"</span>
        + <span class="hljs-string">"        lex: function(),\n"</span>
        + <span class="hljs-string">"        begin: function(condition),\n"</span>
        + <span class="hljs-string">"        popState: function(),\n"</span>
        + <span class="hljs-string">"        _currentRules: function(),\n"</span>
        + <span class="hljs-string">"        topState: function(),\n"</span>
        + <span class="hljs-string">"        pushState: function(condition),\n"</span>
        + <span class="hljs-string">"\n"</span>
        + <span class="hljs-string">"        options: {\n"</span>
        + <span class="hljs-string">"            ranges: boolean           (optional: true ==&gt; token location info will include a .range[] member)\n"</span>
        + <span class="hljs-string">"            flex: boolean             (optional: true ==&gt; flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n"</span>
        + <span class="hljs-string">"            backtrack_lexer: boolean  (optional: true ==&gt; lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n"</span>
        + <span class="hljs-string">"        },\n"</span>
        + <span class="hljs-string">"\n"</span>
        + <span class="hljs-string">"        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n"</span>
        + <span class="hljs-string">"        rules: [...],\n"</span>
        + <span class="hljs-string">"        conditions: {associative list: name ==&gt; set},\n"</span>
        + <span class="hljs-string">"    }\n"</span>
        + <span class="hljs-string">"  }\n"</span>
        + <span class="hljs-string">"\n"</span>
        + <span class="hljs-string">"\n"</span>
        + <span class="hljs-string">"  token location info (@$, _$, etc.): {\n"</span>
        + <span class="hljs-string">"    first_line: n,\n"</span>
        + <span class="hljs-string">"    last_line: n,\n"</span>
        + <span class="hljs-string">"    first_column: n,\n"</span>
        + <span class="hljs-string">"    last_column: n,\n"</span>
        + <span class="hljs-string">"    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n"</span>
        + <span class="hljs-string">"  }\n"</span>
        + <span class="hljs-string">"\n"</span>
        + <span class="hljs-string">"\n"</span>
        + <span class="hljs-string">"  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n"</span>
        + <span class="hljs-string">"    text:        (matched text)\n"</span>
        + <span class="hljs-string">"    token:       (the produced terminal token, if any)\n"</span>
        + <span class="hljs-string">"    line:        (yylineno)\n"</span>
        + <span class="hljs-string">"  }\n"</span>
        + <span class="hljs-string">"  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n"</span>
        + <span class="hljs-string">"    loc:         (yylloc)\n"</span>
        + <span class="hljs-string">"    expected:    (string describing the set of expected tokens)\n"</span>
        + <span class="hljs-string">"    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n"</span>
        + <span class="hljs-string">"  }\n"</span>
        + <span class="hljs-string">"*/\n"</span>;
    out += (moduleName.match(<span class="hljs-regexp">/\./</span>) ? moduleName : <span class="hljs-string">"var "</span>+moduleName) +
            <span class="hljs-string">" = "</span> + <span class="hljs-keyword">this</span>.generateModuleExpr();

    <span class="hljs-keyword">return</span> out;
};


lrGeneratorMixin.generateModuleExpr = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateModuleExpr</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> out = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> <span class="hljs-built_in">module</span> = <span class="hljs-keyword">this</span>.generateModule_();

    out += <span class="hljs-string">"(function(){\n"</span>;
    out += <span class="hljs-built_in">module</span>.commonCode;
    out += <span class="hljs-string">"\nvar parser = "</span>+<span class="hljs-built_in">module</span>.moduleCode;
    out += <span class="hljs-string">"\n"</span>+<span class="hljs-keyword">this</span>.moduleInclude;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.lexer &amp;&amp; <span class="hljs-keyword">this</span>.lexer.generateModule) {
        out += <span class="hljs-keyword">this</span>.lexer.generateModule();
        out += <span class="hljs-string">"\nparser.lexer = lexer;"</span>;
    }
    out += <span class="hljs-string">"\nfunction Parser () {\n  this.yy = {};\n}\n"</span>
        + <span class="hljs-string">"Parser.prototype = parser;"</span>
        + <span class="hljs-string">"parser.Parser = Parser;"</span>
        + <span class="hljs-string">"\nreturn new Parser;\n})();"</span>;

    <span class="hljs-keyword">return</span> out;
};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addTokenStack</span> (<span class="hljs-params">fn</span>) </span>{
    <span class="hljs-keyword">var</span> parseFn = fn;
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">var</span> ast = esprima.parse(parseFn);
        <span class="hljs-keyword">var</span> stackAst = esprima.parse(<span class="hljs-built_in">String</span>(tokenStackLex)).body[<span class="hljs-number">0</span>];
        stackAst.id.name = <span class="hljs-string">'lex'</span>;

        <span class="hljs-keyword">var</span> labeled = JSONSelect.match(<span class="hljs-string">':has(:root &gt; .label &gt; .name:val("_token_stack"))'</span>, ast);

        labeled[<span class="hljs-number">0</span>].body = stackAst;

        <span class="hljs-keyword">return</span> escodegen.generate(ast).replace(<span class="hljs-regexp">/_token_stack:\s?/</span>,<span class="hljs-string">""</span>).replace(<span class="hljs-regexp">/\\\\n/g</span>,<span class="hljs-string">"\\n"</span>);
    } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-keyword">return</span> parseFn;
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-520">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-520">&#182;</a>
              </div>
              <p>lex function that supports token stacks</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tokenStackLex</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> token;
    token = tstack.pop() || lexer.lex() || EOF;</pre></div></div>
            
        </li>
        
        
        <li id="section-521">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-521">&#182;</a>
              </div>
              <p>if token isn’t its numeric value, convert</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> token !== <span class="hljs-string">'number'</span>) {
        <span class="hljs-keyword">if</span> (token <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>) {
            tstack = token;
            token = tstack.pop();
        }
        token = self.symbols_[token] || token;
    }
    <span class="hljs-keyword">return</span> token;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-522">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-522">&#182;</a>
              </div>
              <p>returns parse function without error recovery code</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeErrorRecovery</span> (<span class="hljs-params">fn</span>) </span>{
    <span class="hljs-keyword">var</span> parseFn = fn;
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">var</span> ast = esprima.parse(parseFn);

        <span class="hljs-keyword">var</span> labeled = JSONSelect.match(<span class="hljs-string">':has(:root &gt; .label &gt; .name:val("_handle_error"))'</span>, ast);
        <span class="hljs-keyword">var</span> reduced_code = labeled[<span class="hljs-number">0</span>].body.consequent.body[<span class="hljs-number">3</span>].consequent.body;
        reduced_code[<span class="hljs-number">0</span>] = labeled[<span class="hljs-number">0</span>].body.consequent.body[<span class="hljs-number">1</span>];     <span class="hljs-comment">// remove the line: error_rule_depth = locateNearestErrorRecoveryRule(state);</span>
        reduced_code[<span class="hljs-number">4</span>].expression.arguments[<span class="hljs-number">1</span>].properties.pop(); <span class="hljs-comment">// remove the line: 'recoverable: error_rule_depth !== false'</span>
        labeled[<span class="hljs-number">0</span>].body.consequent.body = reduced_code;

        <span class="hljs-keyword">return</span> escodegen.generate(ast).replace(<span class="hljs-regexp">/_handle_error:\s?/</span>,<span class="hljs-string">""</span>).replace(<span class="hljs-regexp">/\\\\n/g</span>,<span class="hljs-string">"\\n"</span>);
    } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-keyword">return</span> parseFn;
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-523">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-523">&#182;</a>
              </div>
              <p>Generates the code of the parser module, which consists of two parts:</p>
<ul>
<li>module.commonCode: initialization code that should be placed before the module</li>
<li>module.moduleCode: code that creates the module object</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>lrGeneratorMixin.generateModule_ = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateModule_</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> parseFn = <span class="hljs-built_in">String</span>(parser.parse);
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.hasErrorRecovery) {
      parseFn = removeErrorRecovery(parseFn);
    }

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options[<span class="hljs-string">'token-stack'</span>]) {
      parseFn = addTokenStack(parseFn);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-524">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-524">&#182;</a>
              </div>
              <p>Generate code with fresh variable names</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    nextVariableId = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> tableCode = <span class="hljs-keyword">this</span>.generateTableCode(<span class="hljs-keyword">this</span>.table);</pre></div></div>
            
        </li>
        
        
        <li id="section-525">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-525">&#182;</a>
              </div>
              <p>Generate the initialization code</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> commonCode = tableCode.commonCode;</pre></div></div>
            
        </li>
        
        
        <li id="section-526">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-526">&#182;</a>
              </div>
              <p>Generate the module creation code</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> moduleCode = <span class="hljs-string">"{"</span>;
    moduleCode += [
        <span class="hljs-string">"trace: "</span> + <span class="hljs-built_in">String</span>(<span class="hljs-keyword">this</span>.trace || parser.trace),
        <span class="hljs-string">"yy: {}"</span>,
        <span class="hljs-string">"symbols_: "</span> + <span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>.symbols_),
        <span class="hljs-string">"terminals_: "</span> + <span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>.terminals_).replace(<span class="hljs-regexp">/"([0-9]+)":/g</span>,<span class="hljs-string">"$1:"</span>),
        <span class="hljs-string">"productions_: "</span> + <span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>.productions_),
        <span class="hljs-string">"performAction: "</span> + <span class="hljs-built_in">String</span>(<span class="hljs-keyword">this</span>.performAction),
        <span class="hljs-string">"table: "</span> + tableCode.moduleCode,
        <span class="hljs-string">"defaultActions: "</span> + <span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>.defaultActions).replace(<span class="hljs-regexp">/"([0-9]+)":/g</span>,<span class="hljs-string">"$1:"</span>),
        <span class="hljs-string">"parseError: "</span> + <span class="hljs-built_in">String</span>(<span class="hljs-keyword">this</span>.parseError || (<span class="hljs-keyword">this</span>.hasErrorRecovery ? traceParseError : parser.parseError)),
        <span class="hljs-string">"parse: "</span> + parseFn
        ].join(<span class="hljs-string">",\n"</span>);
    moduleCode += <span class="hljs-string">"};"</span>;

    <span class="hljs-keyword">return</span> { commonCode: commonCode, moduleCode: moduleCode }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-527">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-527">&#182;</a>
              </div>
              <p>Generate code that represents the specified parser table</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>lrGeneratorMixin.generateTableCode = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">table</span>) </span>{
    <span class="hljs-keyword">var</span> moduleCode = <span class="hljs-built_in">JSON</span>.stringify(table);
    <span class="hljs-keyword">var</span> variables = [createObjectCode];</pre></div></div>
            
        </li>
        
        
        <li id="section-528">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-528">&#182;</a>
              </div>
              <p>Don’t surround numerical property name numbers in quotes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    moduleCode = moduleCode.replace(<span class="hljs-regexp">/"([0-9]+)"(?=:)/g</span>, <span class="hljs-string">"$1"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-529">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-529">&#182;</a>
              </div>
              <p>Replace objects with several identical values by function calls
e.g., { 1: [6, 7]; 3: [6, 7], 4: [6, 7], 5: 8 } = o([1, 3, 4], [6, 7], { 5: 8 })</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    moduleCode = moduleCode.replace(<span class="hljs-regexp">/\{\d+:[^\}]+,\d+:[^\}]+\}/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">object</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-530">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-530">&#182;</a>
              </div>
              <p>Find the value that occurs with the highest number of keys</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">var</span> value, frequentValue, key, keys = {}, keyCount, maxKeyCount = <span class="hljs-number">0</span>,
            keyValue, keyValues = [], keyValueMatcher = <span class="hljs-regexp">/(\d+):([^:]+)(?=,\d+:|\})/g</span>;

        <span class="hljs-keyword">while</span> ((keyValue = keyValueMatcher.exec(object))) {</pre></div></div>
            
        </li>
        
        
        <li id="section-531">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-531">&#182;</a>
              </div>
              <p>For each value, store the keys where that value occurs</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            key = keyValue[<span class="hljs-number">1</span>];
            value = keyValue[<span class="hljs-number">2</span>];
            keyCount = <span class="hljs-number">1</span>;

            <span class="hljs-keyword">if</span> (!(value <span class="hljs-keyword">in</span> keys)) {
                keys[value] = [key];
            } <span class="hljs-keyword">else</span> {
                keyCount = keys[value].push(key);
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-532">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-532">&#182;</a>
              </div>
              <p>Remember this value if it is the most frequent one</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (keyCount &gt; maxKeyCount) {
                maxKeyCount = keyCount;
                frequentValue = value;
            }
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-533">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-533">&#182;</a>
              </div>
              <p>Construct the object with a function call if the most frequent value occurs multiple times</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (maxKeyCount &gt; <span class="hljs-number">1</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-534">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-534">&#182;</a>
              </div>
              <p>Collect all non-frequent values into a remainder object</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">for</span> (value <span class="hljs-keyword">in</span> keys) {
                <span class="hljs-keyword">if</span> (value !== frequentValue) {
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k = keys[value], i = <span class="hljs-number">0</span>, l = k.length; i &lt; l; i++) {
                        keyValues.push(k[i] + <span class="hljs-string">':'</span> + value);
                    }
                }
            }
            keyValues = keyValues.length ? <span class="hljs-string">',{'</span> + keyValues.join(<span class="hljs-string">','</span>) + <span class="hljs-string">'}'</span> : <span class="hljs-string">''</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-535">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-535">&#182;</a>
              </div>
              <p>Create the function call <code>o(keys, value, remainder)</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            object = <span class="hljs-string">'o(['</span> + keys[frequentValue].join(<span class="hljs-string">','</span>) + <span class="hljs-string">'],'</span> + frequentValue + keyValues + <span class="hljs-string">')'</span>;
        }
        <span class="hljs-keyword">return</span> object;
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-536">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-536">&#182;</a>
              </div>
              <p>Count occurrences of number lists</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> list;
    <span class="hljs-keyword">var</span> lists = {};
    <span class="hljs-keyword">var</span> listMatcher = <span class="hljs-regexp">/\[[0-9,]+\]/g</span>;

    <span class="hljs-keyword">while</span> (list = listMatcher.exec(moduleCode)) {
        lists[list] = (lists[list] || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-537">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-537">&#182;</a>
              </div>
              <p>Replace frequently occurring number lists with variables</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    moduleCode = moduleCode.replace(listMatcher, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">list</span>) </span>{
        <span class="hljs-keyword">var</span> listId = lists[list];</pre></div></div>
            
        </li>
        
        
        <li id="section-538">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-538">&#182;</a>
              </div>
              <p>If listId is a number, it represents the list’s occurrence frequency</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> listId === <span class="hljs-string">'number'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-539">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-539">&#182;</a>
              </div>
              <p>If the list does not occur frequently, represent it by the list</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (listId === <span class="hljs-number">1</span>) {
                lists[list] = listId = list;</pre></div></div>
            
        </li>
        
        
        <li id="section-540">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-540">&#182;</a>
              </div>
              <p>If the list occurs frequently, represent it by a newly assigned variable</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            } <span class="hljs-keyword">else</span> {
                lists[list] = listId = createVariable();
                variables.push(listId + <span class="hljs-string">'='</span> + list);
            }
        }
        <span class="hljs-keyword">return</span> listId;
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-541">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-541">&#182;</a>
              </div>
              <p>Return the variable initialization code and the table code</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">return</span> {
        commonCode: <span class="hljs-string">'var '</span> + variables.join(<span class="hljs-string">','</span>) + <span class="hljs-string">';'</span>,
        moduleCode: moduleCode
    };
};</pre></div></div>
            
        </li>
        
        
        <li id="section-542">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-542">&#182;</a>
              </div>
              <p>Function that extends an object with the given value for all given keys
e.g., o([1, 3, 4], [6, 7], { x: 1, y: 2 }) = { 1: [6, 7]; 3: [6, 7], 4: [6, 7], x: 1, y: 2 }</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> createObjectCode = <span class="hljs-string">'o=function(k,v,o,l){'</span> +
    <span class="hljs-string">'for(o=o||{},l=k.length;l--;o[k[l]]=v);'</span> +
    <span class="hljs-string">'return o}'</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-543">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-543">&#182;</a>
              </div>
              <p>Creates a variable with a unique name</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createVariable</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> id = nextVariableId++;
    <span class="hljs-keyword">var</span> name = <span class="hljs-string">'$V'</span>;

    <span class="hljs-keyword">do</span> {
        name += variableTokens[id % variableTokensLength];
        id = ~~(id / variableTokensLength);
    } <span class="hljs-keyword">while</span> (id !== <span class="hljs-number">0</span>);

    <span class="hljs-keyword">return</span> name;
}

<span class="hljs-keyword">var</span> nextVariableId = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> variableTokens = <span class="hljs-string">'0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$'</span>;
<span class="hljs-keyword">var</span> variableTokensLength = variableTokens.length;</pre></div></div>
            
        </li>
        
        
        <li id="section-544">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-544">&#182;</a>
              </div>
              <p>default main method for generated commonjs modules</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">commonjsMain</span> (<span class="hljs-params">args</span>) </span>{
    <span class="hljs-keyword">if</span> (!args[<span class="hljs-number">1</span>]) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Usage: '</span>+args[<span class="hljs-number">0</span>]+<span class="hljs-string">' FILE'</span>);
        process.exit(<span class="hljs-number">1</span>);
    }
    <span class="hljs-keyword">var</span> source = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>).readFileSync(<span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>).normalize(args[<span class="hljs-number">1</span>]), <span class="hljs-string">"utf8"</span>);
    <span class="hljs-keyword">return</span> exports.parser.parse(source);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-545">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-545">&#182;</a>
              </div>
              <p>debug mixin for LR parser generators</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">printAction</span> (<span class="hljs-params">a, gen</span>) </span>{
    <span class="hljs-keyword">var</span> s = a[<span class="hljs-number">0</span>] == <span class="hljs-number">1</span> ? <span class="hljs-string">'shift token (then go to state '</span>+a[<span class="hljs-number">1</span>]+<span class="hljs-string">')'</span> :
        a[<span class="hljs-number">0</span>] == <span class="hljs-number">2</span> ? <span class="hljs-string">'reduce by rule: '</span>+gen.productions[a[<span class="hljs-number">1</span>]] :
                    <span class="hljs-string">'accept'</span> ;

    <span class="hljs-keyword">return</span> s;
}

<span class="hljs-keyword">var</span> lrGeneratorDebug = {
    beforeparseTable: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.trace(<span class="hljs-string">"Building parse table."</span>);
    },
    afterparseTable: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.conflicts &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>.resolutions.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">r, i</span>) </span>{
                <span class="hljs-keyword">if</span> (r[<span class="hljs-number">2</span>].bydefault) {
                    self.warn(<span class="hljs-string">'Conflict at state: '</span>,r[<span class="hljs-number">0</span>], <span class="hljs-string">', token: '</span>,r[<span class="hljs-number">1</span>], <span class="hljs-string">"\n  "</span>, printAction(r[<span class="hljs-number">2</span>].r, self), <span class="hljs-string">"\n  "</span>, printAction(r[<span class="hljs-number">2</span>].s, self));
                }
            });
            <span class="hljs-keyword">this</span>.trace(<span class="hljs-string">"\n"</span>+<span class="hljs-keyword">this</span>.conflicts+<span class="hljs-string">" Conflict(s) found in grammar."</span>);
        }
        <span class="hljs-keyword">this</span>.trace(<span class="hljs-string">"Done."</span>);
    },
    aftercanonicalCollection: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">states</span>) </span>{
        <span class="hljs-keyword">var</span> trace = <span class="hljs-keyword">this</span>.trace;
        trace(<span class="hljs-string">"\nItem sets\n------"</span>);

        states.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">state, i</span>) </span>{
            trace(<span class="hljs-string">"\nitem set"</span>,i,<span class="hljs-string">"\n"</span>+state.join(<span class="hljs-string">"\n"</span>), <span class="hljs-string">'\ntransitions -&gt; '</span>, <span class="hljs-built_in">JSON</span>.stringify(state.edges));
        });
    }
};

<span class="hljs-keyword">var</span> parser = typal.beget();

lrGeneratorMixin.createParser = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createParser</span> (<span class="hljs-params"></span>) </span>{

    <span class="hljs-keyword">var</span> p = <span class="hljs-built_in">eval</span>(<span class="hljs-keyword">this</span>.generateModuleExpr());</pre></div></div>
            
        </li>
        
        
        <li id="section-546">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-546">&#182;</a>
              </div>
              <p>for debugging</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    p.productions = <span class="hljs-keyword">this</span>.productions;

    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bind</span>(<span class="hljs-params">method</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            self.lexer = p.lexer;
            <span class="hljs-keyword">return</span> self[method].apply(self, <span class="hljs-built_in">arguments</span>);
        };
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-547">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-547">&#182;</a>
              </div>
              <p>backwards compatability</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    p.lexer = <span class="hljs-keyword">this</span>.lexer;
    p.generate = bind(<span class="hljs-string">'generate'</span>);
    p.generateAMDModule = bind(<span class="hljs-string">'generateAMDModule'</span>);
    p.generateModule = bind(<span class="hljs-string">'generateModule'</span>);
    p.generateCommonJSModule = bind(<span class="hljs-string">'generateCommonJSModule'</span>);

    <span class="hljs-keyword">return</span> p;
};

parser.trace = generator.trace;
parser.warn = generator.warn;
parser.error = generator.error;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">traceParseError</span> (<span class="hljs-params">err, hash</span>) </span>{
    <span class="hljs-keyword">this</span>.trace(err);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseError</span> (<span class="hljs-params">str, hash</span>) </span>{
    <span class="hljs-keyword">if</span> (hash.recoverable) {
        <span class="hljs-keyword">this</span>.trace(str);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_parseError</span> (<span class="hljs-params">msg, hash</span>) </span>{
            <span class="hljs-keyword">this</span>.message = msg;
            <span class="hljs-keyword">this</span>.hash = hash;
        }
        _parseError.prototype = <span class="hljs-built_in">Error</span>;

        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> _parseError(str, hash);
    }
}

parser.parseError = lrGeneratorMixin.parseError = parseError;

parser.parse = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span> (<span class="hljs-params">input</span>) </span>{
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>,
        stack = [<span class="hljs-number">0</span>],
        tstack = [], <span class="hljs-comment">// token stack</span>
        vstack = [<span class="hljs-literal">null</span>], <span class="hljs-comment">// semantic value stack</span>
        lstack = [], <span class="hljs-comment">// location stack</span>
        table = <span class="hljs-keyword">this</span>.table,
        yytext = <span class="hljs-string">''</span>,
        yylineno = <span class="hljs-number">0</span>,
        yyleng = <span class="hljs-number">0</span>,
        recovering = <span class="hljs-number">0</span>,
        TERROR = <span class="hljs-number">2</span>,
        EOF = <span class="hljs-number">1</span>;

    <span class="hljs-keyword">var</span> args = lstack.slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-548">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-548">&#182;</a>
              </div>
              <p>this.reductionCount = this.shiftCount = 0;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-keyword">var</span> lexer = <span class="hljs-built_in">Object</span>.create(<span class="hljs-keyword">this</span>.lexer);
    <span class="hljs-keyword">var</span> sharedState = { yy: {} };</pre></div></div>
            
        </li>
        
        
        <li id="section-549">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-549">&#182;</a>
              </div>
              <p>copy state</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.yy) {
      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(<span class="hljs-keyword">this</span>.yy, k)) {
        sharedState.yy[k] = <span class="hljs-keyword">this</span>.yy[k];
      }
    }

    lexer.setInput(input, sharedState.yy);
    sharedState.yy.lexer = lexer;
    sharedState.yy.parser = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> lexer.yylloc == <span class="hljs-string">'undefined'</span>) {
        lexer.yylloc = {};
    }
    <span class="hljs-keyword">var</span> yyloc = lexer.yylloc;
    lstack.push(yyloc);

    <span class="hljs-keyword">var</span> ranges = lexer.options &amp;&amp; lexer.options.ranges;

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> sharedState.yy.parseError === <span class="hljs-string">'function'</span>) {
        <span class="hljs-keyword">this</span>.parseError = sharedState.yy.parseError;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.parseError = <span class="hljs-built_in">Object</span>.getPrototypeOf(<span class="hljs-keyword">this</span>).parseError;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popStack</span> (<span class="hljs-params">n</span>) </span>{
        stack.length = stack.length - <span class="hljs-number">2</span> * n;
        vstack.length = vstack.length - n;
        lstack.length = lstack.length - n;
    }

_token_stack:
    <span class="hljs-keyword">var</span> lex = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> token;
        token = lexer.lex() || EOF;</pre></div></div>
            
        </li>
        
        
        <li id="section-550">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-550">&#182;</a>
              </div>
              <p>if token isn’t its numeric value, convert</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> token !== <span class="hljs-string">'number'</span>) {
            token = self.symbols_[token] || token;
        }
        <span class="hljs-keyword">return</span> token;
    }

    <span class="hljs-keyword">var</span> symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-551">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-551">&#182;</a>
              </div>
              <p>retreive state number from top of stack</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        state = stack[stack.length - <span class="hljs-number">1</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-552">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-552">&#182;</a>
              </div>
              <p>use default actions if available</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.defaultActions[state]) {
            action = <span class="hljs-keyword">this</span>.defaultActions[state];
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (symbol === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> symbol == <span class="hljs-string">'undefined'</span>) {
                symbol = lex();
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-553">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-553">&#182;</a>
              </div>
              <p>read action for current state and first input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            action = table[state] &amp;&amp; table[state][symbol];
        }

_handle_error:</pre></div></div>
            
        </li>
        
        
        <li id="section-554">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-554">&#182;</a>
              </div>
              <p>handle parse error</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> action === <span class="hljs-string">'undefined'</span> || !action.length || !action[<span class="hljs-number">0</span>]) {
            <span class="hljs-keyword">var</span> error_rule_depth;
            <span class="hljs-keyword">var</span> errStr = <span class="hljs-string">''</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-555">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-555">&#182;</a>
              </div>
              <p>Return the rule stack depth where the nearest error rule can be found.
Return FALSE when no error recovery rule was found.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">locateNearestErrorRecoveryRule</span>(<span class="hljs-params">state</span>) </span>{
                <span class="hljs-keyword">var</span> stack_probe = stack.length - <span class="hljs-number">1</span>;
                <span class="hljs-keyword">var</span> depth = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-556">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-556">&#182;</a>
              </div>
              <p>try to recover from error</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">for</span>(;;) {</pre></div></div>
            
        </li>
        
        
        <li id="section-557">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-557">&#182;</a>
              </div>
              <p>check for error recovery rule in this state</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    <span class="hljs-keyword">if</span> ((TERROR.toString()) <span class="hljs-keyword">in</span> table[state]) {
                        <span class="hljs-keyword">return</span> depth;
                    }
                    <span class="hljs-keyword">if</span> (state === <span class="hljs-number">0</span> || stack_probe &lt; <span class="hljs-number">2</span>) {
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// No suitable error recovery rule available.</span>
                    }
                    stack_probe -= <span class="hljs-number">2</span>; <span class="hljs-comment">// popStack(1): [symbol, action]</span>
                    state = stack[stack_probe];
                    ++depth;
                }
            }

            <span class="hljs-keyword">if</span> (!recovering) {</pre></div></div>
            
        </li>
        
        
        <li id="section-558">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-558">&#182;</a>
              </div>
              <p>first see if there’s any chance at hitting an error recovery rule:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                error_rule_depth = locateNearestErrorRecoveryRule(state);</pre></div></div>
            
        </li>
        
        
        <li id="section-559">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-559">&#182;</a>
              </div>
              <p>Report error</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                expected = [];
                <span class="hljs-keyword">for</span> (p <span class="hljs-keyword">in</span> table[state]) {
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.terminals_[p] &amp;&amp; p &gt; TERROR) {
                        expected.push(<span class="hljs-string">"'"</span>+<span class="hljs-keyword">this</span>.terminals_[p]+<span class="hljs-string">"'"</span>);
                    }
                }
                <span class="hljs-keyword">if</span> (lexer.showPosition) {
                    errStr = <span class="hljs-string">'Parse error on line '</span>+(yylineno+<span class="hljs-number">1</span>)+<span class="hljs-string">":\n"</span>+lexer.showPosition()+<span class="hljs-string">"\nExpecting "</span>+expected.join(<span class="hljs-string">', '</span>) + <span class="hljs-string">", got '"</span> + (<span class="hljs-keyword">this</span>.terminals_[symbol] || symbol)+ <span class="hljs-string">"'"</span>;
                } <span class="hljs-keyword">else</span> {
                    errStr = <span class="hljs-string">'Parse error on line '</span>+(yylineno+<span class="hljs-number">1</span>)+<span class="hljs-string">": Unexpected "</span> +
                                  (symbol == EOF ? <span class="hljs-string">"end of input"</span> :
                                              (<span class="hljs-string">"'"</span>+(<span class="hljs-keyword">this</span>.terminals_[symbol] || symbol)+<span class="hljs-string">"'"</span>));
                }
                <span class="hljs-keyword">this</span>.parseError(errStr, {
                    text: lexer.match,
                    token: <span class="hljs-keyword">this</span>.terminals_[symbol] || symbol,
                    line: lexer.yylineno,
                    loc: yyloc,
                    expected: expected,
                    recoverable: (error_rule_depth !== <span class="hljs-literal">false</span>)
                });
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (preErrorSymbol !== EOF) {
                error_rule_depth = locateNearestErrorRecoveryRule(state);
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-560">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-560">&#182;</a>
              </div>
              <p>just recovered from another error</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (recovering == <span class="hljs-number">3</span>) {
                <span class="hljs-keyword">if</span> (symbol === EOF || preErrorSymbol === EOF) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(errStr || <span class="hljs-string">'Parsing halted while starting to recover from another error.'</span>);
                }</pre></div></div>
            
        </li>
        
        
        <li id="section-561">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-561">&#182;</a>
              </div>
              <p>discard current lookahead and grab another</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                yyleng = lexer.yyleng;
                yytext = lexer.yytext;
                yylineno = lexer.yylineno;
                yyloc = lexer.yylloc;
                symbol = lex();
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-562">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-562">&#182;</a>
              </div>
              <p>try to recover from error</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (error_rule_depth === <span class="hljs-literal">false</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(errStr || <span class="hljs-string">'Parsing halted. No suitable error recovery rule available.'</span>);
            }
            popStack(error_rule_depth);

            preErrorSymbol = (symbol == TERROR ? <span class="hljs-literal">null</span> : symbol); <span class="hljs-comment">// save the lookahead token</span>
            symbol = TERROR;         <span class="hljs-comment">// insert generic error symbol as new lookahead</span>
            state = stack[stack.length<span class="hljs-number">-1</span>];
            action = table[state] &amp;&amp; table[state][TERROR];
            recovering = <span class="hljs-number">3</span>; <span class="hljs-comment">// allow 3 real symbols to be shifted before reporting a new error</span>
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-563">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-563">&#182;</a>
              </div>
              <p>this shouldn’t happen, unless resolve defaults are off</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (action[<span class="hljs-number">0</span>] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> &amp;&amp; action.length &gt; <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Parse Error: multiple actions possible at state: '</span>+state+<span class="hljs-string">', token: '</span>+symbol);
        }

        <span class="hljs-keyword">switch</span> (action[<span class="hljs-number">0</span>]) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-comment">// shift</span></pre></div></div>
            
        </li>
        
        
        <li id="section-564">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-564">&#182;</a>
              </div>
              <p>this.shiftCount++;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
                stack.push(symbol);
                vstack.push(lexer.yytext);
                lstack.push(lexer.yylloc);
                stack.push(action[<span class="hljs-number">1</span>]); <span class="hljs-comment">// push state</span>
                symbol = <span class="hljs-literal">null</span>;
                <span class="hljs-keyword">if</span> (!preErrorSymbol) { <span class="hljs-comment">// normal execution/no error</span>
                    yyleng = lexer.yyleng;
                    yytext = lexer.yytext;
                    yylineno = lexer.yylineno;
                    yyloc = lexer.yylloc;
                    <span class="hljs-keyword">if</span> (recovering &gt; <span class="hljs-number">0</span>) {
                        recovering--;
                    }
                } <span class="hljs-keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-565">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-565">&#182;</a>
              </div>
              <p>error just occurred, resume old lookahead f/ before error</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    symbol = preErrorSymbol;
                    preErrorSymbol = <span class="hljs-literal">null</span>;
                }
                <span class="hljs-keyword">break</span>;

            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-566">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-566">&#182;</a>
              </div>
              <p>reduce
this.reductionCount++;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
                len = <span class="hljs-keyword">this</span>.productions_[action[<span class="hljs-number">1</span>]][<span class="hljs-number">1</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-567">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-567">&#182;</a>
              </div>
              <p>perform semantic action</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                yyval.$ = vstack[vstack.length-len]; <span class="hljs-comment">// default to $$ = $1</span></pre></div></div>
            
        </li>
        
        
        <li id="section-568">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-568">&#182;</a>
              </div>
              <p>default location, uses first token for firsts, last for lasts</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                yyval._$ = {
                    first_line: lstack[lstack.length-(len||<span class="hljs-number">1</span>)].first_line,
                    last_line: lstack[lstack.length<span class="hljs-number">-1</span>].last_line,
                    first_column: lstack[lstack.length-(len||<span class="hljs-number">1</span>)].first_column,
                    last_column: lstack[lstack.length<span class="hljs-number">-1</span>].last_column
                };
                <span class="hljs-keyword">if</span> (ranges) {
                  yyval._$.range = [lstack[lstack.length-(len||<span class="hljs-number">1</span>)].range[<span class="hljs-number">0</span>], lstack[lstack.length<span class="hljs-number">-1</span>].range[<span class="hljs-number">1</span>]];
                }
                r = <span class="hljs-keyword">this</span>.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[<span class="hljs-number">1</span>], vstack, lstack].concat(args));

                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> r !== <span class="hljs-string">'undefined'</span>) {
                    <span class="hljs-keyword">return</span> r;
                }</pre></div></div>
            
        </li>
        
        
        <li id="section-569">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-569">&#182;</a>
              </div>
              <p>pop off stack</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">if</span> (len) {
                    stack = stack.slice(<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>*len*<span class="hljs-number">2</span>);
                    vstack = vstack.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>*len);
                    lstack = lstack.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>*len);
                }

                stack.push(<span class="hljs-keyword">this</span>.productions_[action[<span class="hljs-number">1</span>]][<span class="hljs-number">0</span>]);    <span class="hljs-comment">// push nonterminal (reduce)</span>
                vstack.push(yyval.$);
                lstack.push(yyval._$);</pre></div></div>
            
        </li>
        
        
        <li id="section-570">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-570">&#182;</a>
              </div>
              <p>goto new state = table[STATE][NONTERMINAL]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                newState = table[stack[stack.length<span class="hljs-number">-2</span>]][stack[stack.length<span class="hljs-number">-1</span>]];
                stack.push(newState);
                <span class="hljs-keyword">break</span>;

            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-571">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-571">&#182;</a>
              </div>
              <p>accept</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }

    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
};

parser.init = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parser_init</span> (<span class="hljs-params">dict</span>) </span>{
    <span class="hljs-keyword">this</span>.table = dict.table;
    <span class="hljs-keyword">this</span>.defaultActions = dict.defaultActions;
    <span class="hljs-keyword">this</span>.performAction = dict.performAction;
    <span class="hljs-keyword">this</span>.productions_ = dict.productions_;
    <span class="hljs-keyword">this</span>.symbols_ = dict.symbols_;
    <span class="hljs-keyword">this</span>.terminals_ = dict.terminals_;
};

<span class="hljs-comment">/*
 * LR(0) Parser
 * */</span>

<span class="hljs-keyword">var</span> lr0 = generator.beget(lookaheadMixin, lrGeneratorMixin, {
    type: <span class="hljs-string">"LR(0)"</span>,
    afterconstructor: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lr0_afterconstructor</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.buildTable();
    }
});

<span class="hljs-keyword">var</span> LR0Generator = exports.LR0Generator = lr0.construct();

<span class="hljs-comment">/*
 * Simple LALR(1)
 * */</span>

<span class="hljs-keyword">var</span> lalr = generator.beget(lookaheadMixin, lrGeneratorMixin, {
    type: <span class="hljs-string">"LALR(1)"</span>,

    afterconstructor: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">grammar, options</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.DEBUG) <span class="hljs-keyword">this</span>.mix(lrGeneratorDebug, lalrGeneratorDebug); <span class="hljs-comment">// mixin debug methods</span>

        options = options || {};
        <span class="hljs-keyword">this</span>.states = <span class="hljs-keyword">this</span>.canonicalCollection();
        <span class="hljs-keyword">this</span>.terms_ = {};

        <span class="hljs-keyword">var</span> newg = <span class="hljs-keyword">this</span>.newg = typal.beget(lookaheadMixin,{
            oldg: <span class="hljs-keyword">this</span>,
            trace: <span class="hljs-keyword">this</span>.trace,
            nterms_: {},
            DEBUG: <span class="hljs-literal">false</span>,
            go_: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">r, B</span>) </span>{
                r = r.split(<span class="hljs-string">":"</span>)[<span class="hljs-number">0</span>]; <span class="hljs-comment">// grab state #</span>
                B = B.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">b</span>) </span>{ <span class="hljs-keyword">return</span> b.slice(b.indexOf(<span class="hljs-string">":"</span>)+<span class="hljs-number">1</span>); });
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.oldg.go(r, B);
            }
        });
        newg.nonterminals = {};
        newg.productions = [];

        <span class="hljs-keyword">this</span>.inadequateStates = [];</pre></div></div>
            
        </li>
        
        
        <li id="section-572">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-572">&#182;</a>
              </div>
              <p>if true, only lookaheads in inadequate states are computed (faster, larger table)
if false, lookaheads for all reductions will be computed (slower, smaller table)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">this</span>.onDemandLookahead = options.onDemandLookahead || <span class="hljs-literal">false</span>;

        <span class="hljs-keyword">this</span>.buildNewGrammar();
        newg.computeLookaheads();
        <span class="hljs-keyword">this</span>.unionLookaheads();

        <span class="hljs-keyword">this</span>.table = <span class="hljs-keyword">this</span>.parseTable(<span class="hljs-keyword">this</span>.states);
        <span class="hljs-keyword">this</span>.defaultActions = findDefaults(<span class="hljs-keyword">this</span>.table);
    },

    lookAheads: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LALR_lookaheads</span> (<span class="hljs-params">state, item</span>) </span>{
        <span class="hljs-keyword">return</span> (!!<span class="hljs-keyword">this</span>.onDemandLookahead &amp;&amp; !state.inadequate) ? <span class="hljs-keyword">this</span>.terminals : item.follows;
    },
    go: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LALR_go</span> (<span class="hljs-params">p, w</span>) </span>{
        <span class="hljs-keyword">var</span> q = <span class="hljs-built_in">parseInt</span>(p, <span class="hljs-number">10</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;w.length;i++) {
            q = <span class="hljs-keyword">this</span>.states.item(q).edges[w[i]] || q;
        }
        <span class="hljs-keyword">return</span> q;
    },
    goPath: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LALR_goPath</span> (<span class="hljs-params">p, w</span>) </span>{
        <span class="hljs-keyword">var</span> q = <span class="hljs-built_in">parseInt</span>(p, <span class="hljs-number">10</span>),t,
            path = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;w.length;i++) {
            t = w[i] ? q+<span class="hljs-string">":"</span>+w[i] : <span class="hljs-string">''</span>;
            <span class="hljs-keyword">if</span> (t) <span class="hljs-keyword">this</span>.newg.nterms_[t] = q;
            path.push(t);
            q = <span class="hljs-keyword">this</span>.states.item(q).edges[w[i]] || q;
            <span class="hljs-keyword">this</span>.terms_[t] = w[i];
        }
        <span class="hljs-keyword">return</span> {path: path, endState: q};
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-573">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-573">&#182;</a>
              </div>
              <p>every disjoint reduction of a nonterminal becomes a produciton in G’</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    buildNewGrammar: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LALR_buildNewGrammar</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>,
            newg = <span class="hljs-keyword">this</span>.newg;

        <span class="hljs-keyword">this</span>.states.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">state, i</span>) </span>{
            state.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{
                <span class="hljs-keyword">if</span> (item.dotPosition === <span class="hljs-number">0</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-574">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-574">&#182;</a>
              </div>
              <p>new symbols are a combination of state and transition symbol</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    <span class="hljs-keyword">var</span> symbol = i+<span class="hljs-string">":"</span>+item.production.symbol;
                    self.terms_[symbol] = item.production.symbol;
                    newg.nterms_[symbol] = i;
                    <span class="hljs-keyword">if</span> (!newg.nonterminals[symbol])
                        newg.nonterminals[symbol] = <span class="hljs-keyword">new</span> Nonterminal(symbol);
                    <span class="hljs-keyword">var</span> pathInfo = self.goPath(i, item.production.handle);
                    <span class="hljs-keyword">var</span> p = <span class="hljs-keyword">new</span> Production(symbol, pathInfo.path, newg.productions.length);
                    newg.productions.push(p);
                    newg.nonterminals[symbol].productions.push(p);</pre></div></div>
            
        </li>
        
        
        <li id="section-575">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-575">&#182;</a>
              </div>
              <p>store the transition that get’s ‘backed up to’ after reduction on path</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    <span class="hljs-keyword">var</span> handle = item.production.handle.join(<span class="hljs-string">' '</span>);
                    <span class="hljs-keyword">var</span> goes = self.states.item(pathInfo.endState).goes;
                    <span class="hljs-keyword">if</span> (!goes[handle])
                        goes[handle] = [];
                    goes[handle].push(symbol);</pre></div></div>
            
        </li>
        
        
        <li id="section-576">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-576">&#182;</a>
              </div>
              <p>self.trace(‘new production:’,p);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                }
            });
            <span class="hljs-keyword">if</span> (state.inadequate)
                self.inadequateStates.push(i);
        });
    },
    unionLookaheads: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LALR_unionLookaheads</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>,
            newg = <span class="hljs-keyword">this</span>.newg,
            states = !!<span class="hljs-keyword">this</span>.onDemandLookahead ? <span class="hljs-keyword">this</span>.inadequateStates : <span class="hljs-keyword">this</span>.states;

        states.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">union_states_forEach</span> (<span class="hljs-params">i</span>) </span>{
            <span class="hljs-keyword">var</span> state = <span class="hljs-keyword">typeof</span> i === <span class="hljs-string">'number'</span> ? self.states.item(i) : i,
                follows = [];
            <span class="hljs-keyword">if</span> (state.reductions.length)
            state.reductions.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">union_reduction_forEach</span> (<span class="hljs-params">item</span>) </span>{
                <span class="hljs-keyword">var</span> follows = {};
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k=<span class="hljs-number">0</span>;k&lt;item.follows.length;k++) {
                    follows[item.follows[k]] = <span class="hljs-literal">true</span>;
                }
                state.goes[item.production.handle.join(<span class="hljs-string">' '</span>)].forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reduction_goes_forEach</span> (<span class="hljs-params">symbol</span>) </span>{
                    newg.nonterminals[symbol].follows.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">goes_follows_forEach</span> (<span class="hljs-params">symbol</span>) </span>{
                        <span class="hljs-keyword">var</span> terminal = self.terms_[symbol];
                        <span class="hljs-keyword">if</span> (!follows[terminal]) {
                            follows[terminal]=<span class="hljs-literal">true</span>;
                            item.follows.push(terminal);
                        }
                    });
                });</pre></div></div>
            
        </li>
        
        
        <li id="section-577">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-577">&#182;</a>
              </div>
              <p>self.trace(‘unioned item’, item);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            });
        });
    }
});

<span class="hljs-keyword">var</span> LALRGenerator = exports.LALRGenerator = lalr.construct();</pre></div></div>
            
        </li>
        
        
        <li id="section-578">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-578">&#182;</a>
              </div>
              <p>LALR generator debug mixin</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> lalrGeneratorDebug = {
    trace: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trace</span> (<span class="hljs-params"></span>) </span>{
        Jison.print.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>);
    },
    beforebuildNewGrammar: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.trace(<span class="hljs-keyword">this</span>.states.size()+<span class="hljs-string">" states."</span>);
        <span class="hljs-keyword">this</span>.trace(<span class="hljs-string">"Building lookahead grammar."</span>);
    },
    beforeunionLookaheads: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.trace(<span class="hljs-string">"Computing lookaheads."</span>);
    }
};

<span class="hljs-comment">/*
 * Lookahead parser definitions
 *
 * Define base type
 * */</span>
<span class="hljs-keyword">var</span> lrLookaheadGenerator = generator.beget(lookaheadMixin, lrGeneratorMixin, {
    afterconstructor: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lr_aftercontructor</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.computeLookaheads();
        <span class="hljs-keyword">this</span>.buildTable();
    }
});

<span class="hljs-comment">/*
 * SLR Parser
 * */</span>
<span class="hljs-keyword">var</span> SLRGenerator = exports.SLRGenerator = lrLookaheadGenerator.construct({
    type: <span class="hljs-string">"SLR(1)"</span>,

    lookAheads: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SLR_lookAhead</span> (<span class="hljs-params">state, item</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.nonterminals[item.production.symbol].follows;
    }
});


<span class="hljs-comment">/*
 * LR(1) Parser
 * */</span>
<span class="hljs-keyword">var</span> lr1 = lrLookaheadGenerator.beget({
    type: <span class="hljs-string">"Canonical LR(1)"</span>,

    lookAheads: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LR_lookAheads</span> (<span class="hljs-params">state, item</span>) </span>{
        <span class="hljs-keyword">return</span> item.follows;
    },
    Item: lrGeneratorMixin.Item.prototype.construct({
        afterconstructor: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">this</span>.id = <span class="hljs-keyword">this</span>.production.id+<span class="hljs-string">'a'</span>+<span class="hljs-keyword">this</span>.dotPosition+<span class="hljs-string">'a'</span>+<span class="hljs-keyword">this</span>.follows.sort().join(<span class="hljs-string">','</span>);
        },
        eq: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">return</span> e.id === <span class="hljs-keyword">this</span>.id;
        }
    }),

    closureOperation: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LR_ClosureOperation</span> (<span class="hljs-params">itemSet <span class="hljs-comment">/*, closureSet*/</span></span>) </span>{
        <span class="hljs-keyword">var</span> closureSet = <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>.ItemSet();
        <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;

        <span class="hljs-keyword">var</span> set = itemSet,
            itemQueue, syms = {};

        <span class="hljs-keyword">do</span> {
        itemQueue = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>();
        closureSet.concat(set);
        set.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{
            <span class="hljs-keyword">var</span> symbol = item.markedSymbol;
            <span class="hljs-keyword">var</span> b, r;</pre></div></div>
            
        </li>
        
        
        <li id="section-579">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-579">&#182;</a>
              </div>
              <p>if token is a nonterminal, recursively add closures</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (symbol &amp;&amp; self.nonterminals[symbol]) {
                r = item.remainingHandle();
                b = self.first(item.remainingHandle());
                <span class="hljs-keyword">if</span> (b.length === <span class="hljs-number">0</span> || item.production.nullable || self.nullable(r)) {
                    b = b.concat(item.follows);
                }
                self.nonterminals[symbol].productions.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">production</span>) </span>{
                    <span class="hljs-keyword">var</span> newItem = <span class="hljs-keyword">new</span> self.Item(production, <span class="hljs-number">0</span>, b);
                    <span class="hljs-keyword">if</span>(!closureSet.contains(newItem) &amp;&amp; !itemQueue.contains(newItem)) {
                        itemQueue.push(newItem);
                    }
                });
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!symbol) {</pre></div></div>
            
        </li>
        
        
        <li id="section-580">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-580">&#182;</a>
              </div>
              <p>reduction</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                closureSet.reductions.push(item);
            }
        });

        set = itemQueue;
        } <span class="hljs-keyword">while</span> (!itemQueue.isEmpty());

        <span class="hljs-keyword">return</span> closureSet;
    }
});

<span class="hljs-keyword">var</span> LR1Generator = exports.LR1Generator = lr1.construct();

<span class="hljs-comment">/*
 * LL Parser
 * */</span>
<span class="hljs-keyword">var</span> ll = generator.beget(lookaheadMixin, {
    type: <span class="hljs-string">"LL(1)"</span>,

    afterconstructor: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ll_aftercontructor</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.computeLookaheads();
        <span class="hljs-keyword">this</span>.table = <span class="hljs-keyword">this</span>.parseTable(<span class="hljs-keyword">this</span>.productions);
    },
    parseTable: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">llParseTable</span> (<span class="hljs-params">productions</span>) </span>{
        <span class="hljs-keyword">var</span> table = {},
            self = <span class="hljs-keyword">this</span>;
        productions.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">production, i</span>) </span>{
            <span class="hljs-keyword">var</span> row = table[production.symbol] || {};
            <span class="hljs-keyword">var</span> tokens = production.first;
            <span class="hljs-keyword">if</span> (self.nullable(production.handle)) {
                <span class="hljs-built_in">Set</span>.union(tokens, self.nonterminals[production.symbol].follows);
            }
            tokens.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">token</span>) </span>{
                <span class="hljs-keyword">if</span> (row[token]) {
                    row[token].push(i);
                    self.conflicts++;
                } <span class="hljs-keyword">else</span> {
                    row[token] = [i];
                }
            });
            table[production.symbol] = row;
        });

        <span class="hljs-keyword">return</span> table;
    }
});

<span class="hljs-keyword">var</span> LLGenerator = exports.LLGenerator = ll.construct();

Jison.Generator = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Jison_Generator</span> (<span class="hljs-params">g, options</span>) </span>{
    <span class="hljs-keyword">var</span> opt = typal.mix.call({}, g.options, options);
    <span class="hljs-keyword">switch</span> (opt.type) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'lr0'</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> LR0Generator(g, opt);
        <span class="hljs-keyword">case</span> <span class="hljs-string">'slr'</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> SLRGenerator(g, opt);
        <span class="hljs-keyword">case</span> <span class="hljs-string">'lr'</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> LR1Generator(g, opt);
        <span class="hljs-keyword">case</span> <span class="hljs-string">'ll'</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> LLGenerator(g, opt);
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> LALRGenerator(g, opt);
    }
};

<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Parser</span> (<span class="hljs-params">g, options</span>) </span>{
        <span class="hljs-keyword">var</span> gen = Jison.Generator(g, options);
        <span class="hljs-keyword">return</span> gen.createParser();
    };

})();

}).call(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">require</span>(<span class="hljs-string">'_process'</span>))
},{<span class="hljs-string">"../package.json"</span>:<span class="hljs-number">28</span>,<span class="hljs-string">"./util/set"</span>:<span class="hljs-number">26</span>,<span class="hljs-string">"./util/typal"</span>:<span class="hljs-number">27</span>,<span class="hljs-string">"JSONSelect"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"_process"</span>:<span class="hljs-number">32</span>,<span class="hljs-string">"ebnf-parser"</span>:<span class="hljs-number">3</span>,<span class="hljs-string">"escodegen"</span>:<span class="hljs-number">7</span>,<span class="hljs-string">"esprima"</span>:<span class="hljs-number">19</span>,<span class="hljs-string">"fs"</span>:<span class="hljs-number">30</span>,<span class="hljs-string">"jison-lex"</span>:<span class="hljs-number">25</span>,<span class="hljs-string">"path"</span>:<span class="hljs-number">31</span>}]},{},[]);</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
